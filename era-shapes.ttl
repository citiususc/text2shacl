@prefix era: <http://data.europa.eu/949/> .
@prefix era-sh: <http://data.europa.eu/949/shapes/> .
@prefix geosparql: <http://www.opengis.net/ont/geosparql#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix wgs1: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

era-sh:BodyRoleShape a sh:NodeShape ;
    sh:targetClass era:Body .

era-sh:BodyShape sh:property era-sh:Role .

era-sh:CommonCharacteristicsSubsetShape a sh:NodeShape ;
    sh:property era-sh:AccelerationLevelCrossing,
        era-sh:AdditionalBrakingInformationDocument,
        era-sh:AreaBoardingAid,
        era-sh:AssistanceStartingTrain,
        era-sh:AtoCommunicationSystem,
        era-sh:AtoGradeAutomation,
        era-sh:AtoSystemVersion,
        era-sh:AutomaticDroppingDeviceRequired,
        era-sh:BigMetalMass,
        era-sh:CantDeficiency,
        era-sh:CantDeficiencyBasicSSP,
        era-sh:CompatibilityProcedureDocument,
        era-sh:ComplianceInfTsiP,
        era-sh:ConditionalRegenerativeBrake,
        era-sh:ConditionsSwitchClassBSystems,
        era-sh:ConditionsSwitchTrainProtectionSystems,
        era-sh:ConditionsUseReflectivePlates,
        era-sh:ContactLineSystem,
        era-sh:ContactStripMaterialMetallicContent,
        era-sh:Contains,
        era-sh:CrossSectionAreaT,
        era-sh:CurrentLimitationRequired,
        era-sh:DNvovtrp,
        era-sh:DNvpotrp,
        era-sh:DNvroll,
        era-sh:DataRadioCompatible,
        era-sh:DemonstrationENE,
        era-sh:DemonstrationINF,
        era-sh:DemonstrationINFS,
        era-sh:DemonstrationSRT,
        era-sh:DieselThermalAllowed,
        era-sh:DistSignToPhaseEnd,
        era-sh:DocumentRestrictionPositionContactLineSeparation,
        era-sh:DocumentRestrictionPowerConsumption,
        era-sh:EddyCurrentBraking,
        era-sh:EddyCurrentBrakingConditionsDocument,
        era-sh:ErrorCorrectionsOnboard,
        era-sh:ErrorCorrectionsOnboardExplanation,
        era-sh:Etcs,
        era-sh:EtcsDegradedSituation,
        era-sh:EtcsImplementsLevelCrossingProcedure,
        era-sh:EtcsInfillLineAccess,
        era-sh:EtcsNationalPacket44Function,
        era-sh:EtcsRestrictionsConditionsDoc,
        era-sh:FlangeLubeForbidden,
        era-sh:FreightCorridorShape,
        era-sh:GaugingCheckLocation,
        era-sh:GaugingProfile,
        era-sh:GaugingTransversalDocument,
        era-sh:GprsForETCS,
        era-sh:GprsImplementationArea,
        era-sh:Gradient,
        era-sh:GradientProfile,
        era-sh:GsmRActiveMobiles,
        era-sh:GsmRAdditionalInfo,
        era-sh:GsmRNoCoverage,
        era-sh:GsmROptionalFunctions,
        era-sh:GsmRVersion,
        era-sh:GsmrForcedDeregistrationFunctionalNumber,
        era-sh:GsmrNetworkCoverage,
        era-sh:HasAdditionalBrakingInformation,
        era-sh:HasBallast,
        era-sh:HasBeginning,
        era-sh:HasETCSRestrictionsConditions,
        era-sh:HasElectricShoreSupply,
        era-sh:HasEmergencyPlan,
        era-sh:HasEnd,
        era-sh:HasEtcsNationalPacket44,
        era-sh:HasEvacuationAndRescuePoints,
        era-sh:HasExternalCleaning,
        era-sh:HasHotAxleBoxDetector,
        era-sh:HasLevelCrossings,
        era-sh:HasPhaseSeparation,
        era-sh:HasPlatformCurvature,
        era-sh:HasRefuelling,
        era-sh:HasSandRestocking,
        era-sh:HasSevereWeatherConditions,
        era-sh:HasSystemSeparation,
        era-sh:HasTSITrainDetection,
        era-sh:HasToiletDischarge,
        era-sh:HasWalkway,
        era-sh:HasWaterRestocking,
        era-sh:HighSpeedLoadModelCompliance,
        era-sh:HotAxleBoxDetectorDirection,
        era-sh:HotAxleBoxDetectorGeneration,
        era-sh:HotAxleBoxDetectorIdentification,
        era-sh:HotAxleBoxDetectorLocation,
        era-sh:HotAxleBoxDetectorTSICompliant,
        era-sh:InstructionsSwitchRadioSystems,
        era-sh:IsQuietRoute,
        era-sh:LegacyRadioSystem,
        era-sh:LineCategory,
        era-sh:LinesideDistanceIndication,
        era-sh:LocalRulesOrRestrictions,
        era-sh:LocalRulesOrRestrictionsDoc,
        era-sh:MNvcontact,
        era-sh:MNvderun,
        era-sh:MagneticBraking,
        era-sh:MagneticBrakingConditionsDocument,
        era-sh:MaxCurrentStandstillPantographS,
        era-sh:MaximumAltitude,
        era-sh:MaximumBrakingDistance,
        era-sh:MaximumPermittedSpeed,
        era-sh:MaximumTrainDeceleration,
        era-sh:MinimumHorizontalRadius,
        era-sh:MinimumHorizontalRadiusS,
        era-sh:MinimumVerticalRadius,
        era-sh:MinimumWheelDiameter,
        era-sh:NationalLoadCapability,
        era-sh:NationalRollingStockFireCategory,
        era-sh:NationalValuesBrakeModel,
        era-sh:OfParameter,
        era-sh:OtherCantDeficiencyBasicSSP,
        era-sh:OtherTrainProtection,
        era-sh:ParameterApplicability,
        era-sh:ParameterValue,
        era-sh:ParameterValueType,
        era-sh:PermittedContactForce,
        era-sh:PlatformHeightP,
        era-sh:PublicNetworkRoaming,
        era-sh:PublicNetworkRoamingDetails,
        era-sh:QNvdriverAdhes,
        era-sh:QNvemrrls,
        era-sh:QNvsbtsmperm,
        era-sh:RadioNetworkId,
        era-sh:RailInclination,
        era-sh:ReasonsEtcsRadioBlockCenterReject,
        era-sh:RedLightsRequired,
        era-sh:RollingStockFireCategory,
        era-sh:SafeConsistLengthInformationNecessary,
        era-sh:SpecificInformation,
        era-sh:StandardCombinedRollerUnits,
        era-sh:StandardCombinedTransportContainers,
        era-sh:StructureCheckLocation,
        era-sh:SubsetOf,
        era-sh:SwitchProtectControlWarning,
        era-sh:SwitchRadioSystem,
        era-sh:TNvcontact,
        era-sh:TNvovtrp,
        era-sh:TSISwitchCrossing,
        era-sh:TemperatureRange,
        era-sh:TenClassificationP,
        era-sh:TenClassificationS,
        era-sh:TenClassificationT,
        era-sh:TenGISId,
        era-sh:TiltingSupported,
        era-sh:TrackLoadCapability,
        era-sh:TrackPhaseInfo,
        era-sh:TrackRaisedPantographsDistanceAndSpeed,
        era-sh:TrackSystemSeparationInfo,
        era-sh:TrainDetectionSystem,
        era-sh:TrainIntegrityOnBoardRequired,
        era-sh:TsiMagneticFields,
        era-sh:TsiTractionHarmonics,
        era-sh:TunnelDocRef,
        era-sh:UsesGroup555,
        era-sh:VNvallowovtrp,
        era-sh:VNvsupovtrp,
        era-sh:VerificationCCS,
        era-sh:VerificationENE,
        era-sh:VerificationINF,
        era-sh:VerificationINFS,
        era-sh:VerificationSRT,
        era-sh:VoiceRadioCompatible,
        era-sh:WheelSetGauge ;
    sh:sparql era-sh:AccelerationLevelCrossingApplicability,
        era-sh:AdditionalBrakingInformationDocumentApplicability,
        era-sh:AtoCommunicationSystemSKOS,
        era-sh:AtoGradeAutomationSKOS,
        era-sh:AtoSystemVersionSKOS,
        era-sh:AutomaticDroppingDeviceRequiredApplicability,
        era-sh:BigMetalMassApplicability,
        era-sh:CantDeficiencyBasicSSPApplicability,
        era-sh:CantDeficiencyBasicSSPSKOS,
        era-sh:ComplianceInfTsiApplicability,
        era-sh:ConditionalRegenerativeBrakeSKOS,
        era-sh:ConditionsSwitchClassBSystemsApplicability,
        era-sh:ConditionsUseReflectivePlatesSKOS,
        era-sh:ContactStripMaterialApplicability,
        era-sh:ContactStripMaterialSKOS,
        era-sh:CrossSectionAreaApplicability,
        era-sh:CurrentLimitationRequiredApplicability,
        era-sh:DNvovtrpApplicability,
        era-sh:DNvpotrpApplicability,
        era-sh:DNvrollApplicability,
        era-sh:DataRadioCompatibleApplicability,
        era-sh:DataRadioCompatibleSKOS,
        era-sh:EddyCurrentBrakingConditionsDocumentApplicability,
        era-sh:EddyCurrentBrakingSKOS,
        era-sh:ErrorCorrectionsOnboardSKOS,
        era-sh:EtcsDegradedSituationApplicability,
        era-sh:EtcsDegradedSituationSKOS,
        era-sh:EtcsImplementsLevelCrossingProcedureApplicability,
        era-sh:EtcsInfillLineAccessApplicability,
        era-sh:EtcsNationalPacket44FunctionSKOS,
        era-sh:EtcsRestrictionsConditionsDocApplicability,
        era-sh:FreightCorridorSKOS,
        era-sh:GaugingProfileSKOS,
        era-sh:GprsForETCSApplicability,
        era-sh:GprsImplementationAreaApplicability,
        era-sh:GsmRActiveMobilesApplicability,
        era-sh:GsmRActiveMobilesSKOS,
        era-sh:GsmRAdditionalInfoApplicability,
        era-sh:GsmRNoCoverageApplicability,
        era-sh:GsmROptionalFunctionsApplicability,
        era-sh:GsmROptionalFunctionsSKOS,
        era-sh:GsmRVersionSKOS,
        era-sh:GsmrConstraintsOperateOnlyInCircuitSwitchApplicability,
        era-sh:GsmrForcedDeregistrationFunctionalNumberApplicability,
        era-sh:GsmrNetworkCoverageApplicability,
        era-sh:GsmrNetworkCoverageSKOS,
        era-sh:HasBallastApplicability,
        era-sh:HasETCSRestrictionsConditionsApplicability,
        era-sh:HasEmergencyPlanApplicability,
        era-sh:HasEtcsNationalPacket44Applicability,
        era-sh:HasPhaseSeparationApplicability,
        era-sh:HasSystemSeparationApplicability,
        era-sh:HotAxleBoxDetectorDirectionApplicability,
        era-sh:HotAxleBoxDetectorDirectionSKOS,
        era-sh:HotAxleBoxDetectorGenerationApplicability,
        era-sh:HotAxleBoxDetectorIdentificationApplicability,
        era-sh:HotAxleBoxDetectorLocationApplicability,
        era-sh:InstructionsSwitchRadioSystemsApplicability,
        era-sh:LegacyRadioSystemSKOS,
        era-sh:LineCategorySKOS,
        era-sh:LinesideDistanceIndicationAppearanceSKOS,
        era-sh:LinesideDistanceIndicationPositioningSKOS,
        era-sh:LoadCapabilityLineCategorySKOS,
        era-sh:MNvcontactApplicability,
        era-sh:MNvcontactSKOS,
        era-sh:MNvderunApplicability,
        era-sh:MagneticBrakingConditionsDocumentApplicability,
        era-sh:MagneticBrakingSKOS,
        era-sh:NationalRollingStockFireCategoryApplicability,
        era-sh:NationalValuesBrakeModelApplicability,
        era-sh:OtherCantDeficiencyBasicSSPApplicability,
        era-sh:OtherCantDeficiencyBasicSSPSKOS,
        era-sh:OtherPantographHeadApplicability,
        era-sh:OtherPantographHeadSKOS,
        era-sh:OtherTrainProtectionApplicability,
        era-sh:OtherTrainProtectionSKOS,
        era-sh:ParameterValueTypeSKOS,
        era-sh:PermittedContactForceApplicability,
        era-sh:PlatformHeightSKOS,
        era-sh:ProfileNumberSemiTrailersSKOS,
        era-sh:ProfileNumberSwapBodiesSKOS,
        era-sh:ProtectionLegacySystemSKOS,
        era-sh:PublicNetworkRoamingApplicability,
        era-sh:PublicNetworkRoamingDetailsApplicability,
        era-sh:QNvdriverAdhesApplicability,
        era-sh:QNvdriverAdhesSKOS,
        era-sh:QNvemrrlsApplicability,
        era-sh:QNvemrrlsSKOS,
        era-sh:QNvsbtsmpermApplicability,
        era-sh:RadioNetworkIdApplicability,
        era-sh:RailInclinationSKOS,
        era-sh:ReasonsEtcsRadioBlockCenterRejectSKOS,
        era-sh:RollingStockFireCategoryApplicability,
        era-sh:RollingStockFireCategorySKOS,
        era-sh:SafeConsistLengthInformationNecessaryApplicability,
        era-sh:SafeConsistLengthInformationNecessarySKOS,
        era-sh:StandardCombinedRollerUnitsSKOS,
        era-sh:StandardCombinedTransportContainersSKOS,
        era-sh:SwitchProtectControlWarningApplicability,
        era-sh:SwitchRadioSystemApplicability,
        era-sh:TNvcontactApplicability,
        era-sh:TNvovtrpApplicability,
        era-sh:TemperatureRangeSKOS,
        era-sh:TenClassificationSKOSP,
        era-sh:TenClassificationSKOSS,
        era-sh:TenClassificationSKOST,
        era-sh:TenGISIdApplicability,
        era-sh:TrackPhaseInfoApplicability,
        era-sh:TrackRaisedPantographDistanceAndSpeedApplicability,
        era-sh:TrackSystemSeparationInfoApplicability,
        era-sh:TsiMagneticFieldsApplicability,
        era-sh:TsiPantographHeadApplicability,
        era-sh:TsiPantographHeadSKOS,
        era-sh:TsiTractionHarmonicsApplicability,
        era-sh:UsesGroup555Applicability,
        era-sh:VNvallowovtrpApplicability,
        era-sh:VNvsupovtrpApplicability,
        era-sh:VoiceRadioCompatibleApplicability,
        era-sh:VoiceRadioCompatibleSKOS,
        era-sh:WheelSetGaugeSKOS ;
    sh:targetClass era:CommonCharacteristicsSubset .

era-sh:ContactLineSystemShape a sh:NodeShape ;
    sh:property era-sh:ConditionsChargingElectricEnergyStorage,
        era-sh:ContactLineSystemType,
        era-sh:EnergySupplySystem,
        era-sh:EnergySupplySystemTSICompliant,
        era-sh:MaxCurrentStandstillPantograph,
        era-sh:MaximumContactWireHeight,
        era-sh:MaximumTrainCurrent,
        era-sh:MinimumContactWireHeight,
        era-sh:PermissionChargingElectricEnergyTractionStandstill,
        era-sh:Umax2 ;
    sh:sparql era-sh:ConditionsAppliedRegenerativeBrakingApplicability,
        era-sh:ContactLineSystemTypeNotElectrifiedApplicability,
        era-sh:ContactLineSystemTypeSKOS,
        era-sh:ContactLineSystemTypeThirdOrFourthRailApplicability,
        era-sh:EnergySupplySystemSKOS,
        era-sh:MaxCurrentStandstillPantographApplicability,
        era-sh:MaximumContactWireHeightApplicability,
        era-sh:MinimumContactWireHeightApplicability ;
    sh:targetClass era:ContactLineSystem .

era-sh:ETCSShape a sh:NodeShape ;
    sh:property era-sh:EtcsBaseline,
        era-sh:EtcsInfill,
        era-sh:EtcsLevelType,
        era-sh:EtcsMVersion,
        era-sh:EtcsSystemCompatibility,
        era-sh:EtcsTransmitsTrackConditions,
        era-sh:EtcsTransmittedTrackConditions ;
    sh:sparql era-sh:EtcsBaselineApplicability,
        era-sh:EtcsBaselineSKOS,
        era-sh:EtcsInfillApplicability,
        era-sh:EtcsInfillSKOS,
        era-sh:EtcsLevelTypeSKOS,
        era-sh:EtcsMVersionApplicability,
        era-sh:EtcsMVersionSKOS,
        era-sh:EtcsSystemCompatibilityApplicability,
        era-sh:EtcsSystemCompatibilitySKOS,
        era-sh:EtcsTransmitsTrackConditionsApplicability,
        era-sh:EtcsTransmittedTrackConditionsApplicability,
        era-sh:EtcsTransmittedTrackConditionsSKOS ;
    sh:targetClass era:ETCS .

era-sh:FeatureShape a sh:NodeShape ;
    sh:property era-sh:HasGeometry,
        era-sh:Validity ;
    sh:targetClass era:Feature .

era-sh:FrenchTrainDetectionSystemLimitationShape a sh:NodeShape ;
    sh:property era-sh:FrenchTrainDetectionSystemLimitationApplicable,
        era-sh:FrenchTrainDetectionSystemLimitationNumber ;
    sh:sparql era-sh:FrenchTrainDetectionSystemLimitationNumberSKOS ;
    sh:targetClass era:FrenchTrainDetectionSystemLimitation .

era-sh:GeometryShape a sh:NodeShape ;
    sh:property era-sh:AsWKT ;
    sh:targetClass geosparql:Geometry .

era-sh:InfrastructureElementShape a sh:NodeShape ;
    sh:property era-sh:BelongsTo,
        era-sh:HasPart,
        era-sh:InCountry,
        era-sh:IsPartOf,
        era-sh:NetReference,
        era-sh:ParameterApplicability,
        era-sh:PrimaryLocation ;
    sh:sparql era-sh:BelongsToUniqueIM,
        era-sh:InCountrySKOS,
        era-sh:InfrastructureManagerSKOSValue ;
    sh:targetClass era:InfrastructureElement .

era-sh:KilometricPostShape a sh:NodeShape ;
    sh:property era-sh:Kilometer,
        era-sh:KmPostName,
        era-sh:MeasuredDistance ;
    sh:targetClass era:KilometricPost .

era-sh:LinearElementSectionShape a sh:NodeShape ;
    sh:property era-sh:AppliesInBothDirections,
        era-sh:EndOffsetFromOrigin,
        era-sh:OnElement,
        era-sh:StartOffsetFromOrigin ;
    sh:targetClass era:LinearElementSection .

era-sh:LinearElementShape a sh:NodeShape ;
    sh:property era-sh:LengthOfNetLinearElement ;
    sh:targetClass era:LinearElement .

era-sh:LinearPositioningSystemCoordinateShape a sh:NodeShape ;
    sh:property era-sh:OffsetFromKilometricPost ;
    sh:targetClass era:LinearPositioningSystemCoordinate .

era-sh:LinearPositioningSystemShape a sh:NodeShape ;
    sh:property era-sh:KmPostName,
        era-sh:LineId,
        era-sh:LrsMethod ;
    sh:sparql era-sh:LrsMethodSKOS ;
    sh:targetClass era:LinearPositioningSystem .

era-sh:LinesideDistanceIndicationShape a sh:NodeShape ;
    sh:property era-sh:LinesideDistanceIndicationAppearance,
        era-sh:LinesideDistanceIndicationFrequency,
        era-sh:LinesideDistanceIndicationPositioning ;
    sh:targetClass era:LinesideDistanceIndication .

era-sh:LoadCapabilityShape a sh:NodeShape ;
    sh:property era-sh:LoadCapabilityLineCategory,
        era-sh:LoadCapabilitySpeed ;
    sh:targetClass era:LoadCapability .

era-sh:MaximumMagneticFieldShape a sh:NodeShape ;
    sh:property era-sh:MaximumMagneticFieldDirectionX,
        era-sh:MaximumMagneticFieldDirectionY,
        era-sh:MaximumMagneticFieldDirectionZ ;
    sh:targetClass era:MaximumMagneticField .

era-sh:MinVehicleImpedanceShape a sh:NodeShape ;
    sh:property era-sh:MinVehicleImpedanceVoltages,
        era-sh:MinVehicleInputCapacitance,
        era-sh:MinVehicleInputImpedance ;
    sh:sparql era-sh:MinVehicleImpedanceVoltagesApplicability,
        era-sh:MinVehicleImpedanceVoltagesSKOS,
        era-sh:MinVehicleInputCapacitanceApplicability,
        era-sh:MinVehicleInputImpedanceApplicability ;
    sh:targetClass era:MinVehicleImpedance .

era-sh:MinimumVerticalRadiusShape a sh:NodeShape ;
    sh:property era-sh:MinimumVerticalRadiusCrest,
        era-sh:MinimumVerticalRadiusHollow ;
    sh:targetClass era:MinimumVerticalRadius .

era-sh:NetAreaReferenceShape a sh:NodeShape ;
    sh:property era-sh:Includes ;
    sh:targetClass era:NetAreaReference .

era-sh:NetBasicReferenceShape a sh:NodeShape ;
    sh:targetClass era:NetBasicReference .

era-sh:NetElementShape a sh:NodeShape ;
    sh:targetClass era:NetElement .

era-sh:NetLinearReferenceShape a sh:NodeShape ;
    sh:property era-sh:EndsAt,
        era-sh:HasSequence,
        era-sh:StartsAt ;
    sh:targetClass era:NetLinearReference .

era-sh:NetPointReferenceShape a sh:NodeShape ;
    sh:property era-sh:AppliesToDirection,
        era-sh:HasLrsCoordinate,
        era-sh:HasTopoCoordinate ;
    sh:sparql era-sh:AppliesToDirectionSKOS ;
    sh:targetClass era:NetPointReference .

era-sh:NetRelationShape a sh:NodeShape ;
    sh:property era-sh:ElementA,
        era-sh:ElementB,
        era-sh:IsOnOriginOfElementA,
        era-sh:IsOnOriginOfElementB,
        era-sh:Navigability ;
    sh:sparql era-sh:NavigabilitySKOS ;
    sh:targetClass era:NetRelation .

era-sh:NonLinearElementShape a sh:NodeShape ;
    sh:property era-sh:Aggregates ;
    sh:targetClass era:NonLinearElement .

era-sh:OperationalPointShape a sh:NodeShape ;
    sh:property era-sh:DigitalSchematicOverview,
        era-sh:HasPartOP,
        era-sh:HasSchematicOverviewOPDigitalForm,
        era-sh:OpName,
        era-sh:OpTypeGaugeChangeover,
        era-sh:OpTypeP,
        era-sh:ReferenceBorderPoint,
        era-sh:UopidP ;
    sh:sparql era-sh:BorderPointValidCode,
        era-sh:NoRepeatedPlatformIdsOP,
        era-sh:NoRepeatedSidingIds,
        era-sh:NoRepeatedTrackIdsOP,
        era-sh:OpTypeSKOS,
        era-sh:UopidMin ;
    sh:targetClass era:OperationalPoint .

era-sh:OrganisationRoleShape a sh:NodeShape ;
    sh:property era-sh:HasOrganisationRole,
        era-sh:OrganisationCode,
        era-sh:RoleOf ;
    sh:sparql era-sh:HasOrganisationRoleSKOS ;
    sh:targetClass era:OrganisationRole .

era-sh:ParameterApplicabilityShape a sh:NodeShape ;
    sh:property era-sh:HasBeginning,
        era-sh:HasEnd,
        era-sh:OfParameter,
        era-sh:ParameterValue,
        era-sh:ParameterValueType ;
    sh:sparql era-sh:ParameterValueTypeSKOS ;
    sh:targetClass era:ParameterApplicability .

era-sh:PhaseInfoShape a sh:NodeShape ;
    sh:property era-sh:PhaseInfoChangeSupplySystem,
        era-sh:PhaseInfoDistanceType,
        era-sh:PhaseInfoKm,
        era-sh:PhaseInfoLength,
        era-sh:PhaseInfoPantographLowered,
        era-sh:PhaseInfoSwitchOffBreaker ;
    sh:targetClass era:PhaseInfo .

era-sh:PlatformEdgeShape a sh:NodeShape ;
    sh:property era-sh:AreaBoardingAid,
        era-sh:AssistanceStartingTrain,
        era-sh:HasPlatformCurvature,
        era-sh:LengthP,
        era-sh:PlatformHeightP,
        era-sh:PlatformId,
        era-sh:TenClassificationP ;
    sh:sparql era-sh:PlatformHeightSKOS,
        era-sh:TenClassificationSKOSP ;
    sh:targetClass era:PlatformEdge .

era-sh:PrimaryLocationShape a sh:NodeShape ;
    sh:property era-sh:ContainerHandlingFlag,
        era-sh:FreightFlag,
        era-sh:HandoverPointFlag,
        era-sh:PrimaryLocationCode,
        era-sh:PrimaryLocationName ;
    sh:targetClass era:PrimaryLocation .

era-sh:RadioBlockCenterShape a sh:NodeShape ;
    sh:property era-sh:RbcID,
        era-sh:RbcPhone ;
    sh:targetClass era:RadioBlockCenter .

era-sh:RaisedPantographsDistanceAndSpeedShape a sh:NodeShape ;
    sh:property era-sh:RaisedPantographsDistance,
        era-sh:RaisedPantographsNumber,
        era-sh:RaisedPantographsSpeed ;
    sh:targetClass era:RaisedPantographsDistanceAndSpeed .

era-sh:RunningTrackShape a sh:NodeShape ;
    sh:property era-sh:AccelerationLevelCrossing,
        era-sh:AdditionalBrakingInformationDocument,
        era-sh:AtoCommunicationSystem,
        era-sh:AtoGradeAutomation,
        era-sh:AtoSystemVersion,
        era-sh:AutomaticDroppingDeviceRequired,
        era-sh:BigMetalMass,
        era-sh:CantDeficiency,
        era-sh:CantDeficiencyBasicSSP,
        era-sh:CompatibilityProcedureDocument,
        era-sh:ConditionalRegenerativeBrake,
        era-sh:ConditionsSwitchClassBSystems,
        era-sh:ConditionsSwitchTrainProtectionSystems,
        era-sh:ConditionsUseReflectivePlates,
        era-sh:ContactLineSystem,
        era-sh:ContactStripMaterialMetallicContent,
        era-sh:CurrentLimitationRequired,
        era-sh:DNvovtrp,
        era-sh:DNvpotrp,
        era-sh:DNvroll,
        era-sh:DataRadioCompatible,
        era-sh:DemonstrationENE,
        era-sh:DemonstrationINF,
        era-sh:DistSignToPhaseEnd,
        era-sh:DocumentRestrictionPositionContactLineSeparation,
        era-sh:DocumentRestrictionPowerConsumption,
        era-sh:EddyCurrentBraking,
        era-sh:EddyCurrentBrakingConditionsDocument,
        era-sh:ErrorCorrectionsOnboard,
        era-sh:ErrorCorrectionsOnboardExplanation,
        era-sh:Etcs,
        era-sh:EtcsDegradedSituation,
        era-sh:EtcsImplementsLevelCrossingProcedure,
        era-sh:EtcsInfillLineAccess,
        era-sh:EtcsNationalPacket44Function,
        era-sh:EtcsRestrictionsConditionsDoc,
        era-sh:FlangeLubeForbidden,
        era-sh:FreightCorridorShape,
        era-sh:GaugingCheckLocation,
        era-sh:GaugingProfile,
        era-sh:GaugingTransversalDocument,
        era-sh:GprsForETCS,
        era-sh:GprsImplementationArea,
        era-sh:GradientProfile,
        era-sh:GsmRActiveMobiles,
        era-sh:GsmRAdditionalInfo,
        era-sh:GsmRNoCoverage,
        era-sh:GsmROptionalFunctions,
        era-sh:GsmRVersion,
        era-sh:GsmrForcedDeregistrationFunctionalNumber,
        era-sh:GsmrNetworkCoverage,
        era-sh:HasAdditionalBrakingInformation,
        era-sh:HasBallast,
        era-sh:HasBridge,
        era-sh:HasETCSRestrictionsConditions,
        era-sh:HasEtcsNationalPacket44,
        era-sh:HasHotAxleBoxDetector,
        era-sh:HasLevelCrossings,
        era-sh:HasPhaseSeparation,
        era-sh:HasSevereWeatherConditions,
        era-sh:HasSystemSeparation,
        era-sh:HasTSITrainDetection,
        era-sh:HighSpeedLoadModelCompliance,
        era-sh:HotAxleBoxDetectorDirection,
        era-sh:HotAxleBoxDetectorGeneration,
        era-sh:HotAxleBoxDetectorIdentification,
        era-sh:HotAxleBoxDetectorLocation,
        era-sh:HotAxleBoxDetectorTSICompliant,
        era-sh:InstructionsSwitchRadioSystems,
        era-sh:IsQuietRoute,
        era-sh:LegacyRadioSystem,
        era-sh:LineCategory,
        era-sh:LinesideDistanceIndication,
        era-sh:LocalRulesOrRestrictions,
        era-sh:LocalRulesOrRestrictionsDoc,
        era-sh:MNvcontact,
        era-sh:MNvderun,
        era-sh:MagneticBraking,
        era-sh:MagneticBrakingConditionsDocument,
        era-sh:MaximumAltitude,
        era-sh:MaximumBrakingDistance,
        era-sh:MaximumPermittedSpeed,
        era-sh:MaximumTrainDeceleration,
        era-sh:MinimumHorizontalRadius,
        era-sh:MinimumWheelDiameter,
        era-sh:NationalLoadCapability,
        era-sh:NationalValuesBrakeModel,
        era-sh:OtherCantDeficiencyBasicSSP,
        era-sh:OtherTrainProtection,
        era-sh:PermittedContactForce,
        era-sh:PublicNetworkRoaming,
        era-sh:PublicNetworkRoamingDetails,
        era-sh:QNvdriverAdhes,
        era-sh:QNvemrrls,
        era-sh:QNvsbtsmperm,
        era-sh:RadioNetworkId,
        era-sh:RailInclination,
        era-sh:ReasonsEtcsRadioBlockCenterReject,
        era-sh:RedLightsRequired,
        era-sh:SafeConsistLengthInformationNecessary,
        era-sh:SpecificInformation,
        era-sh:StandardCombinedRollerUnits,
        era-sh:StandardCombinedTransportContainers,
        era-sh:StructureCheckLocation,
        era-sh:SwitchProtectControlWarning,
        era-sh:SwitchRadioSystem,
        era-sh:TNvcontact,
        era-sh:TNvovtrp,
        era-sh:TSISwitchCrossing,
        era-sh:TemperatureRange,
        era-sh:TenClassificationT,
        era-sh:TenGISId,
        era-sh:TiltingSupported,
        era-sh:TrackId,
        era-sh:TrackPhaseInfo,
        era-sh:TrackRaisedPantographsDistanceAndSpeed,
        era-sh:TrackSystemSeparationInfo,
        era-sh:TrainDetectionSystem,
        era-sh:TrainIntegrityOnBoardRequired,
        era-sh:TsiMagneticFields,
        era-sh:TsiTractionHarmonics,
        era-sh:UsesGroup555,
        era-sh:VNvallowovtrp,
        era-sh:VNvsupovtrp,
        era-sh:VerificationCCS,
        era-sh:VerificationENE,
        era-sh:VerificationINF,
        era-sh:VoiceRadioCompatible,
        era-sh:WheelSetGauge ;
    sh:sparql era-sh:AccelerationLevelCrossingApplicability,
        era-sh:AdditionalBrakingInformationDocumentApplicability,
        era-sh:AtoCommunicationSystemSKOS,
        era-sh:AtoGradeAutomationSKOS,
        era-sh:AtoSystemVersionSKOS,
        era-sh:AutomaticDroppingDeviceRequiredApplicability,
        era-sh:BigMetalMassApplicability,
        era-sh:CantDeficiencyBasicSSPApplicability,
        era-sh:CantDeficiencyBasicSSPSKOS,
        era-sh:ConditionalRegenerativeBrakeSKOS,
        era-sh:ConditionsSwitchClassBSystemsApplicability,
        era-sh:ConditionsUseReflectivePlatesSKOS,
        era-sh:ContactStripMaterialApplicability,
        era-sh:ContactStripMaterialSKOS,
        era-sh:CurrentLimitationRequiredApplicability,
        era-sh:DNvovtrpApplicability,
        era-sh:DNvpotrpApplicability,
        era-sh:DNvrollApplicability,
        era-sh:DataRadioCompatibleApplicability,
        era-sh:DataRadioCompatibleSKOS,
        era-sh:EddyCurrentBrakingConditionsDocumentApplicability,
        era-sh:EddyCurrentBrakingSKOS,
        era-sh:ErrorCorrectionsOnboardSKOS,
        era-sh:EtcsDegradedSituationApplicability,
        era-sh:EtcsDegradedSituationSKOS,
        era-sh:EtcsImplementsLevelCrossingProcedureApplicability,
        era-sh:EtcsInfillLineAccessApplicability,
        era-sh:EtcsNationalPacket44FunctionSKOS,
        era-sh:EtcsRestrictionsConditionsDocApplicability,
        era-sh:FreightCorridorSKOS,
        era-sh:GaugingProfileSKOS,
        era-sh:GprsForETCSApplicability,
        era-sh:GprsImplementationAreaApplicability,
        era-sh:GsmRActiveMobilesApplicability,
        era-sh:GsmRActiveMobilesSKOS,
        era-sh:GsmRAdditionalInfoApplicability,
        era-sh:GsmRNoCoverageApplicability,
        era-sh:GsmROptionalFunctionsApplicability,
        era-sh:GsmROptionalFunctionsSKOS,
        era-sh:GsmRVersionSKOS,
        era-sh:GsmrConstraintsOperateOnlyInCircuitSwitchApplicability,
        era-sh:GsmrForcedDeregistrationFunctionalNumberApplicability,
        era-sh:GsmrNetworkCoverageApplicability,
        era-sh:GsmrNetworkCoverageSKOS,
        era-sh:HasBallastApplicability,
        era-sh:HasETCSRestrictionsConditionsApplicability,
        era-sh:HasEtcsNationalPacket44Applicability,
        era-sh:HasPhaseSeparationApplicability,
        era-sh:HasSystemSeparationApplicability,
        era-sh:HotAxleBoxDetectorDirectionApplicability,
        era-sh:HotAxleBoxDetectorDirectionSKOS,
        era-sh:HotAxleBoxDetectorGenerationApplicability,
        era-sh:HotAxleBoxDetectorIdentificationApplicability,
        era-sh:HotAxleBoxDetectorLocationApplicability,
        era-sh:InstructionsSwitchRadioSystemsApplicability,
        era-sh:LegacyRadioSystemSKOS,
        era-sh:LineCategorySKOS,
        era-sh:LinesideDistanceIndicationAppearanceSKOS,
        era-sh:LinesideDistanceIndicationPositioningSKOS,
        era-sh:LoadCapabilityLineCategorySKOS,
        era-sh:MNvcontactApplicability,
        era-sh:MNvcontactSKOS,
        era-sh:MNvderunApplicability,
        era-sh:MagneticBrakingConditionsDocumentApplicability,
        era-sh:MagneticBrakingSKOS,
        era-sh:NationalValuesBrakeModelApplicability,
        era-sh:OtherCantDeficiencyBasicSSPApplicability,
        era-sh:OtherCantDeficiencyBasicSSPSKOS,
        era-sh:OtherPantographHeadApplicability,
        era-sh:OtherPantographHeadSKOS,
        era-sh:OtherTrainProtectionApplicability,
        era-sh:OtherTrainProtectionSKOS,
        era-sh:PermittedContactForceApplicability,
        era-sh:ProfileNumberSemiTrailersSKOS,
        era-sh:ProfileNumberSwapBodiesSKOS,
        era-sh:ProtectionLegacySystemSKOS,
        era-sh:PublicNetworkRoamingApplicability,
        era-sh:PublicNetworkRoamingDetailsApplicability,
        era-sh:QNvdriverAdhesApplicability,
        era-sh:QNvdriverAdhesSKOS,
        era-sh:QNvemrrlsApplicability,
        era-sh:QNvemrrlsSKOS,
        era-sh:QNvsbtsmpermApplicability,
        era-sh:RadioNetworkIdApplicability,
        era-sh:RailInclinationSKOS,
        era-sh:ReasonsEtcsRadioBlockCenterRejectSKOS,
        era-sh:SafeConsistLengthInformationNecessaryApplicability,
        era-sh:SafeConsistLengthInformationNecessarySKOS,
        era-sh:StandardCombinedRollerUnitsSKOS,
        era-sh:StandardCombinedTransportContainersSKOS,
        era-sh:SwitchProtectControlWarningApplicability,
        era-sh:SwitchRadioSystemApplicability,
        era-sh:TNvcontactApplicability,
        era-sh:TNvovtrpApplicability,
        era-sh:TemperatureRangeSKOS,
        era-sh:TenClassificationSKOST,
        era-sh:TenGISIdApplicability,
        era-sh:TrackPhaseInfoApplicability,
        era-sh:TrackRaisedPantographDistanceAndSpeedApplicability,
        era-sh:TrackSystemSeparationInfoApplicability,
        era-sh:TsiMagneticFieldsApplicability,
        era-sh:TsiPantographHeadApplicability,
        era-sh:TsiPantographHeadSKOS,
        era-sh:TsiTractionHarmonicsApplicability,
        era-sh:UsesGroup555Applicability,
        era-sh:VNvallowovtrpApplicability,
        era-sh:VNvsupovtrpApplicability,
        era-sh:VoiceRadioCompatibleApplicability,
        era-sh:VoiceRadioCompatibleSKOS,
        era-sh:WheelSetGaugeSKOS ;
    sh:targetClass era:RunningTrack .

era-sh:RunningTrackShapeShape sh:property era-sh:TrackLoadCapability .

era-sh:SectionOfLineShape a sh:NodeShape ;
    sh:property era-sh:ConditionsAppliedRegenerativeBraking,
        era-sh:NationalLineSoL,
        era-sh:OpEnd,
        era-sh:OpStart,
        era-sh:SolLength,
        era-sh:SolNature ;
    sh:sparql era-sh:NoRepeatedTrackIdsSoL,
        era-sh:OpEndExists,
        era-sh:OpStartExists,
        era-sh:SoLTrackDirectionMaxCount,
        era-sh:SoLTrackDirectionMinCount,
        era-sh:SolNatureApplicability,
        era-sh:SolNatureSKOS,
        era-sh:TrackDirectionSKOS ;
    sh:targetClass era:SectionOfLine .

era-sh:SidingShape a sh:NodeShape ;
    sh:property era-sh:DemonstrationINFS,
        era-sh:Gradient,
        era-sh:HasElectricShoreSupply,
        era-sh:HasExternalCleaning,
        era-sh:HasRefuelling,
        era-sh:HasSandRestocking,
        era-sh:HasToiletDischarge,
        era-sh:HasWaterRestocking,
        era-sh:LengthS,
        era-sh:MaxCurrentStandstillPantographS,
        era-sh:MinimumHorizontalRadiusS,
        era-sh:MinimumVerticalRadius,
        era-sh:SidingId,
        era-sh:TenClassificationS,
        era-sh:VerificationINFS ;
    sh:sparql era-sh:TenClassificationSKOSS ;
    sh:targetClass era:Siding .

era-sh:Signal sh:property era-sh:RelativeDistanceDangerPoint,
        era-sh:SignalId,
        era-sh:SignalOrientation,
        era-sh:SignalType ;
    sh:sparql era-sh:SignalOrientationSKOS,
        era-sh:SignalTypeSKOS .

era-sh:SignalShape a sh:NodeShape ;
    sh:targetClass era:Signal .

era-sh:SubsidiaryLocationShape a sh:NodeShape ;
    sh:property era-sh:AllocationCompany,
        era-sh:LinkedToPrimaryLocation,
        era-sh:SubsidiaryLocationType ;
    sh:sparql era-sh:SubsidiaryLocationTypeSKOS ;
    sh:targetClass era:SubsidiaryLocation .

era-sh:SystemSeparationInfoShape a sh:NodeShape ;
    sh:property era-sh:SystemSeparationInfoChangeSupplySystem,
        era-sh:SystemSeparationInfoKm,
        era-sh:SystemSeparationInfoLength,
        era-sh:SystemSeparationInfoPantographLowered,
        era-sh:SystemSeparationInfoSwitchOffBreaker ;
    sh:targetClass era:SystemSeparationInfo .

era-sh:TopologicalCoordinateShape a sh:NodeShape ;
    sh:property era-sh:OffsetFromOrigin,
        era-sh:OnLinearElement ;
    sh:targetClass era:TopologicalCoordinate .

era-sh:TrainDetectionSystemShape a sh:NodeShape ;
    sh:property era-sh:FrequencyBandsForDetection,
        era-sh:MaximumInterferenceCurrent,
        era-sh:MaximumInterferenceCurrentEvaluation,
        era-sh:MinVehicleImpedance,
        era-sh:TdsFrenchTrainDetectionSystemLimitation,
        era-sh:TdsMaximumMagneticField,
        era-sh:TrainDetectionSystemSpecificCheck,
        era-sh:TrainDetectionSystemSpecificCheckDocument,
        era-sh:TrainDetectionSystemType ;
    sh:sparql era-sh:FrequencyBandsForDetectionSKOS,
        era-sh:MinVehicleImpedanceApplicability,
        era-sh:TdsMaximumMagneticFieldApplicability,
        era-sh:TrainDetectionSystemSpecificCheckApplicability,
        era-sh:TrainDetectionSystemSpecificCheckDocumentApplicability,
        era-sh:TrainDetectionSystemSpecificCheckSKOS,
        era-sh:TrainDetectionSystemTypeSKOS ;
    sh:targetClass era:TrainDetectionSystem .

era-sh:TunnelShape a sh:NodeShape ;
    sh:property era-sh:ComplianceInfTsiP,
        era-sh:CrossSectionAreaT,
        era-sh:DemonstrationSRT,
        era-sh:DieselThermalAllowed,
        era-sh:EndLocation,
        era-sh:HasEmergencyPlan,
        era-sh:HasEvacuationAndRescuePoints,
        era-sh:HasWalkway,
        era-sh:LengthT,
        era-sh:LineReferenceTunnelEnd,
        era-sh:LineReferenceTunnelStart,
        era-sh:NationalRollingStockFireCategory,
        era-sh:RollingStockFireCategory,
        era-sh:StartLocation,
        era-sh:TunnelDocRef,
        era-sh:TunnelIdentification,
        era-sh:VerificationSRT ;
    sh:sparql era-sh:ComplianceInfTsiApplicability,
        era-sh:CrossSectionAreaApplicability,
        era-sh:HasEmergencyPlanApplicability,
        era-sh:NationalRollingStockFireCategoryApplicability,
        era-sh:RollingStockFireCategoryApplicability,
        era-sh:RollingStockFireCategorySKOS ;
    sh:targetClass era:Tunnel .

<http://data.europa.eu/949/shapes/era-sh:InfrastructureElementShape> sh:property era-sh:NotApplicablePropertyShape,
        era-sh:NotYetAvailablePropertyShape .

era-sh:Aggregates a sh:PropertyShape ;
    era:affectedClass era:NonLinearElement ;
    era:affectedProperty era:aggregates ;
    era:scope "local" ;
    rdfs:comment "Specifies the linear elements aggregated by a non-linear element. "@en ;
    sh:class era:LinearElement ;
    sh:message "aggregates: The non linear element may aggregate only linear elements. This error is due having a value that is not an instance of LinearElement."@en ;
    sh:path era:contains ;
    sh:severity sh:Violation .

era-sh:AllocationCompany a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:allocationCompany ;
    era:scope "local" ;
    rdfs:comment "The organisation in charge to allocate the code for the subsidiary location. "@en ;
    sh:class era:OrganisationRole ;
    sh:message "allocationCompany: An instance of subsidiary location may have a value for allocation company. This error may be due to having a value that is not an IRI or that does not point to an instance of OrganisationRole."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:allocationCompany ;
    sh:severity sh:Violation .

era-sh:AppliesInBothDirections a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:appliesInBothDirections ;
    era:scope "local" ;
    rdfs:comment "Specifies if the section applies in both directions (optional). "@en ;
    sh:datatype xsd:boolean ;
    sh:message "appliesInBothDirections: The linear element section specifies if the section applies in both directions (optional). This error is due having a value that is not a boolean."@en ;
    sh:path era:appliesInBothDirections ;
    sh:severity sh:Violation .

era-sh:AppliesToDirection a sh:PropertyShape ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:appliesToDirection ;
    era:scope "local" ;
    rdfs:comment "The direction relative to the origin of the linear element towards the point reference applies."@en ;
    sh:message "appliesToDirection: The net point reference must have an 'applies to direction' value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:appliesToDirection ;
    sh:severity sh:Violation .

era-sh:AppliesToDirectionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:appliesToDirection ;
    era:scope "local" ;
    rdfs:comment "The direction relative to the origin of the linear element towards the point reference applies."@en ;
    sh:message "appliesToDirection: The net point reference {$this} with label {?thisLabel}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/orientations/Directions."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?thisLabel ?concept 
    WHERE {
        OPTIONAL {$this rdfs:label ?thisLabel} .
        $this era:appliesToDirection ?concept .
        era:appliesToDirection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme }
	}
""" ;
    sh:severity sh:Violation .

era-sh:AsWKT a sh:PropertyShape ;
    era:affectedClass geosparql:Geometry ;
    era:affectedProperty geosparql:asWKT ;
    era:scope "local" ;
    sh:datatype geosparql:wktLiteral ;
    sh:maxCount 1 ;
    sh:message "geosparql:Geometry. This error may be due to having a Geometry without or with more than one asWKT property or it value is not from the wktLiteral type." ;
    sh:minCount 1 ;
    sh:path geosparql:asWKT ;
    sh:severity sh:Violation .

era-sh:BelongsTo a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:belongsTo ;
    era:scope "local" ;
    rdfs:comment "Relationship between an infratructure element and a common characteristics subset. "@en ;
    sh:class era:CommonCharacteristicsSubset ;
    sh:message "belongsTo: The infratructure element must belong to at least one common characteristics subset, a reference that must be an instance of CommonCharacteristicsSubset. This error is due to not having a value of belongsTo, or having a value that is not an instance of CommonCharacteristicsSubset."@en ;
    sh:minCount 1 ;
    sh:path era:belongsTo ;
    sh:severity sh:Violation .

era-sh:BelongsToUniqueIM a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset,
        era:InfrastructureElement,
        era:OrganisationRole ;
    era:affectedProperty era:belongsTo,
        era:infrastructureManager,
        era:organisationCode ;
    era:scope "local" ;
    rdfs:comment "Each infrastructure element may belong to several common characteristics subsets, and each of them must point to the same infrastructure manager (same organisationCode in the class organisationRole). "@en ;
    sh:message "belongsTo, organisationCode, infrastructureElement: This error is due to {$this} belonging to several common characteristics subsets, {?subset1Label}, {?subset2Label} that do not point to the same infrastructure manager (different organisationCodes), {?orgCode1}, {?orgCode2}."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
     SELECT $this ?subset1Label ?subset2Label ?orgCode1 ?orgCode2
			WHERE {
                $this era:belongsTo ?subset1 .
                $this era:belongsTo ?subset2 .
                ?subset1 era:infrastructureManager ?orgRole1.
                ?subset2 era:infrastructureManager ?orgRole2.
                ?orgRole1 era:organisationCode ?orgCode1.
                ?orgRole1 era:organisationCode ?orgCode2.
                FILTER(?orgCode1 != ?orgCode2) . 
				OPTIONAL{?subset1 rdfs:label ?subset1Label} .
				OPTIONAL{?subset2 rdfs:label ?subset2Label} .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:BorderPointValidCode a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint,
        era:ReferenceBorderPoint ;
    era:affectedProperty era:uopid ;
    era:rinfIndex "1.2.0.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Code composed of country code and alphanumeric OP code. "@en ;
    sh:message "uopid (1.2.0.0.0.2):  The OperationalPoint {$this} with id {?uopid} and  label {?opLabel} is a border point that either does not point to a ReferenceBorderPoint or does not have a value for uopid that matches the id of its referenced border point."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?uopid ?opLabel 		
    WHERE {
               OPTIONAL {$this rdfs:label ?opLabel} .
               $this era:uopid ?uopid .
               $this era:opType <http://data.europa.eu/949/concepts/op-types/90> .
               $this era:referenceBorderPoint era:ReferenceBorderPoint .
               FILTER (?uopid != era:borderPointId) .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:ConditionsAppliedRegenerativeBraking a sh:PropertyShape ;
    era:affectedClass era:RunningTrack,
        era:SectionOfLine ;
    era:affectedProperty era:conditionsAppliedRegenerativeBraking ;
    era:rinfIndex "1.1.1.2.2.4.1" ;
    era:scope "local" ;
    rdfs:comment "Name and/or reference of the document specifying the conditions applying in regards to regenerative braking."@en ;
    sh:class era:Document ;
    sh:maxCount 1 ;
    sh:message "conditionsAppliedRegenerativeBraking (1.1.1.2.2.4.1): The contact line system has a conditionsAppliedRegenerativeBraking reference that must be a Document. This error is due to having more than one value for this property or having a value that is not a Document."@en ;
    sh:path era:conditionsAppliedRegenerativeBraking ;
    sh:severity sh:Violation .

era-sh:ConditionsAppliedRegenerativeBrakingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionsAppliedRegenerativeBraking ;
    era:rinfIndex "1.1.1.2.2.4.1" ;
    era:scope "local" ;
    rdfs:comment "This parameter is applicable (“Y”) only if “Overhead contact line (OCL)” is selected for parameter 1.1.1.2.2.1.1."@en ;
    sh:message "conditionsAppliedRegenerativeBraking (1.1.1.2.2.4.1):The Contact Line System {$this} ({?clsLabel}), has a 'Overhead contact line (OCL)' type which makes the conditionsAppliedRegenerativeBraking parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                $this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/10>.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:conditionsAppliedRegenerativeBraking ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:ConditionsChargingElectricEnergyStorage a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionsChargingElectricEnergyStorage ;
    era:rinfIndex "1.2.1.0.7.2" ;
    era:scope "local" ;
    rdfs:comment "Indication if charging electric energy storage for traction purposes at standstill is permitted"@en ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1 ;
    sh:message "conditionsChargingElectricEnergyStorage (1.2.1.0.7.2): The contact line system defines the permitted conditions for charging electric energy storage for traction purposes at standstill. This error is due to having more than one value for this property or having a value that is not  an URI."@en ;
    sh:path era:conditionsChargingElectricEnergyStorage ;
    sh:severity sh:Violation .

era-sh:ContactLineSystemType a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:contactLineSystemType ;
    era:rinfIndex "1.1.1.2.2.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the type of the contact line system"@en ;
    sh:maxCount 1 ;
    sh:message "contactLineSystemType (1.1.1.2.2.1.1): The contact line system must have a contact line system type, and its value must be an IRI. This error is due to the contact line system not having a value for this property, having more than one value for this property, or having a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:contactLineSystemType ;
    sh:severity sh:Violation .

era-sh:ContactLineSystemTypeNotElectrifiedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:contactLineSystemType ;
    era:rinfIndex "1.1.1.2.2.1.1" ;
    era:scope "local" ;
    rdfs:comment "When the value \"not electrified\" is chosen, all parameters 1.1.1.2.2.1.2 - 1.1.1.2.5.3 are not applicable"@en ;
    sh:message "contactLineSystemType (1.1.1.2.2.1.1): The Contact Line System {$this} ({?clsLabel}), has a 'Not electrified' type, and at least one of its parameters has values for at least one of the range of parameters between 1.1.1.2.2.1.2 and 1.1.1.2.5.3. This happens at least with property {?p} (RINF index {?index})."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel ?p ?index
			WHERE {
                 $this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/40> .
				OPTIONAL{$this rdfs:label ?clsLabel} .
                $this ?p ?y .
                ?p era:rinfIndex ?index .
                FILTER  EXISTS {$this ?p ?value} .
                FILTER(strstarts(?index,'1.1.1.2.2.1.2') || strstarts(?index,'1.1.1.2.2.1.3') || strstarts(?index,'1.1.1.2.2.2') || strstarts(?index,'1.1.1.2.2.3') || strstarts(?index,'1.1.1.2.2.4') || strstarts(?index,'1.1.1.2.2.5') || strstarts(?index,'1.1.1.2.2.6') || strstarts(?index,'1.1.1.2.3') || strstarts(?index,'1.1.1.2.4') || strstarts(?index, '1.1.1.2.5'))
            }
			""" ;
    sh:severity sh:Violation .

era-sh:ContactLineSystemTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:contactLineSystemType ;
    era:rinfIndex "1.1.1.2.2.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the type of the contact line system"@en ;
    sh:message "contactLineSystemType (1.1.1.2.2.1.1): The contact line system {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/contact-line-systems/ContactLineSystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this  ?concept
    WHERE {
        $this era:contactLineSystemType ?concept .
        era:contactLineSystemType era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ContactLineSystemTypeThirdOrFourthRailApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:contactLineSystemType ;
    era:rinfIndex "1.1.1.2.2.1.1" ;
    era:scope "local" ;
    rdfs:comment "When the value “Third Rail” or “Fourth Rail” is chosen, parameters 1.1.1.2.2.3, 1.1.1.2.2.5 - 1.1.1.2.4.2.3, 1.1.1.2.5.2 and 1.1.1.2.5.3 are not applicable"@en ;
    sh:message "contactLineSystemType (1.1.1.2.2.1.1): The Contact Line System {$this} ({?clsLabel}), has a 'Third Rail' or 'Fourth Rail' type, and at least one of its parameters has values for at least one of the parameters 1.1.1.2.2.3, 1.1.1.2.2.5 - 1.1.1.2.4.2.3, 1.1.1.2.5.2 and 1.1.1.2.5.3. This happens at least with property {?p} (RINF index {?index})."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel ?p ?index
			WHERE {
				{$this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/20>}
				UNION
				{$this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/30>}
				OPTIONAL{$this rdfs:label ?clsLabel} .
                $this ?p ?y .
                ?p era:rinfIndex ?index .
                FILTER  EXISTS {$this ?p ?value} .
                FILTER(str(?index)='1.1.1.2.2.3' || str(?index)='1.1.1.2.2.5' || str(?index)='1.1.1.2.2.6' || strstarts(?index,'1.1.1.2.3') || strstarts(?index,'1.1.1.2.4') || str(?index)='1.1.1.2.5.2' || str(?index)='1.1.1.2.5.3') 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:ContainerHandlingFlag a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:containerHandlingFlag ;
    era:scope "local" ;
    rdfs:comment "Container handling flag."@en ;
    sh:datatype xsd:boolean ;
    sh:message "containerHandlingFlag : The PrimaryLocation may have a containerHandlingFlag value that is a boolean. This error may be due to the Primary Location having  a value that is not a boolean."@en ;
    sh:path era:containerHandlingFlag ;
    sh:severity sh:Violation .

era-sh:Contains a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contains ;
    era:scope "local" ;
    rdfs:comment "Relationship between a common characteristics subset and an infrastructure element (inverse of belongsTo). "@en ;
    sh:class era:InfrastructureElement ;
    sh:message "contains: The subset with common characteristics may contain an infrastructure element, a reference that must be an instance of InfrastructureElement. This error is due having a value that is not an instance of InfrastructureElement."@en ;
    sh:path era:contains ;
    sh:severity sh:Violation .

era-sh:DigitalSchematicOverview a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:digitalSchematicOverview ;
    era:rinfIndex "1.2.0.0.0.7.2" ;
    era:scope "local" ;
    rdfs:comment "Diagrammatic representation of the operational point in Well Known Text polyline "@en ;
    sh:datatype geosparql:wktLiteral ;
    sh:message "digitalSchematicOverview (1.2.0.0.0.7.2): The Operational Point has a digitalSchematicOverview reference that must be a Well Known Text literal."@en ;
    sh:path era:digitalSchematicOverview ;
    sh:severity sh:Violation .

era-sh:ElementA a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:elementA ;
    era:scope "local" ;
    rdfs:comment "References the first topological element in an oriented relation. For example, it may indicate the object that corresponds to a section of line, an operational point or a track inside an operational point connected at start. "@en ;
    sh:class era:LinearElement ;
    sh:message "elementA: The net relation references the first topological object that must be an instance of a linear element. This error is due having a value that is not an instance of LinearElement."@en ;
    sh:path era:netRelation ;
    sh:severity sh:Violation .

era-sh:ElementB a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:elementB ;
    era:scope "local" ;
    rdfs:comment "References the second topological linear element in an oriented relation. For example, it may indicate the object that corresponds to a section of line, an operational point or a track inside an operational point connected at end. "@en ;
    sh:class era:LinearElement ;
    sh:message "elementB: The net relation references the second topological object that must be an instance of a linear element. This error is due having a value that is not an instance of LinearElement."@en ;
    sh:path era:netRelation ;
    sh:severity sh:Violation .

era-sh:EndLocation a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:endLocation ;
    era:scope "local" ;
    rdfs:comment "Geographical coordinates in decimal degrees and km of the line at the end of a tunnel."@en ;
    sh:maxCount 1 ;
    sh:message "endLocation (1.1.1.1.8.4): The Tunnel may have an end location (endLocation) reference that is a Geometry object or a Point. This error mey be due to an endLocation relationship from a Tunnel that is not a Geometry nor a Point."@en ;
    sh:nodeKind sh:IRI ;
    sh:or ( [ sh:class geosparql:Geometry ] [ sh:class wgs1:Point ] ) ;
    sh:path era:endLocation ;
    sh:severity sh:Violation .

era-sh:EndOffsetFromOrigin a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:endOffsetFromOrigin ;
    era:scope "local" ;
    rdfs:comment "End offset of the section from the origin. "@en ;
    sh:datatype xsd:positiveInteger ;
    sh:message "endOffsetFromOrigin: The linear element section specifies  the end offset of the section from the origin. This error is due having a value that is not a positive integer."@en ;
    sh:path era:endOffsetFromOrigin ;
    sh:severity sh:Violation .

era-sh:EndsAt a sh:PropertyShape ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:endsAt ;
    era:scope "local" ;
    rdfs:comment "Specifies the ending coordinate of a linear reference."@en ;
    sh:class era:TopologicalCoordinate ;
    sh:maxCount 1 ;
    sh:message "endsAt: The net linear reference specifies an ending coordinate that must be an instance of a TopologicalCoordinate. This error is due to not having a value, having more than one value or having a value that is not an instance of TopologicalCoordinate."@en ;
    sh:minCount 1 ;
    sh:path era:endsAt ;
    sh:severity sh:Violation .

era-sh:EnergySupplySystem a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystem ;
    era:rinfIndex "1.1.1.2.2.1.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of the traction supply system"@en ;
    sh:maxCount 1 ;
    sh:message "energySupplySystem (1.1.1.2.2.1.2): The contact line system defines the energy supply system.This error is due to a contact line system having more than one value for this property or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:energySupplySystem ;
    sh:severity sh:Violation .

era-sh:EnergySupplySystemSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystem ;
    era:rinfIndex "1.1.1.2.2.1.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of the traction supply system"@en ;
    sh:message "energySupplySystem (1.1.1.2.2.1.2): The contact line system {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/energy-supply-systems/EnergySupplySystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this  ?concept
    WHERE {
        $this era:energySupplySystem ?concept .
        era:energySupplySystem era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:EnergySupplySystemTSICompliant a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystemTSICompliant ;
    era:rinfIndex "1.1.1.2.2.1.2.1" ;
    era:scope "local" ;
    rdfs:comment "Indication if the traction supply system is fully compliant with TSI"@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "energySupplySystemTSICompliant (1.1.1.2.2.1.2.1): The contact line system defines if the energy supply system is fully compliant with TSI. This error is due to having more than one value for this property or having a value that is not Y/N (boolean)."@en ;
    sh:path era:energySupplySystemTSICompliant ;
    sh:severity sh:Violation .

era-sh:EtcsBaseline a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsBaseline ;
    era:rinfIndex "1.1.1.3.2.2",
        "1.2.1.1.1.2" ;
    era:scope "local" ;
    rdfs:comment "ETCS baseline installed lineside "@en ;
    sh:maxCount 1 ;
    sh:message "etcsBaseline (1.1.1.3.2.2, 1.2.1.1.1.2): The ETCS may have an ETCS baseline, and its value must be an IRI. This error is due to the ETCS instance having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsBaseline ;
    sh:severity sh:Violation .

era-sh:EtcsBaselineApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsBaseline ;
    era:rinfIndex "1.1.1.3.2.2",
        "1.2.1.1.1.2" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsBaseline (1.1.1.3.2.2, 1.2.1.1.1.2): The ETCS {$this} ({?thisLabel}), has a ETCS level type which makes the etcsBaseline parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel
			WHERE {
                 $this era:etcsLevelType ?type.
				OPTIONAL{$this rdfs:label ?thisLabel} .
                FILTER NOT EXISTS {$this era:etcsBaseline ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsBaselineSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsBaseline ;
    era:rinfIndex "1.1.1.3.2.2",
        "1.2.1.1.1.2" ;
    era:scope "local" ;
    rdfs:comment "ETCS baseline installed lineside "@en ;
    sh:message "etcsBaseline (1.1.1.3.2.2, 1.2.1.1.1.2): The ETCS {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-baselines/."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsBaseline ?concept .
        era:etcsBaseline era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsInfill a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsInfill ;
    era:rinfIndex "1.1.1.3.2.4",
        "1.2.1.1.1.4" ;
    era:scope "local" ;
    rdfs:comment "Information about installed trackside equipment capable of transmitting infill information by loop or Global System for Mobile communications for Railways (GSM-R) for level 1 installations. "@en ;
    sh:maxCount 1 ;
    sh:message "etcsInfill (1.1.1.3.2.4, 1.2.1.1.1.4): The ETCS may have an ETCS infill, and its value must be an IRI. This error is due to the ETCS instance having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsInfill ;
    sh:severity sh:Violation .

era-sh:EtcsInfillApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsInfill ;
    era:rinfIndex "1.1.1.3.2.4",
        "1.2.1.1.1.4" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 contains 1. Related to rule for etcsLevelType "@en ;
    sh:message "etcsInfill (1.1.1.3.2.4, 1.2.1.1.1.4): The ETCS {$this} ({?thisLabel}), has a ETCS level type value of 1 which makes the etcsInfill parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel
			WHERE {
                 $this era:etcsLevelType <http://data.europa.eu/949/concepts/etcs-levels/20>.
				OPTIONAL{$this rdfs:label ?thisLabel} .
                FILTER NOT EXISTS {$this era:etcsInfill ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsInfillSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsInfill ;
    era:rinfIndex "1.1.1.3.2.4",
        "1.2.1.1.1.4" ;
    era:scope "local" ;
    rdfs:comment "Information about installed trackside equipment capable of transmitting infill information by loop or Global System for Mobile communications for Railways (GSM-R) for level 1 installations. "@en ;
    sh:message "etcsInfill (1.1.1.3.2.4, 1.2.1.1.1.4): The ETCS {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-infills/."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsInfill ?concept .
        era:etcsInfill era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsLevelType a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsLevelType ;
    era:rinfIndex "1.1.1.3.2.1",
        "1.2.1.1.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indicates the type associated as a SKOS concept from the era:ETCSLevel related to the track side equipment. "@en ;
    sh:maxCount 1 ;
    sh:message "etcsLevelType (1.1.1.3.2.1, 1.2.1.1.1.1): The ETCS has at most one etcsLevelType value and it must be an IRI. This error is due to the ETCS having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsLevelType ;
    sh:severity sh:Violation .

era-sh:EtcsLevelTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsLevelType ;
    era:rinfIndex "1.1.1.3.2.10",
        "1.2.1.1.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indicates the type associated as a SKOS concept from the era:ETCSLevel related to the track side equipment. "@en ;
    sh:message "Indication of the etcsLevelType (1.1.1.3.2.1, 1.2.1.1.1.1): The ETCS {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-levels/."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsLevelType ?concept .
        era:etcsLevelType era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsMVersion a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsMVersion ;
    era:rinfIndex "1.1.1.3.2.10",
        "1.2.1.1.1.10" ;
    era:scope "local" ;
    rdfs:comment "ETCS_M version according to SRS 7.5.1.9 "@en ;
    sh:maxCount 1 ;
    sh:message "etcsMVersion (1.1.1.3.2.10, 1.2.1.1.1.10): The ETCS has at most one ETCS_M version value and it must be an IRI. This error is due to the ETCS having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsMVersion ;
    sh:severity sh:Violation .

era-sh:EtcsMVersionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsMVersion ;
    era:rinfIndex "1.1.1.3.2.10",
        "1.2.1.1.1.10" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 contains 1. Related to rule for etcsLevelType "@en ;
    sh:message "etcsMVersion (1.1.1.3.2.10, 1.2.1.1.1.10): The ETCS {$this} ({?thisLabel}), has a ETCS level type '1' which makes the etcsMVersion parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel
			WHERE {
                 $this era:etcsLevelType <http://data.europa.eu/949/concepts/etcs-levels/20>.
				OPTIONAL{$this rdfs:label ?thisLabel} .
                FILTER NOT EXISTS {$this era:etcsMVersion ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsMVersionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsMVersion ;
    era:rinfIndex "1.1.1.3.2.10" ;
    era:scope "local" ;
    rdfs:comment "ETCS_M version according to SRS 7.5.1.9 "@en ;
    sh:message "Indication of the etcsMVersion (1.1.1.3.2.10, 1.1.1.3.2.10):): The ETCS {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-m-versions/ETCSMVersions."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsMVersion ?concept .
        era:etcsMVersion era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsSystemCompatibility a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsSystemCompatibility ;
    era:rinfIndex "1.1.1.3.2.9",
        "1.2.1.1.1.9" ;
    era:scope "local" ;
    rdfs:comment "ETCS requirements used for demonstrating technical compatibility. "@en ;
    sh:message "etcsSystemCompatibility (1.1.1.3.2.9, 1.2.1.1.1.9): The ETCS has a etcsSystemCompatibility value that must be an IRI. This error is due to the ETCS having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsSystemCompatibility ;
    sh:severity sh:Violation .

era-sh:EtcsSystemCompatibilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsSystemCompatibility ;
    era:rinfIndex "1.1.1.3.2.9",
        "1.2.1.1.1.9" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsSystemCompatibility (1.1.1.3.2.9, 1.2.1.1.1.9): The ETCS {$this} ({?thisLabel}), has a ETCS level type which makes the etcsSystemCompatibility parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel
			WHERE {
                 $this era:etcsLevelType ?type.
				OPTIONAL{$this rdfs:label ?thisLabel} .
                FILTER NOT EXISTS {$this era:etcsSystemCompatibility ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsSystemCompatibilitySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsSystemCompatibility ;
    era:rinfIndex "1.1.1.3.2.9",
        "1.2.1.1.1.9" ;
    era:scope "local" ;
    rdfs:comment "ETCS requirements used for demonstrating technical compatibility. "@en ;
    sh:message "etcsSystemCompatibility (1.1.1.3.2.9, 1.2.1.1.1.9): The ETCS {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-system-compatibilities/ETCSSystemCompatibilities."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsSystemCompatibility ?concept .
        era:etcsSystemCompatibility era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsTransmitsTrackConditions a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmitsTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12",
        "1.2.1.1.1.12" ;
    era:scope "local" ;
    rdfs:comment "If the trackside does not provide Track Conditions, the driver will need to be informed about such conditions via alternative methods. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "etcsTransmitsTrackConditions (1.1.1.3.2.12, 1.2.1.1.1.12): Each Track may define the existence of ETCS trackside engineered to transmit Track Conditions. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:etcsTransmitsTrackConditions ;
    sh:severity sh:Violation .

era-sh:EtcsTransmitsTrackConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmitsTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12",
        "1.2.1.1.1.12" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsTransmitsTrackConditions (1.1.1.3.2.12.1, 1.2.1.1.1.12.1): The ETCS {$this} ({?thisLabel}), has a ETCS level type which makes the etcsTransmitsTrackConditions parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel
			WHERE {
                 $this era:etcsLevelType ?type.
				OPTIONAL{$this rdfs:label ?thisLabel} .
                FILTER NOT EXISTS {$this era:etcsTransmitsTrackConditions ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsTransmittedTrackConditions a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmittedTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12.1",
        "1.2.1.1.1.12.1" ;
    era:scope "local" ;
    rdfs:comment "Transmittable track conditions by the CCSSubsystem, as per CCS TSI. "@en ;
    sh:maxCount 1 ;
    sh:message "etcsTransmittedTrackConditions (1.1.1.3.2.12.1, 1.2.1.1.1.12.1): The ETCS has at most one etcsTransmittedTrackConditions value and it must be an IRI. This error is due to the ETCS having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsTransmittedTrackConditions ;
    sh:severity sh:Violation .

era-sh:EtcsTransmittedTrackConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmittedTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12.1",
        "1.2.1.1.1.12.1" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsTransmittedTrackConditions (1.1.1.3.2.12.1, 1.2.1.1.1.12.1): The ETCS {$this} ({?thisLabel}), has a ETCS level type which makes the etcsTransmittedTrackConditions parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel
			WHERE {
                 $this era:etcsLevelType ?type.
				OPTIONAL{$this rdfs:label ?thisLabel} .
                FILTER NOT EXISTS {$this era:etcsTransmittedTrackConditions ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsTransmittedTrackConditionsSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmittedTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12.1",
        "1.2.1.1.1.12.1" ;
    era:scope "local" ;
    rdfs:comment "Transmittable track conditions by the CCSSubsystem, as per CCS TSI. "@en ;
    sh:message "etcsTransmittedTrackConditions (1.1.1.3.2.12.1, 1.2.1.1.1.12.1): The ETCS {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-transmitted-tcs/TransmittedTrackConditions."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsTransmittedTrackConditions ?concept .
        era:etcsTransmittedTrackConditions era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:FreightFlag a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:freightFlag ;
    era:scope "local" ;
    rdfs:comment "Freight flag."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "freightFlag : The PrimaryLocation may have a freightFlag value that is a boolean. This error may be due to the Primary Location having more than one value or having  a value that is not a boolean."@en ;
    sh:path era:freightFlag ;
    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationApplicable a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationApplicable ;
    era:scope "local" ;
    rdfs:comment "Part of the section with train detection limitation that indicates if it is applicable. Only for the French network."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "frenchTrainDetectionSystemLimitationApplicable : The train detection system has a french train detection limitation applicable value that must be a boolean. This error may be due to not having a value, having more than one value or having a value that is not a boolean."@en ;
    sh:minCount 1 ;
    sh:path era:frenchTrainDetectionSystemLimitationApplicable ;
    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationNumber a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationNumber ;
    era:scope "local" ;
    rdfs:comment "Part of the section with train detection limitation that indicates the type of train detection limitation. Only for the French network"@en ;
    sh:maxCount 1 ;
    sh:message "frenchTrainDetectionSystemLimitationNumber : The train detection system has a french train detection limitation number that must be an IRI. This error may be due to not having a value, having more than one value or having a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:frenchTrainDetectionSystemLimitationNumber ;
    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationNumberSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:FrenchTrainDetectionSystemLimitation ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationNumber ;
    era:scope "local" ;
    rdfs:comment "Part of the section with train detection limitation that indicates the type of train detection limitation. Only for the French network"@en ;
    sh:message "Indication of the frenchTrainDetectionSystemLimitationNumber: The train detection system {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:   http://data.europa.eu/949/concepts/train-detection-numbers/FrenchTrainDetectionSystemLimitationNumbers."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:frenchTrainDetectionSystemLimitationNumber ?concept .
        era:frenchTrainDetectionSystemLimitationNumber era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:FrequencyBandsForDetection a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frequencyBandsForDetection ;
    era:rinfIndex "1.1.1.3.4.2",
        "1.2.1.1.3.2" ;
    era:scope "local" ;
    rdfs:comment "Bands of the frequency management of the train detection systems as defined in the TSI CCS (Annex I, Appendix A, Table A.2 -Index 77), and in the specific cases or technical documents referred to in Article 13 of TSI CCS when they are available."@en ;
    sh:maxCount 1 ;
    sh:message "frequencyBandsForDetection (1.1.1.3.4.2.1, 1.2.1.1.3.2): The train detection system has a frequency band for detection that must be an IRI. This error may be due to having more than one value or having a value that is not a Document."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:frequencyBandsForDetection ;
    sh:severity sh:Violation .

era-sh:FrequencyBandsForDetectionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frequencyBandsForDetection ;
    era:rinfIndex "1.1.1.3.4.2",
        "1.2.1.1.3.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of the frequency band for detection of the train detection system"@en ;
    sh:message "Indication of the frequency band for detection of the train detection system (1.1.1.3.4.2, 1.2.1.1.3.2): The train detection system {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/train-detection/FrequencyBandsForDetection."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this  ?concept
    WHERE {
        $this era:frequencyBandsForDetection ?concept .
        era:frequencyBandsForDetection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:HandoverPointFlag a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:handoverPointFlag ;
    era:scope "local" ;
    rdfs:comment "Handover point flag."@en ;
    sh:datatype xsd:boolean ;
    sh:message "handoverPointFlag : The PrimaryLocation may have a handoverPointFlag value that is a boolean. This error may be due to the Primary Location having  a value that is not a boolean."@en ;
    sh:path era:handoverPointFlag ;
    sh:severity sh:Violation .

era-sh:HasBridge a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasBridge ;
    era:scope "local" ;
    rdfs:comment "Whether or not a track is associated with a bridge. "@en ;
    sh:datatype xsd:boolean ;
    sh:message "hasBridge: The track  specifies if it is associated with a bridge and the value must be boolean. This error is due to the value not being Y/N (boolean)"@en ;
    sh:path era:hasBridge ;
    sh:severity sh:Violation .

era-sh:HasGeometry a sh:PropertyShape ;
    era:affectedClass era:Feature ;
    era:affectedProperty geosparql:hasGeometry ;
    era:rinfIndex "1.1.0.0.1.1",
        "1.1.1.0.1.1",
        "1.1.1.3.14.6",
        "1.2.0.0.0.5",
        "1.2.1.0.8.5" ;
    era:scope "local" ;
    rdfs:comment "Geographical coordinates in decimal degrees normally given for the centre of the OP. "@en ;
    sh:class geosparql:Geometry ;
    sh:maxCount 1 ;
    sh:message "hasGeometry (1.2.0.0.0.5):  Each feature must have at most one location. This error may be due to having a feature with more than one location or having a value that is not a geosparql:Geometry."@en ;
    sh:nodeKind sh:IRI ;
    sh:path geosparql:hasGeometry ;
    sh:severity sh:Violation .

era-sh:HasLrsCoordinate a sh:PropertyShape ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:hasLRS,
        era:hasLrsCoordinate ;
    era:scope "local" ;
    rdfs:comment "Specifies the LRS coordinate associated with a topological coordinate."@en ;
    sh:class era:LinearPositioningSystem ;
    sh:message "hasLrsCoordinate: The net point reference specifies an LRS coordinate that must be an instance of a LinearPositioningSystemCoordinate and that in turn references a LinearPositioningSystem. This error is due to having a value that is not a LinearPositioningSystemCoordinate that in turn references a LinearPositioningSystem."@en ;
    sh:path ( era:hasLrsCoordinate era:hasLRS ) ;
    sh:severity sh:Violation .

era-sh:HasOrganisationRole a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:hasOrganisationRole ;
    era:scope "local" ;
    rdfs:comment "The role played in an n-ary relationship between a Body and a specific concept in the concept scheme of organisation roles."@en ;
    sh:maxCount 1 ;
    sh:message "hasOrganisationRole: The organisation role must be represented as an IRI. This error may be due to not having a value, having more than one value, or having a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:hasOrganisationRole ;
    sh:severity sh:Violation .

era-sh:HasOrganisationRoleSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:hasOrganisationRole ;
    era:scope "local" ;
    rdfs:comment "The role played in an n-ary relationship between a Body and a specific concept in the concept scheme of organisation roles."@en ;
    sh:message "Indication of the hasOrganisationRole: The OrganisationRole {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/organisation-roles/."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:hasOrganisationRole ?concept .
        era:hasOrganisationRole era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:HasPart a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:hasPart ;
    era:scope "local" ;
    rdfs:comment "Indicates that an infrastructure element is composed of one or more other (distinct) infrastructure elements."@en ;
    sh:class era:InfrastructureElement ;
    sh:message "hasPart: The InfrastructureElement must have a hasPart reference that is an IRI that refers to an instance of InfrastructureElement. This error is due to not having a value or having a value that is not an instance of InfrastructureElement."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:hasPart ;
    sh:severity sh:Violation .

era-sh:HasPartOP a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:hasPart ;
    era:scope "local" ;
    rdfs:comment "Reference from an aggregated element to a basic element."@en ;
    sh:message "hasPart from an operational point : The Operational Point may have a siding (hasPart) reference that is a Siding object or a track (hasPart) reference that is a Track object. This error may be due to a hasPart relationship from an operational point that is not a Siding nor a Track."@en ;
    sh:nodeKind sh:IRI ;
    sh:or ( [ sh:class era:Siding ] [ sh:class era:RunningTrack ] [ sh:class era:KilometricPost ] ) ;
    sh:path era:hasPart ;
    sh:severity sh:Violation .

era-sh:HasSchematicOverviewOPDigitalForm a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:hasSchematicOverviewOPDigitalForm ;
    era:rinfIndex "1.2.0.0.0.7" ;
    era:scope "local" ;
    rdfs:comment "The existence of a schematic overview of the operational point in digital form."@en ;
    sh:datatype xsd:boolean ;
    sh:message "hasSchematicOverviewOPDigitalForm (1.2.0.0.0.7): The Operational Point has a hasSchematicOverviewOPDigitalForm reference that must be a boolean."@en ;
    sh:path era:hasSchematicOverviewOPDigitalForm ;
    sh:severity sh:Violation .

era-sh:HasSequence a sh:PropertyShape ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:hasSequence ;
    era:scope "local" ;
    rdfs:comment "The ordered sequence of topological linear elements which create a linear net reference."@en ;
    sh:class rdf:List ;
    sh:message "hasSequence: The net linear reference specifies an ordered sequence of topological linear elements that must be an instance of an rdf:List. This error is due to having a value that is not an instance of rdf:List."@en ;
    sh:path era:hasSequence ;
    sh:severity sh:Violation .

era-sh:HasTopoCoordinate a sh:PropertyShape ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:hasTopoCoordinate ;
    era:scope "local" ;
    rdfs:comment "Specifies the topological coordinate of a network point reference."@en ;
    sh:class era:TopologicalCoordinate ;
    sh:message "hasTopoCoordinate: The net point reference specifies a topo coordinate that must be an instance of a TopologicalCoordinate. This error is due to having a value that is not an instance of TopologicalCoordinate."@en ;
    sh:path era:hasTopoCoordinate ;
    sh:severity sh:Violation .

era-sh:InCountry a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:inCountry ;
    era:scope "local" ;
    rdfs:comment "Indicates the country to which the infrastructure element belongs "@en ;
    sh:maxCount 1 ;
    sh:message "inCountry:  Each infrastructure element must have exactly one country. This error may be due to having an infrast without or with more than one country or it value is not a Concept."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:inCountry ;
    sh:severity sh:Violation .

era-sh:InCountrySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:inCountry ;
    era:scope "local" ;
    rdfs:comment "Indicates the country to which the infrastructure element belongs "@en ;
    sh:message "The infrastructure element {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://publications.europa.eu/resource/authority/country."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this ?concept
    WHERE {
 		$this era:inCountry ?concept .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme <http://publications.europa.eu/resource/authority/country> .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:Includes a sh:PropertyShape ;
    era:affectedClass era:NetAreaReference ;
    era:affectedProperty era:includes ;
    era:scope "local" ;
    rdfs:comment "List of linear references included in an network area reference."@en ;
    sh:class rdf:List ;
    sh:message "includes: The net area reference specifies a list of linear references that must be an instance of an rdf:List. This error is due to having a value that is not an instance of rdf:List."@en ;
    sh:path era:includes ;
    sh:severity sh:Violation .

era-sh:InfrastructureManagerSKOSValue a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset,
        era:InfrastructureElement,
        era:OrganisationRole ;
    era:affectedProperty era:belongsTo,
        era:hasOrganisationRole,
        era:infrastructureManager ;
    era:rinfIndex "1.1.0.0.0.1",
        "1.1.1.1.8.1",
        "1.2.1.0.0.1",
        "1.2.1.0.5.1",
        "1.2.1.0.6.1",
        "1.2.2.0.0.1",
        "1.2.2.0.5.1" ;
    era:scope "local" ;
    rdfs:comment "Each infrastructure element can only be submitted by one infrastructure manager, represented by a four-digit code. "@en ;
    sh:message "imCode (1.2.1.0.6.1): Each infrastructure element {$this} with label {?label} refers to a network (subset with common characteristics), that in turn refers to an instance of an OrganisationRole. This instance must have an era:organisationRole pointing to the value era-organisation-roles:IM in the orgRoles SKOS concept scheme. The error is due to a {?value} different from <http://data.europa.eu/949/concepts/organisation-roles/IM>"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?label ?value
			WHERE {
                $this a era:InfrastructureElement .
                $this era:belongsTo ?subset .
                ?subset era:infrastructureManager ?orgRole .
                ?orgRole era:hasOrganisationRole ?value .
                OPTIONAL{$this rdfs:label ?label} .
                FILTER(?value != <http://data.europa.eu/949/concepts/organisation-roles/IM>) . 
				
			}
			""" .

era-sh:IsOnOriginOfElementA a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:isOnOriginOfElementA ;
    era:scope "local" ;
    rdfs:comment "Determines if the position of the topological element A in a relation is the origin of element A. "@en ;
    sh:datatype xsd:boolean ;
    sh:message "isOnOriginOfElementA: The net relation specifies if the position of the topological element A in a relation is the origin of element A. This error is due having a value that is not a boolean."@en ;
    sh:path era:isOnOriginOfElementA ;
    sh:severity sh:Violation .

era-sh:IsOnOriginOfElementB a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:isOnOriginOfElementB ;
    era:scope "local" ;
    rdfs:comment "Determines if the position of the topological element B in a relation is the origin of element B. "@en ;
    sh:datatype xsd:boolean ;
    sh:message "isOnOriginOfElementB: The net relation specifies if the position of the topological element B in a relation is the origin of element B. This error is due having a value that is not a boolean."@en ;
    sh:path era:isOnOriginOfElementB ;
    sh:severity sh:Violation .

era-sh:IsPartOf a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:isPartOf ;
    era:scope "local" ;
    rdfs:comment "Indicates that an infrastructure element is a part of another (distinct) infrastructure element."@en ;
    sh:class era:InfrastructureElement ;
    sh:message "hasPart: The InfrastructureElement may have a isPartOf reference that is an IRI that refers to an instance of InfrastructureElement. This error is due to having a value that is not an instance of InfrastructureElement."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:isPartOf ;
    sh:severity sh:Violation .

era-sh:Kilometer a sh:PropertyShape ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:kilometer ;
    era:rinfIndex "1.1.1.1.8.12.1",
        "1.1.1.1.8.13.1",
        "1.1.1.3.14.3",
        "1.1.1.3.14.7 ",
        "1.2.0.0.0.6",
        "1.2.1.0.5.10.1",
        "1.2.1.0.5.11.1",
        "1.2.1.0.8.3",
        "1.2.2.0.5.10.1",
        "1.2.2.0.5.9.1" ;
    era:scope "local" ;
    rdfs:comment "Distance measured in kilometers from the origin of a national railway line/route."@en ;
    sh:datatype xsd:double ;
    sh:message "kilometer (1.1.1.1.8.12.1, 1.1.1.1.8.13.1, 1.1.1.3.14.3, 1.1.1.3.14.7, 1.2.0.0.0.6, 1.2.1.0.5.10.1, 1.2.1.0.5.11.1, 1.2.1.0.8.3, 1.2.2.0.5.10.1, 1.2.2.0.5.9.1): The kilometer must be represented as a double number."@en ;
    sh:path era:kilometer ;
    sh:severity sh:Violation .

era-sh:LengthOfNetLinearElement a sh:PropertyShape ;
    era:affectedClass era:LinearElement ;
    era:affectedProperty era:lengthOfNetLinearElement ;
    era:scope "local" ;
    rdfs:comment "Length of a linear element. "@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "lengthOfNetLinearElement: The linear element has at most one value of length and it is a double number. This error is due to having more than one value or that the value is not a double number."@en ;
    sh:path era:lengthOfNetLinearElement ;
    sh:severity sh:Violation .

era-sh:LengthP a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:lengthOfPlatform ;
    era:rinfIndex "1.2.1.0.6.4" ;
    era:scope "local" ;
    rdfs:comment "The maximum continuous length (expressed in metres) of that part of platform in front of which a train is intended to remain stationary in normal operating conditions for passengers to board and alight from the train, making appropriate allowance for stopping tolerances. "@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "length (1.2.1.0.6.4): Each Platform must have at most one length. This error may be caused due to having a platform with more than one length or having a value that is not a Real number."@en ;
    sh:path era:lengthOfPlatform ;
    sh:severity sh:Violation .

era-sh:LengthS a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:lengthOfSiding ;
    era:rinfIndex "1.2.2.0.2.1" ;
    era:scope "local" ;
    rdfs:comment "Total length of the siding/stabling track expressed in meters where trains can be parked safely "@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "lengthOfSiding (1.2.2.0.2.1): Each siding may have a length in meters. This error is due to having more than one length value or having a length that is not a double (real) number or not following the pattern [NNNN]."@en ;
    sh:path era:lengthOfSiding ;
    sh:pattern "^([1-9]\\d{1,3}|[0-9])$" ;
    sh:severity sh:Violation .

era-sh:LengthT a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lengthOfTunnel ;
    era:rinfIndex "1.1.1.1.8.7",
        "1.2.1.0.5.5",
        "1.2.2.0.5.5" ;
    era:scope "local" ;
    rdfs:comment "Length of a tunnel in metres from entrance portal to exit portal."@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "length (1.1.1.1.8.7, 1.2.1.0.5.5, 1.2.2.0.5.5): A Tunnel must have at most one length declaration. This error may be due to having a tunnel with more than one length or to having a value that is not a double (real) number."@en ;
    sh:path era:length ;
    sh:severity sh:Violation .

era-sh:LineId a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lineId ;
    era:rinfIndex "1.1.0.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Unique line identification or unique line number within Member State."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "lineId: The line identification is unique and must be a string. This error is due to having more than one value or having a value that is not a string of characters"@en ;
    sh:path era:lineId ;
    sh:severity sh:Violation .

era-sh:LineReferenceTunnelEnd a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lineReferenceTunnelEnd ;
    era:scope "local" ;
    rdfs:comment "Part of the End of tunnel that indicates the km of the line at the end of a tunnel."@en ;
    sh:class era:NetPointReference ;
    sh:maxCount 1 ;
    sh:message "lineReferenceTunnelEnd (1.1.1.1.8.4): A Tunnel may have an end of tunnel location (lineReferenceTunnelEnd). This error may be due to a value that is not an IRI, more than one value being provided, or a value that is not a NetPointReference."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:lineReferenceTunnelEnd ;
    sh:severity sh:Violation .

era-sh:LineReferenceTunnelStart a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lineReferenceTunnelStart ;
    era:scope "local" ;
    rdfs:comment "Part of the Start of tunnel that indicates the km of the line at the beginning of a tunnel."@en ;
    sh:class era:NetPointReference ;
    sh:maxCount 1 ;
    sh:message "lineReferenceTunnelStart (1.1.1.1.8.3): A Tunnel may have a start of tunnel location (lineReferenceTunnelStart). This error may be due to a value that is not an IRI, more than one value being provided, or a value that is not a NetPointReference."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:lineReferenceTunnelStart ;
    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationAppearance a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:linesideDistanceIndicationAppearance ;
    era:scope "local" ;
    rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
    sh:maxCount 1 ;
    sh:message "linesideDistanceIndicationAppearance: The track must have at most one value of the lineside distance indication appearance. This error may be due to the track having no value, more than one value or to having a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:linesideDistanceIndicationAppearance ;
    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationFrequency a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:linesideDistanceIndicationFrequency ;
    era:scope "local" ;
    rdfs:comment "Frequency of track lineside distance indications.."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "linesideDistanceIndicationFrequency: The track must have at most one value of the lineside distance indication frequency. This error may be due to the track having a LineDistanceIndication with no value, more than one value or to having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:linesideDistanceIndicationFrequency ;
    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationPositioning a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:linesideDistanceIndicationPositioning ;
    era:scope "local" ;
    rdfs:comment "Indication of the side along the track where the lineside indication is positioned (left or right)."@en ;
    sh:maxCount 1 ;
    sh:message "LinesideDistanceIndicationPositioning: The track must have at most one value of the lineside distance indication positioning. This error may be due to the track having no value, more than one value or to having a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:linesideDistanceIndicationPositioning ;
    sh:severity sh:Violation .

era-sh:LinkedToPrimaryLocation a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:linkedToPrimaryLocation ;
    era:scope "local" ;
    rdfs:comment "Linked to primary location."@en ;
    sh:class era:PrimaryLocation ;
    sh:message "linkedToPrimaryLocation: An instance of subsidiary location may have a value for linkedToPrimaryLocation. This error may be due to having a value that is not an IRI or that does not point to an instance of PrimaryLocation."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:linkedToPrimaryLocation ;
    sh:severity sh:Violation .

era-sh:LoadCapabilityLineCategory a sh:PropertyShape ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilityLineCategory ;
    era:rinfIndex "1.1.1.1.2.4" ;
    era:scope "local" ;
    rdfs:comment "Load capability is a combination of the line category and speed at the weakest point of the track."@en ;
    sh:maxCount 1 ;
    sh:message "loadCapabilityLineCategory (1.1.1.1.2.4): The track or subset with common characteristics  must have a load capability with a value of line category that is an URI. This error may be due to having an instance of Load capability with no value of a line category, more than one value of a line category, or a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:loadCapabilityLineCategory ;
    sh:severity sh:Violation .

era-sh:LoadCapabilitySpeed a sh:PropertyShape ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilitySpeed ;
    era:rinfIndex "1.1.1.1.2.4" ;
    era:scope "local" ;
    rdfs:comment "Load capability is a combination of the line category and speed at the weakest point of the track." ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "loadCapabilitySpeed (1.1.1.1.2.4): The track or subset with common characteristics  must have a load capability with a value of speed that is an integer. This error may be due to having an instance of LoadCapability with no value of speed, more than one value of speed, or that the value is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:loadCapabilitySpeed ;
    sh:severity sh:Violation .

era-sh:LrsMethod a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lrsMethod ;
    era:scope "local" ;
    rdfs:comment "The preferred line referencing system."@en ;
    sh:message "lrsMethod: The linear positioning system must have an 'lrsMethod' value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:lrsMethod ;
    sh:severity sh:Violation .

era-sh:LrsMethodSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lrsMethod ;
    era:scope "local" ;
    rdfs:comment "The preferred line referencing system."@en ;
    sh:message "lrsMethod: The linear positionung system {$this} with label {?thisLabel}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/lines/ReferenceSystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?thisLabel ?concept 
    WHERE {
        OPTIONAL {$this rdfs:label ?thisLabel} .
        $this era:lrsMethod ?concept .
        era:lrsMethod era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme }
	}
""" ;
    sh:severity sh:Violation .

era-sh:MaxCurrentStandstillPantograph a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxCurrentStandstillPantograph ;
    era:rinfIndex "1.1.1.2.2.3",
        "1.2.2.0.6.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the maximum allowable current at standstill per pantograph"@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "maxCurrentStandstillPantograph (1.1.1.2.2.3, 1.2.2.0.6.1): The contact line system defines the maximum allowable current at standstill per pantograph . This error is due to having more than one value for this property, having a value that is not a double (real) number, or having a number that does not follow the pattern [NNN] (with 0 decimals)."@en ;
    sh:path era:maxCurrentStandstillPantograph ;
    sh:pattern "^([1-9]\\d{0,2}|0)$" ;
    sh:severity sh:Violation .

era-sh:MaxCurrentStandstillPantographApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxCurrentStandstillPantograph ;
    era:rinfIndex "1.1.1.2.2.3",
        "1.2.2.0.6.1" ;
    era:scope "local" ;
    rdfs:comment "This parameter is applicable (“Y”) only if “Overhead contact line (OCL)” is selected for parameter 1.1.1.2.2.1.1."@en ;
    sh:message "maxCurrentStandstillPantograph (1.1.1.2.2.3, 1.2.2.0.6.1):The Contact Line System {$this} ({?clsLabel}), has a 'Overhead contact line (OCL)' type which makes the maxCurrentStandstillPantograph parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/10>.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:maxCurrentStandstillPantograph ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MaximumContactWireHeight a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maximumContactWireHeight ;
    era:rinfIndex "1.1.1.2.2.5" ;
    era:scope "local" ;
    rdfs:comment "Indication of the maximum contact wire height expressed in metres"@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "maximumContactWireHeight (1.1.1.2.2.5): The contact line system defines a maximum contact wire height expressed in metres. This error is due to having more than one value for this property, having a value that is not a double (real) number, or having a number that does not follow the pattern [NNN] (with 0 decimals)."@en ;
    sh:path era:maximumContactWireHeight ;
    sh:pattern "^([0-9])(\\.\\d{2})?$" ;
    sh:severity sh:Violation .

era-sh:MaximumContactWireHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maximumContactWireHeight ;
    era:rinfIndex "1.1.1.2.2.5" ;
    era:scope "local" ;
    rdfs:comment "This parameter is applicable (“Y”) only if “Overhead contact line (OCL)” is selected for parameter 1.1.1.2.2.1.1."@en ;
    sh:message "maximumContactWireHeight (1.1.1.2.2.6):The Contact Line System {$this} ({?clsLabel}), has a 'Overhead contact line (OCL)' type which makes the maximumContactWireHeight parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/10>.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:maximumContactWireHeight ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MaximumInterferenceCurrent a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maximumInterferenceCurrent ;
    era:rinfIndex "1.1.1.3.4.2.1",
        "1.2.1.1.3.2.1" ;
    era:scope "local" ;
    rdfs:comment "Maximum interference current limits allowed for track circuits for a defined frequency band (to be expressed in A/m)."@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "maximumInterferenceCurrent (1.1.1.3.4.2.1, 1.2.1.1.3.2.1): Each train detection system must define the maximum interference current in Amperes. This error may be due to having more than one value or having a value that is not a double (real) number."@en ;
    sh:path era:maximumInterferenceCurrent ;
    sh:pattern "^([1-9]\\d{1,2}|[0-9])(\\D)?$" ;
    sh:severity sh:Violation .

era-sh:MaximumInterferenceCurrentEvaluation a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maximumInterferenceCurrentEvaluation ;
    era:rinfIndex "1.1.1.3.4.2.1",
        "1.2.1.1.3.2.1" ;
    era:scope "local" ;
    rdfs:comment "If the preferred frequency bands are not used, (mandatory) description of the parameters for evaluation of compliance. If the preferred frequency bands are used, this parameter is optional."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "maximumInterferenceCurrentEvaluation (1.1.1.3.4.2.1,  1.2.1.1.3.2.1): Each TrainDetectionSystem may have a single value for maximumInterferenceCurrentEvaluation that is a character string. This error is due to having more than one maximumInterferenceCurrentEvaluation value or having a value that is not a string."@en ;
    sh:path era:maximumInterferenceCurrentEvaluation ;
    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionX a sh:PropertyShape ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionX ;
    era:scope "local" ;
    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. Direction X."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "maximumMagneticFieldDirectionX : Each MaximumMagneticField may have a single value for maximum magnetic field direction X that is an integer. This error is due to not having a value, having more than one  value or having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:maximumMagneticFieldDirectionX ;
    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionY a sh:PropertyShape ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionY ;
    era:scope "local" ;
    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. Direction Y."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "maximumMagneticFieldDirectionY : Each MaximumMagneticField may have a single value for maximum magnetic field direction Y that is an integer. This error is due to not having a value, having more than one  value or having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:maximumMagneticFieldDirectionY ;
    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionZ a sh:PropertyShape ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionZ ;
    era:scope "local" ;
    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. Direction Z."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "maximumMagneticFieldDirectionZ : Each MaximumMagneticField may have a single value for maximum magnetic field direction Z that is an integer. This error is due to not having a value, having more than one  value or having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:maximumMagneticFieldDirectionZ ;
    sh:severity sh:Violation .

era-sh:MaximumTrainCurrent a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxTrainCurrent ;
    era:rinfIndex "1.1.1.2.2.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of the maximum allowable train current"@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "maxTrainCurrent (1.1.1.2.2.2): The contact line system defines the maximum allowable train current . This error is due to having more than one value for this property, having a value that is not an integer, or having an integer that does not follow the pattern [NNNN]."@en ;
    sh:path era:maxTrainCurrent ;
    sh:pattern "^([1-9]\\d{0,3}|0)$" ;
    sh:severity sh:Violation .

era-sh:MeasuredDistance a sh:PropertyShape ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:measuredDistance ;
    era:scope "local" ;
    rdfs:comment "Measured distance from the origin of the LRS."@en ;
    sh:datatype xsd:double ;
    sh:message "measuredDistance: The kilometer post measured distance must be represented as a double number."@en ;
    sh:path era:measuredDistance ;
    sh:severity sh:Violation .

era-sh:MinVehicleImpedance a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:minVehicleImpedance ;
    era:rinfIndex "1.1.1.3.4.2.2" ;
    era:scope "local" ;
    sh:class era:MinVehicleImpedance ;
    sh:maxCount 1 ;
    sh:message "minVehicleImpedance (1.1.1.3.4.2.2): The train detection system has a minimum vehicle impedance reference that must be a minimum vehicle impedance. This error may be due to having more than one value or having a value that is not an instance of a MinVehicleImpedance."@en ;
    sh:path era:minVehicleImpedance ;
    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleImpedance ;
    era:rinfIndex "1.1.1.3.4.2.2" ;
    era:scope "local" ;
    rdfs:comment "The parameter minVehicleImpedance is applicable for track circuits."@en ;
    sh:message "minVehicleImpedance (1.1.1.3.4.2.2):The Train Detection System {$this} ({?tdsLabel}), has a 'track circuit' type that makes the minVehicleImpedance parameter applicable. This error is due to not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tdsLabel
			WHERE {
                $this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/10> .
				OPTIONAL{$this rdfs:label ?tdsLabel} .
                FILTER NOT EXISTS {$this era:minVehicleImpedance ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceVoltages a sh:PropertyShape ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleImpedanceVoltages ;
    era:scope "local" ;
    rdfs:comment "Indication of the voltage system valid for the minimal impedance value (track circuits)."@en ;
    sh:maxCount 1 ;
    sh:message "minVehicleImpedanceVoltages: The MinVehicleImpedance has a minVehicleImpedanceVoltage that must be an IRI. This error may be due to not having a value, having more than one value or having a value that is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:minVehicleImpedanceVoltages ;
    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceVoltagesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleImpedanceVoltages ;
    era:rinfIndex "1.1.1.3.4.2.2",
        "1.2.1.1.3.2.2" ;
    era:scope "local" ;
    rdfs:comment "The parameter minVehicleImpedanceVoltages is applicable for track circuits."@en ;
    sh:message "minVehicleImpedanceVoltages (1.1.1.3.4.2.2, 1.2.1.1.3.2.2):The Train Detection System {$this} ({?clsLabel}), has a 'track circuit' type that makes the minVehicleImpedanceVoltages parameter applicable. This error is due to {?minVehicleImpedance} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
	WHERE {
			$this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/10>;
				era:minVehicleImpedance ?minVehicleImpedance.
		OPTIONAL{$this rdfs:label ?clsLabel} .
		FILTER NOT EXISTS {?minVehicleImpedance era:minVehicleImpedanceVoltages ?value} . 
	}
	""" ;
    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceVoltagesSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleImpedanceVoltages ;
    era:scope "local" ;
    rdfs:comment "Indication of the voltage system valid for the minimal impedance value (track circuits)."@en ;
    sh:message "minVehicleImpedanceVoltages: The minVehicleImpedance {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/energy-supply-systems/EnergySupplySystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this  ?concept
    WHERE {
        $this era:minVehicleImpedanceVoltages ?concept .
        era:minVehicleImpedanceVoltages era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
	""" ;
    sh:severity sh:Violation .

era-sh:MinVehicleInputCapacitance a sh:PropertyShape ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputCapacitance ;
    era:scope "local" ;
    rdfs:comment "For the selected DC voltage: [CCCC], as input capacitance [CCCC](Cin)."@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "minVehicleInputCapacitance: Each MinVehicleImpedance must define the minVehicleInputCapacitance. This error may be due to not having a value, having more than one value or having a value that is not a double (real) number."@en ;
    sh:minCount 1 ;
    sh:path era:minVehicleInputCapacitance ;
    sh:severity sh:Violation .

era-sh:MinVehicleInputCapacitanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputCapacitance ;
    era:rinfIndex "1.1.1.3.4.2.2",
        "1.2.1.1.3.2.2" ;
    era:scope "local" ;
    rdfs:comment "The parameter minVehicleInputCapacitance is applicable for track circuits."@en ;
    sh:message "minVehicleInputCapacitance (1.1.1.3.4.2.2, 1.2.1.1.3.2.2):The Train Detection System {$this} ({?clsLabel}), has a 'track circuit' type that makes the minVehicleInputCapacitance parameter applicable. This error is due to {?minVehicleImpedance} not having a value for such a parameter."@en ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
	WHERE {
			$this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/10>;
				era:minVehicleImpedance ?minVehicleImpedance.
		OPTIONAL{$this rdfs:label ?clsLabel} .
		FILTER NOT EXISTS {?minVehicleImpedance era:minVehicleInputCapacitance ?value} . 
	}
	""" ;
    sh:severity sh:Violation .

era-sh:MinVehicleInputImpedance a sh:PropertyShape ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputImpedance ;
    era:scope "local" ;
    rdfs:comment "For the selected DC voltage: [ZZZZ], as input impedance [ZZZZ](Zin)."@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "minVehicleInputImpedance: Each MinVehicleImpedance must define the minVehicleInputImpedance. This error may be due to not having a value, having more than one value or having a value that is not a double (real) number."@en ;
    sh:minCount 1 ;
    sh:path era:minVehicleInputImpedance ;
    sh:severity sh:Violation .

era-sh:MinVehicleInputImpedanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputImpedance ;
    era:rinfIndex "1.1.1.3.4.2.2",
        "1.2.1.1.3.2.2" ;
    era:scope "local" ;
    rdfs:comment "The parameter minVehicleInputImpedance is applicable for track circuits."@en ;
    sh:message "minVehicleInputImpedance (1.1.1.3.4.2.2, 1.2.1.1.3.2.2):The Train Detection System {$this} ({?clsLabel}), has a 'track circuit' type that makes the minVehicleInputImpedance parameter applicable. This error is due to {?minVehicleImpedance} not having a value for such a parameter."@en ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
	WHERE {
			$this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/10>;
				era:minVehicleImpedance ?minVehicleImpedance.
		OPTIONAL{$this rdfs:label ?clsLabel} .
		FILTER NOT EXISTS {?minVehicleImpedance era:minVehicleInputImpedance ?value} . 
	}
	""" ;
    sh:severity sh:Violation .

era-sh:MinimumContactWireHeight a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:minimumContactWireHeight ;
    era:rinfIndex "1.1.1.2.2.6" ;
    era:scope "local" ;
    rdfs:comment "Indication of the minimum minimum contact wire height expressed in metres"@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "minimumContactWireHeight (1.1.1.2.2.6): The contact line system defines a minimum contact wire height expressed in metres. This error is due to having more than one value for this property, having a value that is not a double (real) number, or having a number that does not follow the pattern [NNN] (with 0 decimals)."@en ;
    sh:path era:minimumContactWireHeight ;
    sh:pattern "^([0-9])(\\.\\d{2})?$" ;
    sh:severity sh:Violation .

era-sh:MinimumContactWireHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:minimumContactWireHeight ;
    era:rinfIndex "1.1.1.2.2.6" ;
    era:scope "local" ;
    rdfs:comment "This parameter is applicable (“Y”) only if “Overhead contact line (OCL)” is selected for parameter 1.1.1.2.2.1.1."@en ;
    sh:message "minimumContactWireHeight (1.1.1.2.2.6):The Contact Line System {$this} ({?clsLabel}), has a 'Overhead contact line (OCL)' type which makes the minimumContactWireHeight parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:contactLineSystemType <http://data.europa.eu/949/concepts/contact-line-systems/10>.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:minimumContactWireHeight ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusCrest a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:minimumVerticalRadiusCrest ;
    era:scope "local" ;
    rdfs:comment "Radius of the smallest vertical curve expressed in meters, part that indicates the crest "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "minimumVerticalRadiusCrest : Each siding may have a minimumVerticalRadiusCrest in meters. This error is due to having no value, having more than one value or having a value that is not an integer number."@en ;
    sh:minCount 1 ;
    sh:path era:minimumVerticalRadiusCrest ;
    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusHollow a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:minimumVerticalRadiusHollow ;
    era:scope "local" ;
    rdfs:comment "Radius of the smallest vertical curve expressed in meters, part that indicates the hollow "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "minimumVerticalRadiusHollow: Each siding may have a minimumVerticalRadiusHollow in meters. This error is due to having no value, having more than one value or having a a value that is not an integer number."@en ;
    sh:minCount 1 ;
    sh:path era:minimumVerticalRadiusHollow ;
    sh:severity sh:Violation .

era-sh:NationalLineSoL a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:nationalLine ;
    era:rinfIndex "1.1.0.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Unique line identification or unique line number within Member State. "@en ;
    sh:class era:LinearPositioningSystem ;
    sh:maxCount 1 ;
    sh:message "nationalLine (1.1.0.0.0.2): Each SoL belongs to exactly one linear positioning system. This error is due to not having a value, having more than one value, or having a value that is not an instance of LinearPositioningSystem."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:nationalLine ;
    sh:severity sh:Violation .

era-sh:Navigability a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:navigability ;
    era:scope "local" ;
    rdfs:comment "Indicates the navigation possibilities between two related topological linear elements. "@en ;
    sh:message "navigability: The net relation must have a navigability value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:navigability ;
    sh:severity sh:Violation .

era-sh:NavigabilitySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:navigability ;
    era:scope "local" ;
    rdfs:comment "Indicates the navigation possibilities between two related topological linear elements. "@en ;
    sh:message "era:navigability: The net relation {$this} with label {?thisLabel}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/navigabilities/Navigabilities."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?thisLabel ?concept 
    WHERE {
        OPTIONAL {$this rdfs:label ?thisLabel} .
        $this era:navigability ?concept .
        era:navigability era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme }
	}
""" ;
    sh:severity sh:Violation .

era-sh:NetReference a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:netReference ;
    era:scope "local" ;
    rdfs:comment "The reference that a physical insfrastructure element has it on the topology. It may be used to define the positioning or a representation as a point. line or area. "@en ;
    sh:class era:NetBasicReference ;
    sh:message "netReference: The infratructure element must have a net reference that points to an instance of NetBasicReference. This error is due to having a value that is not an instance of NetBasicReference."@en ;
    sh:path era:netReference ;
    sh:severity sh:Violation .

era-sh:NoRepeatedPlatformIdsOP a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint,
        era:PlatformEdge ;
    era:affectedProperty era:platformId ;
    era:rinfIndex "1.2.1.0.6.2" ;
    era:scope "global" ;
    rdfs:comment "Each platform shall have unique identification or number within the OP. This number cannot be used for naming any other platform in the same OP. "@en ;
    sh:message "platformId (1.2.1.0.6.2):: Each platform shall have unique identification or number within the OP. This number cannot be used for naming any other platform in the same OP. There is a problem with OP {$this} ({?opLabel}) and platforms {?platform1} ({?platform1Label}) and {?platform2} ({?platform2Label}), since they have the same identifier: {?value}."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?opLabel ?platform1 ?platform1Label ?platform2 ?platform2Label ?value
			WHERE {
                $this era:hasPart ?platform1 .
                $this era:hasPart ?platform2 .
                ?platform1 era:platformId ?value .
                ?platform2 era:platformId ?value .
                FILTER(?platform1 != ?platform2) . 
				OPTIONAL{$this rdfs:label ?opLabel} .
				OPTIONAL{?platform1 rdfs:label ?platform1Label} .
				OPTIONAL{?platform2 rdfs:label ?platform2Label} .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:NoRepeatedSidingIds a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint,
        era:Siding ;
    era:affectedProperty era:sidingId ;
    era:rinfIndex "1.2.2.0.0.2" ;
    era:scope "global" ;
    rdfs:comment "Each siding shall have unique identification or number within the OP. This number cannot be used for naming any other siding in the same OP. "@en ;
    sh:message "sidingId (1.2.2.0.0.2):: Each siding shall have unique identification or number within the OP. This number cannot be used for naming any other siding in the same OP. There is a problem with the OP {$this} ({?opLabel}) and sidings {?siding1} ({?siding1Label}) and {?siding2} ({?siding2Label}), since they have the same identifier: {?value}."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?opLabel ?siding1 ?siding1Label ?siding2 ?siding2Label ?value
			WHERE {
                $this era:hasPart ?siding1 .
                $this era:hasPart ?siding2 .
                ?siding1 era:sidingId ?value .
                ?siding2 era:sidingId ?value .
                FILTER(?siding1 != ?siding2) . 
				OPTIONAL{$this rdfs:label ?opLabel} .
				OPTIONAL{?siding1 rdfs:label ?siding1Label} .
				OPTIONAL{?siding2 rdfs:label ?siding2Label} .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:NoRepeatedTrackIdsOP a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint,
        era:RunningTrack ;
    era:affectedProperty era:trackId ;
    era:rinfIndex "1.2.1.0.0.2" ;
    era:scope "global" ;
    rdfs:comment "Each track shall have unique identification or number within the OP. This number cannot be used for naming any other track in the same OP."@en ;
    sh:message "trackId (1.2.1.0.0.2):: Each track shall have unique identification or number within the OP. This number cannot be used for naming any other track in the same OP. There is a problem with OP {$this} ({?opLabel}) and tracks {?track1} ({?track1Label}) and {?track2} ({?track2Label}), since they have the same identifier: {?value}."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?opLabel ?track1 ?track1Label ?track2 ?track2Label ?value
			WHERE {
                $this era:hasPart ?track1 .
                $this era:hasPart ?track2 .
                ?track1 era:trackId ?value .
                ?track2 era:trackId ?value .
                FILTER(?track1 != ?track2) . 
				OPTIONAL{$this rdfs:label ?opLabel} .
				OPTIONAL{?track1 rdfs:label ?track1Label} .
				OPTIONAL{?track2 rdfs:label ?track2Label} .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:NoRepeatedTrackIdsSoL a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack,
        era:SectionOfLine ;
    era:affectedProperty era:trackId ;
    era:rinfIndex "1.1.1.0.0.1" ;
    era:scope "global" ;
    rdfs:comment "Each track shall have unique identification or number within the SoL. This number cannot be used for naming any other track in the same SoL."@en ;
    sh:message "trackId (1.1.1.0.0.1): Each track shall have unique identification or number within the SoL. This number cannot be used for naming any other track in the same SoL. There is a problem with SoL {$this} ({?solLabel}) and tracks {?track1} ({?track1Label}) and {?track2} ({?track2Label}), since they have the same identifier: {?value}."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?solLabel ?track1 ?track1Label ?track2 ?track2Label ?value
			WHERE {
                $this era:hasPart ?track1 .
                $this era:hasPart ?track2 .
                ?track1 era:trackId ?value .
                ?track2 era:trackId ?value .
                FILTER(?track1 != ?track2) . 
				OPTIONAL{$this rdfs:label ?solLabel} .
				OPTIONAL{?track1 rdfs:label ?track1Label} .
				OPTIONAL{?track2 rdfs:label ?track2Label} .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:NotApplicablePropertyShape a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:notApplicable ;
    era:scope "local" ;
    rdfs:comment "Reference to a property that is not applicable."@en ;
    sh:message "The value of this property is a reference to an ontology property that is not provided and it must be an IRI. The error may be due to the property not belonging to the ERA ontology or the property not being an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:or ( [ sh:class owl:ObjectProperty ] [ sh:class owl:DatatypeProperty ] ) ;
    sh:path era:notApplicable ;
    sh:severity sh:Violation .

era-sh:NotYetAvailablePropertyShape a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:notYetAvailable ;
    era:scope "local" ;
    rdfs:comment "Reference to a property that is not provided."@en ;
    sh:message "The value of this property is a reference to an ontology property that is not provided and it must be an IRI. The error may be due to the property not belonging to the ERA ontology or the property not being an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:or ( [ sh:class owl:ObjectProperty ] [ sh:class owl:DatatypeProperty ] ) ;
    sh:path era:notYetAvailable ;
    sh:severity sh:Violation .

era-sh:OffsetFromKilometricPost a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystemCoordinate ;
    era:affectedProperty era:offsetFromKilometricPost ;
    era:scope "local" ;
    rdfs:comment "Relative distance from a reference kilometric post."@en ;
    sh:datatype xsd:double ;
    sh:message "offsetFromKilometricPost: The offset from kilometric post must be represented as a double number."@en ;
    sh:path era:offsetFromKilometricPost ;
    sh:severity sh:Violation .

era-sh:OffsetFromOrigin a sh:PropertyShape ;
    era:affectedClass era:TopologicalCoordinate ;
    era:affectedProperty era:offsetFromOrigin ;
    era:scope "local" ;
    rdfs:comment "Offset from the origin in a topological coordinate."@en ;
    sh:datatype xsd:positiveInteger ;
    sh:message "offsetFromOrigin: The offset from the origin in a topological coordinate must be represented as a positive integer."@en ;
    sh:path era:offsetFromOrigin ;
    sh:severity sh:Violation .

era-sh:OnElement a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:onElement ;
    era:scope "local" ;
    rdfs:comment "Specifies the linear element a section belongs to. "@en ;
    sh:class era:LinearElement ;
    sh:message "onElement: The linear element section specifies the linear element it belongs to. This error is due having a value that is not an instance of LinearElement."@en ;
    sh:path era:onElement ;
    sh:severity sh:Violation .

era-sh:OnLinearElement a sh:PropertyShape ;
    era:affectedClass era:TopologicalCoordinate ;
    era:affectedProperty era:onLinearElement ;
    era:scope "local" ;
    rdfs:comment "Specifies the linear element a coordinate is associated with. "@en ;
    sh:class era:LinearElement ;
    sh:message "onLinearElement: The topological coordinate specifies the linear element it belongs to. This error is due having a value that is not an instance of LinearElement."@en ;
    sh:path era:onLinearElement ;
    sh:severity sh:Violation .

era-sh:OpEnd a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opEnd ;
    era:rinfIndex "1.1.0.0.0.4" ;
    era:scope "global" ;
    rdfs:comment "Each SoL may have only one end OP, and each OP has unique OP ID within the MS. The “uniqueOPID” is defined in parameter 1.2.0.0.0.2. Each SoL has the principal direction of the traffic defined by increasing kilometres running from the start OP to the end OP. That is why the start OP is always located at lowest kilometre of the line within the SoL. Data collected in the UK in miles will be transformed to km for uploading to the RINF application. The OP ID must exist in the MS file of RINF. The value of this parameter must be different from 1.1.0.0.0.3. No validation will be performed by RINF application regarding which is the start and which the end OP. This requires national verification. "@en ;
    sh:disjoint era:opStart ;
    sh:maxCount 1 ;
    sh:message "opEnd (1.1.0.0.0.4): There must be at most one OP end for this section of line and it must be different from the OP start."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:opEnd ;
    sh:severity sh:Violation .

era-sh:OpEndExists a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opEnd ;
    era:rinfIndex "1.1.0.0.0.4" ;
    era:scope "global" ;
    rdfs:comment "Each SoL may have only one start OP, and each OP has unique OP ID within the MS. The “uniqueOPID” is defined in parameter 1.2.0.0.0.2. Each SoL has the principal direction of the traffic defined by increasing kilometres running from the start OP to the end OP. That is why the start OP is always located at lowest kilometre of the line within the SoL. Data collected in the UK in miles will be transformed to km for uploading to the RINF application.  The OP ID must exist in the MS file of RINF. The value of this parameter must be different from 1.1.0.0.0.3. No validation will be performed by RINF application regarding which is the start and which the end OP. This requires national verification. "@en ;
    sh:message "opEnd (1.1.0.0.0.4): There is an error with the SoL {$this} ({?solLabel}) and its OP end which does not exist."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?solLabel ?opEnd
			WHERE {
				OPTIONAL{$this rdfs:label ?solLabel} .
                FILTER NOT EXISTS { $this era:opEnd ?opEnd} .
   			}
			""" ;
    sh:severity sh:Violation .

era-sh:OpName a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opName ;
    era:rinfIndex "1.2.0.0.0.1" ;
    era:scope "local" ;
    rdfs:comment "Name normally related to the town or village or to traffic control purpose. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "opName (1.2.0.0.0.1): There has to be exactly one opName, and it must be represented as a String."@en ;
    sh:minCount 1 ;
    sh:path era:opName ;
    sh:severity sh:Violation .

era-sh:OpStart a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opStart ;
    era:rinfIndex "1.1.0.0.0.3" ;
    era:scope "global" ;
    rdfs:comment "Each SoL may have only one start OP, and each OP has unique OP ID within the MS. The “uniqueOPID” is defined in parameter 1.2.0.0.0.2. Each SoL has the principal direction of the traffic defined by increasing kilometres running from the start OP to the end OP. That is why the start OP is always located at lowest kilometre of the line within the SoL. Data collected in the UK in miles will be transformed to km for uploading to the RINF application. The OP ID must exist in the MS file of RINF. The value of this parameter must be different from 1.1.0.0.0.4. No validation will be performed by RINF application regarding which is the start and which the end OP. This requires national verification. "@en ;
    sh:disjoint era:opEnd ;
    sh:maxCount 1 ;
    sh:message "opStart (1.1.0.0.0.3): There must be at most one OP start for this section of line and it must be different from the OP end."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:opStart ;
    sh:severity sh:Violation .

era-sh:OpStartExists a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opStart ;
    era:rinfIndex "1.1.0.0.0.3" ;
    era:scope "global" ;
    rdfs:comment "Each SoL may have only one start OP, and each OP has unique OP ID within the MS. The “uniqueOPID” is defined in parameter 1.2.0.0.0.2. Each SoL has the principal direction of the traffic defined by increasing kilometres running from the start OP to the end OP. That is why the start OP is always located at lowest kilometre of the line within the SoL. Data collected in the UK in miles will be transformed to km for uploading to the RINF application.  The OP ID must exist in the MS file of RINF. The value of this parameter must be different from 1.1.0.0.0.4. No validation will be performed by RINF application regarding which is the start and which the end OP. This requires national verification. "@en ;
    sh:message "opStart (1.1.0.0.0.3): There is an error with the SoL {$this} ({?solLabel}) and its OP start which does not exist."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?solLabel ?opStart
			WHERE {
				OPTIONAL{$this rdfs:label ?solLabel} .
                FILTER NOT EXISTS {$this era:opStart ?opStart} .
   			}
			""" ;
    sh:severity sh:Violation .

era-sh:OpTypeGaugeChangeover a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opTypeGaugeChangeover ;
    era:rinfIndex "1.2.0.0.0.4.1" ;
    era:scope "local" ;
    rdfs:comment "Type of track gauge changeover facility. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "opTypeGaugeChangeover (1.2.0.0.0.4.1): The Operational Point must have at most one value of opTypeGaugeChangeover and its type must be a string."@en ;
    sh:path era:opTypeGaugeChangeover ;
    sh:severity sh:Violation .

era-sh:OpTypeP a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opType ;
    era:rinfIndex "1.2.0.0.0.4" ;
    era:scope "local" ;
    rdfs:comment "Type of facility in relation to the dominating operational functions.Each existing case has to be approximated to the one of the above defined types by including size, importance and dominating functions. It is most important to recognize the most important role of specific OP in the network. That is why only one type for one OP is permitted. "@en ;
    sh:maxCount 1 ;
    sh:message "opType (1.2.0.0.0.4):  Each Operational Point must have exactly one type. This error may be due to having an OP  with no type or with more than one type, or its value is not an IRI."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:opType ;
    sh:severity sh:Violation .

era-sh:OpTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opType ;
    era:rinfIndex "1.2.0.0.0.4" ;
    era:scope "local" ;
    rdfs:comment """Type of facility in relation to the dominating operational functions.
Each existing case has to be approximated to the one of the above defined types by including size, importance and dominating functions. It is most important to recognize the most important role of specific OP in the network. That is why only one type for one OP is permitted. """@en ;
    sh:message "Type of operational point   (1.2.0.0.0.4): The OP {$this} (label {?opLabel}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/op-types/OperationalPointTypes."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?concept ?opLabel
    WHERE {
         OPTIONAL {$this rdfs:label ?opLabel} .
 		$this era:opType ?concept .
        era:opType era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:OrganisationCode a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:organisationCode ;
    era:rinfIndex "1.1.0.0.0.1",
        "1.1.1.1.8.1",
        "1.2.1.0.0.1",
        "1.2.1.0.5.1",
        "1.2.1.0.6.1",
        "1.2.2.0.0.1",
        "1.2.2.0.5.1" ;
    era:scope "local" ;
    rdfs:comment "Four alpha-numeric code allocated by ERA to a body. It represent's the Infrastructure Manager (IM) code in RINF. Infrastructure manager means any body or firm responsible in particular for establishing, managing and maintaining railway infrastructure, including traffic management and control-command and signalling; the functions of the infrastructure manager on a network or part of a network may be allocated to different bodies or firms. Definition in (Article 3(2))."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:maxLength 4 ;
    sh:message "organisationCode (1.2.1.0.6.1, 1.1.0.0.0.1, 1.1.1.1.8.1, 1.2.1.0.0.1, 1.2.1.0.5.1, 1.2.2.0.0.1, 1.2.2.0.5.1): An OrganisationRole must have exactly one value of organisationCode. This error may be due to not having a value, having more than one value, having a value that is not a string or having a value that is not a four character code"@en ;
    sh:minCount 1 ;
    sh:minLength 4 ;
    sh:path era:organisationCode ;
    sh:severity sh:Violation .

era-sh:PermissionChargingElectricEnergyTractionStandstill a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:permissionChargingElectricEnergyTractionStandstill ;
    era:rinfIndex "1.2.1.0.7.1" ;
    era:scope "local" ;
    rdfs:comment "Indication if charging electric energy storage for traction purposes at standstill is permitted"@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "permissionChargingElectricEnergyTractionStandstill (1.2.1.0.7.1): The contact line system defines if charging electric energy storage for traction purposes at standstill is permitted. This error is due to having more than one value for this property or having a value that is not  Y/N (boolean)."@en ;
    sh:path era:permissionChargingElectricEnergyTractionStandstill ;
    sh:severity sh:Violation .

era-sh:PhaseInfoChangeSupplySystem a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoChangeSupplySystem ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "Phase info changeSupplySystem : The track has the phase info with the indication whether the supply system has to be changed value, that must be a character string. This error is due to the track having a SystemSeparationInfo with no value, more than one value, or a value that is not a string."@en ;
    sh:minCount 1 ;
    sh:path era:phaseInfoChangeSupplySystem ;
    sh:severity sh:Violation .

era-sh:PhaseInfoDistanceType a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoDistanceType ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "Phase info distance type : The track has a phase info with the single selection of 'MIN=minimum' or 'MAX=maximum' to show whether the length is a minimum distance between the inner contact strips of the pantographs or a maximum distance between the outer contact strips of the pantographs, that must be the string MIN or MAX. This error may be due to the track having a PhaseInfo with no value of distancetype, more than one value of distance type, or having a value that is not one of the strings MIN or MAX."@en ;
    sh:minCount 1 ;
    sh:or ( [ sh:hasValue "MIN" ] [ sh:hasValue "MAX" ] ) ;
    sh:path era:phaseInfoDistanceType ;
    sh:severity sh:Violation .

era-sh:PhaseInfoKm a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoKm ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information." ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "Phase info km : The track has a phase info with the location from the start of the line value (km), that must be a double. This error may be due to the track having a PhaseInfo with no value of km, more than one value of km, or a value that is not a double (real) number."@en ;
    sh:minCount 1 ;
    sh:path era:phaseInfoKm ;
    sh:severity sh:Violation .

era-sh:PhaseInfoLength a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoLength ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "Phase infolength (): The track has a phase info with the length of the phase separation value (length), that must be an integer. This error may be due to the track having a PhaseInfo with no value of length, more than one value of length,  or having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:phaseInfoLength ;
    sh:severity sh:Violation .

era-sh:PhaseInfoPantographLowered a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoPantographLowered ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "Phase info (1.1.1.2.4.1.2): The track has the phase info with the indication whether the pantograph is lowered value, that must be Y/N (boolean).  This error may be due to the track having a PhaseInfo with no value of phaseInfoPantographLowered, more than one value of phaseInfoPantographLowered, or having a value that is not Y/N (boolean)."@en ;
    sh:minCount 1 ;
    sh:path era:phaseInfoPantographLowered ;
    sh:severity sh:Violation .

era-sh:PhaseInfoSwitchOffBreaker a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoSwitchOffBreaker ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:datatype xsd:boolean ;
    sh:message "Phase info switchOffBreaker : The track has the phase info with the indication whether the breaker may be switched off value, that must be Y/N (boolean). This error may be due to the track having a PhaseInfo with no value of phaseInfoSwitchOffBreaker, more than one value of phaseInfoSwitchOffBreaker, or having a value that is not Y/N (boolean)."@en ;
    sh:path era:phaseInfoSwitchOffBreaker ;
    sh:severity sh:Violation .

era-sh:PlatformId a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:platformId ;
    era:rinfIndex "1.2.1.0.6.2 "@en ;
    era:scope "local" ;
    rdfs:comment "Unique platform identification or unique platform number within OP. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "platformId (1.2.1.0.6.2): Each Platform must have exactly one platformId. This error may be due to having a platform without or with more than one platformId or it value is not a string."@en ;
    sh:minCount 1 ;
    sh:path era:platformId ;
    sh:severity sh:Violation .

era-sh:PrimaryLocation a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:primaryLocation ;
    era:scope "local" ;
    rdfs:comment "Primary location code developed for information exchange in accordance with the TSIs relating to the telematics applications subsystem. "@en ;
    sh:class era:PrimaryLocation ;
    sh:message "primaryLocation: The infrastructure element has a primaryLocation reference that must be an IRI that refers to an instance of PrimaryLocation."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:primaryLocation ;
    sh:severity sh:Violation .

era-sh:PrimaryLocationCode a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:primaryLocationCode ;
    era:rinfIndex "1.2.0.0.0.3" ;
    era:scope "local" ;
    rdfs:comment "Primary location code developed for information exchange in accordance with the TSIs relating to the telematics applications subsystem."@en ;
    sh:datatype xsd:string ;
    sh:message "primaryLocationCode (1.2.0.0.0.3): The primary location code must be represented as a String and follow the pattern [AANNNNN]."@en ;
    sh:path era:primaryLocationCode ;
    sh:pattern "^[A-Z]{2}[0-9]{5}$" ;
    sh:severity sh:Violation .

era-sh:PrimaryLocationName a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:primaryLocationName ;
    era:scope "local" ;
    rdfs:comment "Primary location name."@en ;
    sh:datatype xsd:string ;
    sh:message "primaryLocationName : The PrimaryLocation may have a primaryLocationName value that is a string. This error may be due to the Primary Location having  a value that is not a string."@en ;
    sh:path era:primaryLocationName ;
    sh:severity sh:Violation .

era-sh:RaisedPantographsDistance a sh:PropertyShape ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsDistance ;
    era:rinfIndex "1.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minumum spacing centre line to centre line of adjacent pantograph heads, expressed in meters, at the given speed."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "Raised pantographs distance  (1.1.1.2.3.3): The track or subset with common characteristics must have a raised pantographs distance and speed with a value of distance that is an integer. This error is due to the track having a RaisedPantographDistanceAndSpeed with no value of distance, more than one value of distance or having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:raisedPantographsDistance ;
    sh:severity sh:Violation .

era-sh:RaisedPantographsNumber a sh:PropertyShape ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsNumber ;
    era:rinfIndex "1.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minumum spacing centre line to centre line of adjacent pantograph heads, expressed in meters, at the given speed."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "Raised pantographs number (1.1.1.2.3.3): The track or subset with common characteristics must have a raised pantographs distance and number with a value of number that is an integer. This error is due to having a RaisedPantographDistanceAndSpeed with no value of number, more than one value of number or having a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:raisedPantographsNumber ;
    sh:severity sh:Violation .

era-sh:RaisedPantographsSpeed a sh:PropertyShape ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsSpeed ;
    era:minCount 1 ;
    era:rinfIndex "1.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minumum spacing centre line to centre line of adjacent pantograph heads, expressed in meters, at the given speed."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "raised pantographs speed (1.1.1.2.3.3): The track or subset with common characteristics must have a raised pantographs distance and speed with a value of speed that is an integer. This error is due to having a RaisedPantographDistanceAndSpeed with no value of speed, more than one value of speed or having a value that is not an integer."@en ;
    sh:path era:raisedPantographsSpeed ;
    sh:severity sh:Violation .

era-sh:RbcID a sh:PropertyShape ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:rbcID ;
    era:rinfIndex "1.1.1.3.2.17",
        "1.2.1.1.1.17" ;
    era:scope "local" ;
    rdfs:comment "Unique RBC identification (NID_C+NID_RBC) as defined in the specification referenced in TSI CCS."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "rbcID (1.1.1.3.2.17, 1.2.1.1.1.17): The radio block center id must be represented as a String and follow the pattern [NNNN NNNN].This error may be due to having a value that is not a string or that does not follow the pattern"@en ;
    sh:path era:rbcID ;
    sh:pattern "^(\\d{4})( )?(\\d{4})$" ;
    sh:severity sh:Violation .

era-sh:RbcPhone a sh:PropertyShape ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:rbcPhone ;
    era:rinfIndex "1.1.1.3.2.17",
        "1.2.1.1.1.17" ;
    era:scope "local" ;
    rdfs:comment "Unique RBC calling number (NID_RADIO) as defined in the specification referenced in TSI CCS."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "rbcPhone (1.1.1.3.2.17, 1.2.1.1.1.17): The radio block center phone must be represented as a String and follow the pattern [NNNN NNNN NNNN NNNN].This error may be due to having a value that is not a string or that does not follow the pattern"@en ;
    sh:path era:rbcPhone ;
    sh:pattern "^(\\d{4})( )?(\\d{4})( )?(\\d{4})( )?(\\d{4})$" ;
    sh:severity sh:Violation .

era-sh:ReferenceBorderPoint a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:referenceBorderPoint ;
    era:scope "local" ;
    rdfs:comment "Relates an operational point that is a border point with an instance of the list of reference border points that are specified in the RINF Application Guide."@en ;
    sh:class era:ReferenceBorderPoint ;
    sh:maxCount 1 ;
    sh:message "referenceBorderPoint : The Operational Point may have a reference border pointthat is a ReferenceBorderPoint object. This error may be due to having more than one value of a reference border point, or having a value that is not a ReferenceBorderPoint instance."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:referenceBorderPoint ;
    sh:severity sh:Violation .

era-sh:RelativeDistanceDangerPoint a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:relativeDistanceDangerPoint ;
    era:rinfIndex "1.1.1.3.14.4",
        "1.2.1.0.8.4" ;
    era:scope "local" ;
    rdfs:comment "Distance in meters to the danger point."@en ;
    sh:datatype xsd:integer ;
    sh:message "relativeDistanceDangerPoint (1.1.1.3.14.4, 1.2.1.0.8.4): The distance in meters to the danger point must be represented as an integer and follow the pattern [NNN].This error may be due to having a value that is not an integer or that does not follow the pattern."@en ;
    sh:path era:relativeDistanceDangerPoint ;
    sh:pattern "^([1-9]\\d{1,2}|[0-9])$" ;
    sh:severity sh:Violation .

era-sh:Role a sh:PropertyShape ;
    era:affectedClass era:Body ;
    era:affectedProperty era:role ;
    era:scope "local" ;
    rdfs:comment "Indicates the relationship of a Body to the organisation roles that it can play."@en ;
    sh:class era:OrganisationRole ;
    sh:message "role: Each instance of a Body must have at least one role. This error mae be due to having no value or having a value that is not an instance of OrganisationRole."@en ;
    sh:minCount 1 ;
    sh:path era:role ;
    sh:severity sh:Violation .

era-sh:RoleOf a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:roleOf ;
    era:scope "local" ;
    rdfs:comment "Indicates the corresponding Body that plays a certain organisation role."@en ;
    sh:class era:Body ;
    sh:maxCount 1 ;
    sh:message "roleOf: Each instance of Organization Role points thorugh roleOf to exactly one instance of Body. This error mae be due to having no value, having more than one value or having a value that is not an instance of Body."@en ;
    sh:minCount 1 ;
    sh:path era:roleOf ;
    sh:severity sh:Violation .

era-sh:SidingId a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:sidingId ;
    era:rinfIndex "1.2.2.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Unique siding identification or unique siding number within OP "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "sidingId (1.2.2.0.0.2): Each siding must have a unique siding identification that is a character string. This error is due to not having a sidingId value, having more than one sidingId value or having a value that is not a string."@en ;
    sh:minCount 1 ;
    sh:path era:sidingId ;
    sh:severity sh:Violation .

era-sh:SignalId a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalId ;
    era:rinfIndex "1.1.1.3.14.1",
        "1.2.1.0.8.1" ;
    era:scope "local" ;
    rdfs:comment "Operational identifier of the signal (on the track or in OP), as in the operational and maintenance provisions."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "signalId (1.1.1.3.14.1, 1.2.1.0.8.1): A Signal may have at most one signal id and it must be represented as a String. This error may be due to having more than one value or having a value that is not a string"@en ;
    sh:path era:signalId ;
    sh:severity sh:Violation .

era-sh:SignalOrientation a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalOrientation ;
    era:rinfIndex "1.1.1.3.14.3",
        "1.2.1.0.8.3" ;
    era:scope "local" ;
    rdfs:comment "Indication if the signal (on the track or in OP) is applicable for operation on normal, opposite track direction or if it contains bidirectionally valid information (radio-based system only)."@en ;
    sh:message "signalOrientation (1.1.1.3.14.3, 1.2.1.0.8.3): A Signal may have an orientation and it must be represented as an IRI. This error may be due to having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:signalOrientation ;
    sh:severity sh:Violation .

era-sh:SignalOrientationSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalOrientation ;
    era:rinfIndex "1.1.1.3.14.3",
        "1.2.1.0.8.3 " ;
    era:scope "local" ;
    rdfs:comment "Indication if the signal (on the track or in OP) is applicable for operation on normal, opposite track direction or if it contains bidirectionally valid information (radio-based system only)."@en ;
    sh:message "Indication of the signalOrientation (1.1.1.3.14.3, 1.2.1.0.8.3 ):): The signal {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/track-running-directions/TrackRunningDirections."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:signalOrientation ?concept .
        era:signalOrientation era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:SignalType a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalType ;
    era:rinfIndex "1.1.1.3.14.2",
        "1.2.1.0.8.2" ;
    era:scope "local" ;
    rdfs:comment "Signalling information for Route Book compilation."@en ;
    sh:message "signalType (1.1.1.3.14.2, 1.2.1.0.8.2): The signal type must be represented as an IRI.This error may be due to having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:signalType ;
    sh:severity sh:Violation .

era-sh:SignalTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalType ;
    era:rinfIndex "1.1.1.3.14.2",
        "1.2.1.0.8.2" ;
    era:scope "local" ;
    rdfs:comment "Signalling information for Route Book compilation."@en ;
    sh:message "Indication of the signalType (1.1.1.3.14.2, 1.2.1.0.8.2): The signal {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/signal-types/."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:signalType ?concept .
        era:signalType era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:SoLTrackDirectionMaxCount a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack,
        era:SectionOfLine ;
    era:affectedProperty era:trackDirection ;
    era:rinfIndex "1.1.1.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "The normal running direction is: 1) the same as the direction defined by the start and end of the SoL 2) the opposite to the direction defined by the start and end of the SoL 3) both directions defined for SoL."@en ;
    sh:message "There should be at most one Track Direction. There is a problem with SoL {$this} ({?solLabel}) and its track {?track} ({?trackLabel}). This track has at least two different values for this property: {?value1} and {?value2}"@en ;
    sh:prefixes era: ;
    sh:select """
     PREFIX era: <http://data.europa.eu/949/>
     PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
     SELECT DISTINCT $this ?solLabel ?track ?trackLabel ?value1 ?value2
	 		WHERE {
                $this era:hasPart ?track .
     			OPTIONAL{?track rdfs:label ?trackLabel} .
	 			OPTIONAL{$this rdfs:label ?solLabel} .
                ?track era:trackDirection ?value1 .
                 ?track era:trackDirection ?value2 .
                 FILTER(?value1 < ?value2) .
   	 	}
		 	""" ;
    sh:severity sh:Violation .

era-sh:SoLTrackDirectionMinCount a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack,
        era:SectionOfLine ;
    era:affectedProperty era:trackDirection ;
    era:rinfIndex "1.1.1.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "The normal running direction is: 1) the same as the direction defined by the start and end of the SoL 2) the opposite to the direction defined by the start and end of the SoL 3) both directions defined for SoL."@en ;
    sh:message "There should be at least one Track Direction. There is a problem with SoL {$this} ({?solLabel}) and its track {?track} ({?trackLabel}). This track has no values for this property"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
     SELECT DISTINCT $this ?solLabel ?track ?trackLabel ?value
	 		WHERE {
                $this era:hasPart ?track .
     			OPTIONAL{?track rdfs:label ?trackLabel} .
	 			OPTIONAL{$this rdfs:label ?solLabel} .
                FILTER NOT EXISTS{?track era:trackDirection ?value} .
   	 		}
	 		""" ;
    sh:severity sh:Violation .

era-sh:SolLength a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:lengthOfSectionOfLine ;
    era:rinfIndex "1.1.0.0.0.5" ;
    era:scope "local" ;
    rdfs:comment "General description: The length of SoL is theoretical distance between centre points of Ops which are selected in such a way to represent the average value for all tracks within the SoL. It is advised to include distances applied by IM for commercial purposes.  Validation: No validation will be performed by RINF application regarding the length of SoL. This requires national verification. "@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "lengthOfSectionOfLine (1.1.0.0.0.5): Each SoL has exactly one length. This error is due to that either there is no length for the specified SoL, more than one length has been defined, or the datatype cannot be converted into an xsd:double."@en ;
    sh:minCount 1 ;
    sh:path era:lengthOfSectionOfLine ;
    sh:severity sh:Violation .

era-sh:SolNature a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:solNature ;
    era:rinfIndex "1.1.0.0.0.6" ;
    era:scope "local" ;
    rdfs:comment "General description: Validation: If the value of this parameter is 'Link', then for all tracks belonging to this SoL, all the parameters of the following groups of parameters are not applicable: 1.1.1.1 Infrastructure subsystem, 1.1.1.2 Energy subsystem, 1.1.1.3 Control-command and signalling subsystem. "@en ;
    sh:maxCount 1 ;
    sh:message "SoL nature (1.1.0.0.0.6): Either no SOL nature is specified for this SoL, or more than one SoL nature has been specified."@en ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:path era:solNature ;
    sh:severity sh:Violation .

era-sh:SolNatureApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:solNature ;
    era:rinfIndex "1.1.0.0.0.6" ;
    era:scope "global" ;
    rdfs:comment "If the value of this parameter is “Link”, then for all tracks belonging to this SoL, all the parameters of the following groups of parameters are not applicable: 1.1.1.1 Infrastructure subsystem; 1.1.1.2 Energy subsystem; 1.1.1.3 Control-command and signalling subsystem. "@en ;
    sh:message "SoL nature (1.1.0.0.0.6): The SoL {$this} ({?solLabel}), with opStart {?opStartID} and opEnd {?opEndID}, has a SOLnature of type Link, and at least one of its tracks has values for at least one of the groups of parameters 1.1.1.1, 1.1.1.2 or 1.1.1.3. This happens at least with the track {?track} ({?trackLabel}), with property {?p} (RINF index {?index})."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?solLabel ?opStartID ?opEndID ?p ?index ?track ?trackLabel
			WHERE {
                 $this era:solNature <http://data.europa.eu/949/concepts/sol-natures/rinf/20> .
				OPTIONAL{$this rdfs:label ?solLabel} .
                $this era:track ?track .
                $this era:opStart ?opStart . ?opStart era:uopid ?opStartID .
                $this era:opEnd ?opEnd . ?opEnd era:uopid ?opEndID .
				OPTIONAL{?track rdfs:label ?trackLabel} .
                ?track ?p ?y .
                ?p era:rinfIndex ?index .
                FILTER  EXISTS {?track ?p ?value} .
                FILTER(strstarts(?index,'1.1.1.1') || strstarts(?index,'1.1.1.2') || strstarts(?index,'1.1.1.3'))
            }
			""" ;
    sh:severity sh:Violation .

era-sh:SolNatureSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:solNature ;
    era:rinfIndex "1.1.0.0.0.6" ;
    era:scope "local" ;
    rdfs:comment "Indication of the SOL nature. "@en ;
    sh:message "SoL nature (1.1.0.0.0.6): The SOL {$this} with label {?label} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/sol-natures/SoLNatures."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?concept ?label
    WHERE {
 		OPTIONAL {$this rdfs:label ?label} .
        $this era:solNature ?concept .
        era:solNature era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:StartLocation a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:startLocation ;
    era:scope "local" ;
    rdfs:comment "Part of the Start of tunnel that indicates the Geographical coordinates according to the standard World Geodetic System (WGS)."@en ;
    sh:maxCount 1 ;
    sh:message "startLocation (1.1.1.1.8.3): The Tunnel may have a start location (startLocation) reference that is a Geometry object or a Point. This error mey be due to a startLocation relationship from a Tunnel that is not a Geometry nor a Point."@en ;
    sh:nodeKind sh:IRI ;
    sh:or ( [ sh:class geosparql:Geometry ] [ sh:class wgs1:Point ] ) ;
    sh:path era:startLocation ;
    sh:severity sh:Violation .

era-sh:StartOffsetFromOrigin a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:startOffsetFromOrigin ;
    era:scope "local" ;
    rdfs:comment "Start offset of the section from the origin."@en ;
    sh:datatype xsd:positiveInteger ;
    sh:message "startOffsetFromOrigin: The start offset of the section from the origin must be represented as a positive integer."@en ;
    sh:path era:startOffsetFromOrigin ;
    sh:severity sh:Violation .

era-sh:StartsAt a sh:PropertyShape ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:startsAt ;
    era:scope "local" ;
    rdfs:comment "Specifies the starting coordinate of a linear reference."@en ;
    sh:class era:TopologicalCoordinate ;
    sh:maxCount 1 ;
    sh:message "startsAt: The net linear reference specifies a starting coordinate that must be an instance of a TopologicalCoordinate. This error is due to not having a value, having more than one value or having a value that is not an instance of TopologicalCoordinate."@en ;
    sh:minCount 1 ;
    sh:path era:startsAt ;
    sh:severity sh:Violation .

era-sh:SubsetOf a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:subsetOf ;
    era:scope "local" ;
    rdfs:comment "Relates a subset with common chatacteristics with another subset with common characteristics. "@en ;
    sh:class era:CommonCharacteristicsSubset ;
    sh:message "subsetOf: The common characteristics subset must have a subsetOf reference that is an IRI that refers to an instance of another common characteristics subset. This error is due to having a value that is not an instance of CommonCharacteristicsSubset."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:subsetOf ;
    sh:severity sh:Violation .

era-sh:SubsidiaryLocationType a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationType ;
    era:scope "local" ;
    rdfs:comment "Subsidiary location type."@en ;
    sh:message "subsidiaryLocationType: An instance of subsidiary location may have a value for subsidiary location type. This error may be due to having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:subsidiaryLocationType ;
    sh:severity sh:Violation .

era-sh:SubsidiaryLocationTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationType ;
    era:scope "local" ;
    rdfs:comment "Subsidiary location type."@en ;
    sh:message "subsidiaryLocationType: The Subsidiary Location {$this} (label {?slLabel}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/subsidiary-location-types/SubsidiaryLocationTypes."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?concept ?opLabel
    WHERE {
         OPTIONAL {$this rdfs:label ?slLabel} .
 		$this era:subsidiaryLocationType ?concept .
        era:subsidiaryLocationType era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:SystemSeparationInfoChangeSupplySystem a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoChangeSupplySystem ;
    era:scope "local" ;
    rdfs:comment "Indication of required several information on system separation."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "System separation info changeSupplySystem : The track has the system separation info with the indication whether the supply system has to be changed value, that must be a character string. This error is due to the track having a SystemSeparationInfo with no value, more than one value, or a value that is not a string."@en ;
    sh:minCount 1 ;
    sh:path era:systemSeparationInfoChangeSupplySystem ;
    sh:severity sh:Violation .

era-sh:SystemSeparationInfoKm a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoKm ;
    era:scope "local" ;
    rdfs:comment "Indication of required several information on system separation."@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "System separation info km : The track has a system separation info with the location from the start of the line value (km), that must be a double.This error may be due to the track having a SystemSeparationInfo with no value, more than one value, or  a value that is not a double (real) number. "@en ;
    sh:minCount 1 ;
    sh:path era:systemSeparationInfoKm ;
    sh:severity sh:Violation .

era-sh:SystemSeparationInfoLength a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoLength ;
    era:scope "local" ;
    rdfs:comment "Indication of required several information on system separation."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "System separation info length: The track has a system separatione info with the length of the system separation value (length), that must be an integer. This error may be due to the track having a SystemSeparationInfo with no value, more than one value, or  a value that is not an integer."@en ;
    sh:minCount 1 ;
    sh:path era:systemSeparationInfoLength ;
    sh:severity sh:Violation .

era-sh:SystemSeparationInfoPantographLowered a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoPantographLowered ;
    era:scope "local" ;
    rdfs:comment "Indication of required several information on system separation."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "System separation info pantograph lowered: The track has the system separation info with the indication whether the pantograph is lowered value, that must be Y/N (boolean). This error may be due to the track having a SystemSeparationInfo with no value, more than one value, or  a value that is not Y/N (boolean)."@en ;
    sh:minCount 1 ;
    sh:path era:systemSeparationInfoPantographLowered ;
    sh:severity sh:Violation .

era-sh:SystemSeparationInfoSwitchOffBreaker a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoSwitchOffBreaker ;
    era:scope "local" ;
    rdfs:comment "Indication of required several information on system separation."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "System separation info switchOffBreaker : The track has the system separation info with the indication whther the breaker may be switched off value, that must be Y/N (boolean). This error is due to the track having a SystemSeparationInfo with no value, more than one value, or a value that is not Y/N (boolean)."@en ;
    sh:minCount 1 ;
    sh:path era:systemSeparationInfoSwitchOffBreaker ;
    sh:severity sh:Violation .

era-sh:TdsFrenchTrainDetectionSystemLimitation a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsFrenchTrainDetectionSystemLimitation ;
    era:rinfIndex "1.1.1.3.7.1.4",
        "1.2.1.1.6.3" ;
    era:scope "local" ;
    rdfs:comment "Relates the class train detection system with the class that represents the section with train detection limitation. Specific for route compatibility check on French network."@en ;
    sh:class era:FrenchTrainDetectionSystemLimitation ;
    sh:maxCount 1 ;
    sh:message "tdsFrenchTrainDetectionSystemLimitation (1.1.1.3.7.1.4, 1.2.1.1.6.3): The train detection system has a tds french train detection system limitation reference that must be a french train detection system limitation. This error may be due to having more than one value or having a value that is not an instance of a FrenchTrainDetectionSystemLimitation"@en ;
    sh:path era:tdsFrenchTrainDetectionSystemLimitation ;
    sh:severity sh:Violation .

era-sh:TdsMaximumMagneticField a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsMaximumMagneticField ;
    era:rinfIndex "1.1.1.3.4.2.3",
        "1.2.1.1.3.2.3" ;
    era:scope "local" ;
    rdfs:comment "Relates the Axle Counter TrainDetectionSystem with its MaximumMagneticField in (X,Y,Z). The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. It should be provided in 3 directions."@en ;
    sh:class era:MaximumMagneticField ;
    sh:maxCount 1 ;
    sh:message "tdsMaximumMagneticField (1.1.1.3.4.2.3, 1.2.1.1.3.2.3): The train detection system has a train detection system maximum magnetic field reference that must be a maximum magnetic field. This error may be due to having more than one value or having a value that is not an instance of a MaximumMagnaticField."@en ;
    sh:path era:tdsMaximumMagneticField ;
    sh:severity sh:Violation .

era-sh:TdsMaximumMagneticFieldApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsMaximumMagneticField ;
    era:rinfIndex "1.1.1.3.4.2.3",
        "1.2.1.1.3.2.3" ;
    era:scope "local" ;
    rdfs:comment "Y, for parameter 1.1.1.3.7.1.1 “Axle Counters” only."@en ;
    sh:message "tdsMaximumMagneticField (1.1.1.3.4.2.3, 1.2.1.1.3.2.3):The Train Detection System {$this} ({?clsLabel}), has an 'axle counters' type that makes the tdsMaximumMagneticField parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/eratv/axle-counters>.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:tdsMaximumMagneticField ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TrackDirectionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackDirection ;
    era:rinfIndex "1.1.1.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "The normal running direction is: 1) the same as the direction defined by the start and end of the SoL 2) the opposite to the direction defined by the start and end of the SoL 3) both directions defined for SoL."@en ;
    sh:message "Indication of the trackDirection (1.1.1.0.0.2):): The track {?track} in the Section of Line {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/track-running-directions/TrackRunningDirections."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:hasPart ?track .
        ?track era:trackDirection ?concept .
        era:trackDirection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:TrackId a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackId ;
    era:rinfIndex "1.1.1.0.0.1",
        "1.2.1.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Unique track identification or unique track number within an OP or a section of line. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "trackId (1.1.1.3.3.3.3, 1.2.1.1.2.3.3): The identification of a track must be a string. This error may be due to having a track with no identification or with more than one value as identification, or having a value that is not a string."@en ;
    sh:minCount 1 ;
    sh:path era:trackId ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheck a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheck ;
    era:rinfIndex "1.1.1.3.7.1.2",
        "1.2.1.1.6.1" ;
    era:scope "local" ;
    rdfs:comment "Reference to the technical specification of train detection system."@en ;
    sh:maxCount 1 ;
    sh:message "trainDetectionSystemSpecificCheck (1.1.1.3.7.1.2, 1.2.1.1.6.1): The train detection system has a train detection system specific check that must be a single IRI. This error may be due to having more than one value or having a value that is not an IRI." ;
    sh:nodeKind sh:IRI ;
    sh:path era:trainDetectionSystemSpecificCheck ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheck ;
    era:rinfIndex "1.1.1.3.7.1.2",
        "1.2.1.1.6.1" ;
    era:scope "local" ;
    rdfs:comment "Only applicable, when 1.1.1.3.7.1.1 is applicable."@en ;
    sh:message "trainDetectionSystemSpecificCheck (1.1.1.3.7.1.2, 1.2.1.1.6.1):The Train Detection System {$this} ({?clsLabel}), has a type that makes the trainDetectionSystemSpecificCheck parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:trainDetectionSystemType ?tdsType.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:trainDetectionSystemSpecificCheck ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckDocument a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheckDocument ;
    era:rinfIndex "1.1.1.3.7.1.3",
        "1.2.1.1.6.2" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with precise procedures for the specific check to be performed for train detection systems identified in 1.1.1.3.7.1.2."@en ;
    sh:class era:Document ;
    sh:maxCount 1 ;
    sh:message "trainDetectionSystemSpecificCheckDocument (1.1.1.3.7.1.3, 1.2.1.1.6.2): The track defines the electronic document available in two EU languages value and it must be a Document. This error may be due to having more than one value or having a value that is not a Document."@en ;
    sh:path era:trainDetectionSystemSpecificCheckDocument ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheckDocument ;
    era:rinfIndex "1.1.1.3.7.1.3",
        "1.2.1.1.6.2" ;
    era:scope "local" ;
    rdfs:comment "Only applicable, when 1.1.1.3.7.1.1 is applicable."@en ;
    sh:message "trainDetectionSystemSpecificCheckDocument (1.1.1.3.7.1.3, 1.2.1.1.6.2):The Train Detection System {$this} ({?clsLabel}), has a type that makes the trainDetectionSystemSpecificCheckDocument parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:trainDetectionSystemType ?tdsType.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:trainDetectionSystemSpecificCheckDocument ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheck ;
    era:rinfIndex "1.1.1.3.7.1.2",
        "1.2.1.1.6.1" ;
    era:scope "local" ;
    rdfs:comment "Reference to the technical specification of train detection system."@en ;
    sh:message "Indication of specific checks of train detection system installed (1.1.1.3.7.1.2, 1.2.1.1.6.1): The train detection system {$this} (label {?tdsLabel}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/train-detection-specific-checks."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?tdsLabel
    WHERE {
        OPTIONAL {$this rdfs:label ?tdsLabel} .
        $this era:trainDetectionSystemSpecificCheck ?concept .
        era:trainDetectionSystemSpecificCheck era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemType a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemType ;
    era:rinfIndex "1.1.1.3.7.1.1",
        "1.2.1.1.3.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of types of train detection system installed."@en ;
    sh:maxCount 1 ;
    sh:message "trainDetectionSystemType (1.1.1.3.7.1.1, 1.2.1.1.3.1.1): The train detection system has a train detection system type that must be a single IRI. This error may be due to having more than one value or having a value that is not an IRI." ;
    sh:nodeKind sh:IRI ;
    sh:path era:trainDetectionSystemType ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystemTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemType ;
    era:rinfIndex "1.1.1.3.7.1.1",
        "1.2.1.1.3.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of types of train detection system installed."@en ;
    sh:message "Indication of types of train detection system installed (1.1.1.3.7.1.1, 1.2.1.1.3.1.1): The train detection system {$this} (label {?tdsLabel}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/train-detection/TrainDetectionSystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?tdsLabel
    WHERE {
        OPTIONAL {$this rdfs:label ?tdsLabel} .
        $this era:trainDetectionSystemType ?concept .
        era:trainDetectionSystemType era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:TunnelIdentification a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:tunnelIdentification ;
    era:rinfIndex "1.1.1.1.8.2",
        "1.2.1.0.5.2",
        "1.2.2.0.5.2" ;
    era:scope "local" ;
    rdfs:comment "Unique tunnel identification or unique number within Member State."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "tunnelIdentification (1.1.1.1.8.2, 1.2.1.0.5.2, 1.2.2.0.5.2): Each Tunnel can be referred with only one identification. This error may be due to having a Tunnel with no identification, with more than one identification or with an identification that is not a character string."@en ;
    sh:minCount 1 ;
    sh:path era:tunnelIdentification ;
    sh:severity sh:Violation .

era-sh:Umax2 a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:umax2 ;
    era:rinfIndex "1.1.1.2.2.1.3" ;
    era:scope "local" ;
    rdfs:comment "Umax2 for lines referred to in sections 7.4.2.2.1 and 7.4.2.11.1 of Regulation (EU) 1301/2014"@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "umax2 (1.1.1.2.2.1.3): The contact line system defines the Umax2 . This error is due to having more than one value for this property, having a value that is not an integer, or having an integer that does not follow the pattern [NNNNNN]."@en ;
    sh:path era:umax2 ;
    sh:pattern "^([1-9]\\d{0,5}|0)$" ;
    sh:severity sh:Violation .

era-sh:UopidMin a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:uopid ;
    era:rinfIndex "1.2.0.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Enforce minCount considering all instances that are not border points. "@en ;
    sh:message "uopid (1.2.0.0.0.2):  The OperationalPoint {$this} with label {?opLabel} does not have a value for uopid."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel ?propertyValue 		
    WHERE {
               OPTIONAL {$this rdfs:label ?opLabel} .
               FILTER NOT EXISTS {$this era:uopid ?propertyValue} .
               FILTER NOT EXISTS {$this era:referenceBorderPoint ?borderOP } .
			}
			""" ;
    sh:severity sh:Violation .

era-sh:UopidP a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:uopid ;
    era:rinfIndex "1.2.0.0.0.2" ;
    era:scope "local" ;
    rdfs:comment "Code composed of country code and alphanumeric OP code. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "uopid (1.2.0.0.0.2): This error is due to having more than one op id, having a value that is not a string, or having a value that does not follow the pattern where the first part ‘AA’ is the country code in two-letter system of ISO and the second part is the alphanumeric OP code within the MS."@en ;
    sh:path era:uopid ;
    sh:pattern "^[A-Z]{2}.{0,10}$" ;
    sh:severity sh:Violation .

era-sh:Validity a sh:PropertyShape ;
    era:affectedClass era:Feature ;
    era:affectedProperty era:validity ;
    era:scope "local" ;
    rdfs:comment "Relates a feature with a temporal feature to indicate a validity period. "@en ;
    sh:class era:TemporalFeature ;
    sh:message "validity: The feature has a validity value that points to an instance of TemporalFeature. This error is due to having a value that is not an instance of TemporalFeature."@en ;
    sh:path era:validity ;
    sh:severity sh:Violation .

era-sh:AccelerationLevelCrossing a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:accelerationLevelCrossing ;
    era:rinfIndex "1.1.1.1.7.3" ;
    era:scope "local" ;
    rdfs:comment "Existence of limit for acceleration of train if stopping or recovering speed close to a level crossing expressed in a specific reference acceleration curve."@en ;
    sh:class era:Document ;
    sh:maxCount 1 ;
    sh:message "accelerationLevelCrossing (1.1.1.1.7.3): The track or subset with common characteristics must have at most one acceleration level crossing value that is a Document. This error may be due to having more than one value or having a value that is not an instance of Document."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:accelerationLevelCrossing ;
    sh:severity sh:Violation .

era-sh:AccelerationLevelCrossingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:accelerationLevelCrossing ;
    era:rinfIndex "1.1.1.1.7.3" ;
    era:scope "local" ;
    rdfs:comment "Existence of limit for acceleration of train if stopping or recovering speed close to a level crossing expressed in a specific reference acceleration curve."@en ;
    sh:message "accelerationLevelCrossing (1.1.1.1.7.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Applicable only when selected value of parameter 1.1.1.1.7.2 is ‘Y’"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                FILTER EXISTS {$this era:hasLevelCrossings ?value} .  			
                FILTER NOT EXISTS {$this era:accelerationLevelCrossing ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:AdditionalBrakingInformationDocument a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:additionalBrakingInformationDocument ;
    era:rinfIndex "1.1.1.3.11.3" ;
    era:scope "local" ;
    rdfs:comment "Documents available by the IM relating to braking performance."@en ;
    sh:class era:Document ;
    sh:message "additionalBrakingInformationDocument (1.1.1.3.11.3): The track or subset with common characteristics defines the documents available by the IM relating to braking performance value and it must be a Document."@en ;
    sh:path era:additionalBrakingInformationDocument ;
    sh:severity sh:Violation .

era-sh:AdditionalBrakingInformationDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:additionalBrakingInformationDocument ;
    era:rinfIndex "1.1.1.3.11.3" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency providing additional information as defined in point (2) of point 4.2.2.6.2 of TSI OPE."@en ;
    sh:message "additionalBrakingInformationDocument (1.1.1.3.11.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y in case of Y for 1.1.1.3.11.2."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hasAdditionalBrakingInformation "1"^^xsd:boolean .		
                FILTER NOT EXISTS {$this era:additionalBrakingInformationDocument ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:AreaBoardingAid a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:areaBoardingAid ;
    era:rinfIndex "1.2.1.0.6.7" ;
    era:scope "local" ;
    rdfs:comment "Information of the train access level for which the boarding aid can be used. "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "areaBoardingAid (1.2.1.0.6.7): Each Platform must have at most one areaBoardingAid value. This error may be caused due to having a platform with multiple areaBoardingAid values or having a value that is not an integer."@en ;
    sh:path era:areaBoardingAid ;
    sh:severity sh:Violation .

era-sh:AssistanceStartingTrain a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:assistanceStartingTrain ;
    era:rinfIndex "1.2.1.0.6.6" ;
    era:scope "local" ;
    rdfs:comment """Indication of existence of equipment or staff supporting the train crew in starting the train.
Fixed equipment (for example mirrors or CCTV cameras) or station staff indicating to train crew or driver when to close doors and whether this has been done successfully. """@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "assistanceStartingTrain (1.2.1.0.6.6): Each Platform must have at most one assistanceStartingTrain declaration. This error may be caused due to having a platform with having more than one assistanceStartingTrain, or its value is not Y/N (boolean)."@en ;
    sh:path era:assistanceStartingTrain ;
    sh:severity sh:Violation .

era-sh:AtoCommunicationSystem a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:atoCommunicationSystem ;
    era:rinfIndex "1.1.1.3.13.3",
        "1.2.1.1.10.3" ;
    era:scope "local" ;
    rdfs:comment "Supported ATO communication systems from trackside. "@en ;
    sh:message "atoCommunicationSystem (1.1.1.3.13.3, 1.2.1.1.10.3): The track or subset with common characteristics must have a ATO communication system value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:atoCommunicationSystem ;
    sh:severity sh:Violation .

era-sh:AtoCommunicationSystemSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:atoCommunicationSystem ;
    era:rinfIndex "1.1.1.3.13.3",
        "1.2.1.1.10.3" ;
    era:scope "local" ;
    rdfs:comment "Supported ATO communication systems from trackside. "@en ;
    sh:message "atoCommunicationSystem (1.1.1.3.13.3, 1.2.1.1.10.3): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ato-commsys/ATOCommSystem."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:atoCommunicationSystem ?concept .
        era:atoCommunicationSystem era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:AtoGradeAutomation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:atoGradeAutomation ;
    era:rinfIndex "1.1.1.3.13.1",
        "1.2.1.1.10.1" ;
    era:scope "local" ;
    rdfs:comment "ATO grade of automation installed lineside. "@en ;
    sh:message "atoGradeAutomation (1.1.1.3.13.1, 1.2.1.1.10.1): The track or subset with common characteristics must have a ATO grade of automation installed lineside value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:atoGradeAutomation ;
    sh:severity sh:Violation .

era-sh:AtoGradeAutomationSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:atoGradeAutomation ;
    era:rinfIndex "1.1.1.3.13.1",
        "1.2.1.1.10.1" ;
    era:scope "local" ;
    rdfs:comment "ATO grade of automation installed lineside. "@en ;
    sh:message "atoGradeAutomation (1.1.1.3.13.1, 1.2.1.1.10.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ato-grades-automation/ATOGradeOfAutomation."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:atoGradeAutomation ?concept .
        era:atoGradeAutomation era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:AtoSystemVersion a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:atoSystemVersion ;
    era:rinfIndex "1.1.1.3.13.2",
        "1.2.1.1.10.2" ;
    era:scope "local" ;
    rdfs:comment "ATO system version according to the specification referenced in TSI CCS (4.2.19). "@en ;
    sh:message "atoSystemVersion (1.1.1.3.13.1, 1.2.1.1.10.1): The track or subset with common characteristics must have a ATO system version value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:atoSystemVersion ;
    sh:severity sh:Violation .

era-sh:AtoSystemVersionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:atoSystemVersion ;
    era:rinfIndex "1.1.1.3.13.2",
        "1.2.1.1.10.2" ;
    era:scope "local" ;
    rdfs:comment "ATO system version according to the specification referenced in TSI CCS (4.2.19). "@en ;
    sh:message "atoSystemVersion (1.1.1.3.13.1, 1.2.1.1.10.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ato-s-versions/ATOSystemVersions."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:atoSystemVersion ?concept .
        era:atoSystemVersion era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:AutomaticDroppingDeviceRequired a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:automaticDroppingDeviceRequired ;
    era:rinfIndex "1.1.1.2.5.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of the requirement of automatic dropping device."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "automaticDroppingDeviceRequired (1.1.1.2.5.3): The track or subset with common characteristics must have at most one value of the requirement of automatic dropping device and it is Y/N (boolean). This error is due to the track having more than one value or to having a value that is not Y/N (boolean)."@en ;
    sh:path era:automaticDroppingDeviceRequired ;
    sh:severity sh:Violation .

era-sh:AutomaticDroppingDeviceRequiredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:automaticDroppingDeviceRequired ;
    era:rinfIndex "1.1.1.2.5.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of whether an automatic dropping device (ADD) required on the vehicle."@en ;
    sh:message "automaticDroppingDeviceRequired (1.1.1.2.5.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:automaticDroppingDeviceRequired ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:BigMetalMass a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:bigMetalMass ;
    era:rinfIndex "1.1.1.3.2.18",
        "1.2.1.1.1.18" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of metal mass in the vicinity of the location, susceptible of perturbating the reading of balises by the on-board system. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "bigMetalMass (1.1.1.3.2.18, 1.2.1.1.1.18): Each track or subset with common characteristics may define the existence of a metal mass in the vicinity of the location. This error is due to having more than one indication of existence of big metal mass value or having an indication of big metal mass value that is not Y/N (boolean)."@en ;
    sh:path era:bigMetalMass ;
    sh:severity sh:Violation .

era-sh:BigMetalMassApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:bigMetalMass ;
    era:rinfIndex "1.1.1.3.2.18",
        "1.2.1.1.1.18" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "bigMetalMass (1.1.1.3.2.18, 1.2.1.1.1.18):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the bigMetalMass parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:bigMetalMass ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:CantDeficiency a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:cantDeficiency ;
    era:rinfIndex "1.1.1.1.4.2" ;
    era:scope "local" ;
    rdfs:comment "Maximum cant deficiency expressed in millimeters defined as difference between the applied cant and a higher equilibrium cant the line has been designed for."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "cantDeficiency (1.1.1.1.4.2): The track or subset with common characteristics must have at most one cant deficiency value that is an integer. This error may be due to the track having more than one cant deficiency value or to having a value that is not an int."@en ;
    sh:path era:cantDeficiency ;
    sh:pattern "^(\\+|\\-)?([0-9]\\d{0,3})$" ;
    sh:severity sh:Violation .

era-sh:CantDeficiencyBasicSSP a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:cantDeficiencyBasicSSP ;
    era:rinfIndex "1.1.1.3.2.14",
        "1.2.1.1.1.14" ;
    era:scope "local" ;
    rdfs:comment "Essential information for drivers of trains with a worse (lower) tolerated cant deficiency than those for which the ETCS trackside provides SSP (Static Speed Profiles) in conjunction with  parameter \"Other Cant Deficiency train categories for which the ETCS trackside is configured to provide SSP\". "@en ;
    sh:maxCount 1 ;
    sh:message "cantDeficiencyBasicSSP (1.1.1.3.2.14, 1.2.1.1.1.14): The track or subset with common characteristics must have a cant deficiency used for the basis SSP value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:cantDeficiencyBasicSSP ;
    sh:severity sh:Violation .

era-sh:CantDeficiencyBasicSSPApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:cantDeficiencyBasicSSP ;
    era:rinfIndex "1.1.1.3.2.14",
        "1.2.1.1.1.14" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "cantDeficiencyBasicSSP (1.1.1.3.2.14, 1.2.1.1.1.14):The track or subset with common characteristics {$this} ({?label}), has a 'ETCS Level Type' defined which makes the cantDeficiencyBasicSSP parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:cantDeficiencyBasicSSP ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:CantDeficiencyBasicSSPSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:cantDeficiencyBasicSSP ;
    era:rinfIndex "1.1.1.3.2.14",
        "1.2.1.1.1.14" ;
    era:scope "local" ;
    rdfs:comment "Essential information for drivers of trains with a worse (lower) tolerated cant deficiency than those for which the ETCS trackside provides SSP (Static Speed Profiles) in conjunction with  parameter \"Other Cant Deficiency train categories for which the ETCS trackside is configured to provide SSP\". "@en ;
    sh:message "cantDeficiencyBasicSSP (1.1.1.3.2.14, 1.2.1.1.1.14): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/cant-deficiencies/CantDeficiencies."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:cantDeficiencyBasicSSP ?concept .
        era:cantDeficiencyBasicSSP era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:CompatibilityProcedureDocument a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:compatibilityProcedureDocument ;
    era:rinfIndex "1.1.1.1.2.4.4" ;
    era:scope "local" ;
    rdfs:comment "Document with the procedure for static and dynamic compatibility checks."@en ;
    sh:class era:Document ;
    sh:message "compatibilityProcedureDocument (1.1.1.1.2.4.4): The track or subset with common characteristics has a name of the compatibility procedure document that must be a Document."@en ;
    sh:path era:compatibilityProcedureDocument ;
    sh:severity sh:Violation .

era-sh:ComplianceInfTsiApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:complianceInfTsi ;
    era:rinfIndex "1.1.1.1.8.8.1" ;
    era:scope "local" ;
    rdfs:comment "Y (applicable) if is speed of the line equal or greater than 200km/h."@en ;
    sh:message "complianceInfTsi (1.1.1.1.8.9, 1.2.1.0.5.6, 1.2.2.0.5.6): The Tunnel {$this} ({?label}) has a maximum permitted speed of {?tunnelSpeed} Km/h . For any tunnel with a speed of the line equal or greater than 200km/h the complianceInfTsi parameter is applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:maximumPermittedSpeed ?tunnelSpeed .
				OPTIONAL{$this rdfs:label ?label} .
				FILTER (?tunnelSpeed >= 200).
                FILTER NOT EXISTS {$this era:complianceInfTsi ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:ComplianceInfTsiP a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:complianceInfTsi ;
    era:rinfIndex "1.1.1.1.8.8.1" ;
    era:scope "local" ;
    rdfs:comment "Compliance of the tunnel with INF TSI at the maximum permitted speed."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "complianceInfTsi (1.1.1.1.8.8.1): A Tunnel can have at most one complianceInfTsi. This error may be due to having a tunnel with more than one complianceInfTsi or having a value type different than Y/N (boolean)."@en ;
    sh:path era:complianceInfTsi ;
    sh:severity sh:Violation .

era-sh:ConditionalRegenerativeBrake a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionalRegenerativeBrake ;
    era:rinfIndex "1.1.1.2.2.4" ;
    era:scope "local" ;
    rdfs:comment "Indication whether regenerative braking is permitted, not permitted, or permitted under specific conditions."@en ;
    sh:maxCount 1 ;
    sh:message "conditionalRegenerativeBrake (1.1.1.2.2.4): The track or subset with common characteristics defines if the regenerative brake is permitted. This error is due to having more than one value for this property or having a value that is not  an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:conditionalRegenerativeBrake ;
    sh:severity sh:Violation .

era-sh:ConditionalRegenerativeBrakeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionalRegenerativeBrake ;
    era:rinfIndex ".1.1.2.2.4" ;
    era:scope "local" ;
    rdfs:comment "Indication whether regenerative braking is permitted, not permitted, or permitted under specific conditions. "@en ;
    sh:message "conditionalRegenerativeBrake (1.1.1.2.2.4):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/regenerative-braking/RegenerativeBraking."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:conditionalRegenerativeBrake ?concept .
        era:conditionalRegenerativeBrake era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ConditionsSwitchClassBSystems a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionsSwitchClassBSystems ;
    era:rinfIndex "1.1.1.3.8.3",
        "1.2.1.1.7.3" ;
    era:scope "local" ;
    rdfs:comment "Name and/or reference of the document specifying the Special technical conditions required to switch over between ERTMS/ETCS and Class B systems. "@en ;
    sh:class era:Document ;
    sh:maxCount 1 ;
    sh:message "conditionsSwitchClassBSystems (1.1.1.3.8.3, 1.2.1.1.7.3): The track or subset with common characteristics has Special technical conditions required to switch over between ERTMS/ETCS and Class B systems value that must be a Document.  This error is due to having more than one value or having a value that is not an instance of Document."@en ;
    sh:path era:conditionsSwitchClassBSystems ;
    sh:severity sh:Violation .

era-sh:ConditionsSwitchClassBSystemsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionsSwitchClassBSystems ;
    era:rinfIndex "1.1.1.3.8.3",
        "1.2.1.1.7.3" ;
    era:scope "local" ;
    rdfs:comment "Applicable ('Y') when at least two different class of protection systems exist. "@en ;
    sh:message "conditionsSwitchClassBSystems (1.1.1.3.8.3, 1.2.1.1.7.3):The track or subset with common characteristics {$this} ({?label}), has a more than one protection system defined which makes the conditionsSwitchClassBSystems parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label ?count
			WHERE {
				{
				SELECT $this (COUNT(?system) AS ?count) WHERE{
					{$this era:protectionLegacySystem ?system}
					UNION
					{$this era:otherTrainProtection ?system}					
					} GROUP BY $this
				}
				OPTIONAL{$this rdfs:label ?label} .
				FILTER ( ?count > 1) .
                FILTER NOT EXISTS {$this era:conditionsSwitchClassBSystems ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:ConditionsSwitchTrainProtectionSystems a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionsSwitchTrainProtectionSystems ;
    era:rinfIndex "1.1.1.3.8.1.1",
        "1.2.1.1.7.1.1" ;
    era:scope "local" ;
    rdfs:comment "Conditions to switch over between different class B train protection, control and warning systems. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "conditionsSwitchTrainProtectionSystems (1.1.1.3.8.1.1, 1.2.1.1.7.1.1): The track or subset with common characteristics has a Special conditions to switch over between different class B train protection, control and warning systems value that must be a string and follow the format [NNN]. The error is due to having more than one value, having a value that is not a string, or it is due to the value not following the pattern."@en ;
    sh:path era:conditionsSwitchTrainProtectionSystems ;
    sh:severity sh:Violation .

era-sh:ConditionsUseReflectivePlates a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionsUseReflectivePlates ;
    era:rinfIndex "1.1.1.1.7.12.1" ;
    era:scope "local" ;
    rdfs:comment "Details of any conditions for using the reflective plates on freight corridors. Specific case for Portugal and Spain until 1.1.2025 and Belgium and France until 1.1.2026."@en ;
    sh:message "conditionsUseReflectivePlates (1.1.1.1.7.12.1): The track or subset with common characteristics may have a value of the conditions for use of reflective plates. This error may be due to the track having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:conditionsUseReflectivePlates ;
    sh:severity sh:Violation .

era-sh:ConditionsUseReflectivePlatesSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:conditionsUseReflectivePlates ;
    era:rinfIndex "1.1.1.1.7.12.1" ;
    era:scope "local" ;
    rdfs:comment "Details of any conditions for using the reflective plates on freight corridors. Specific case for Portugal and Spain until 1.1.2025 and Belgium and France until 1.1.2026."@en ;
    sh:message "Indication of the conditionsUseReflectivePlates (1.1.1.1.7.12.1): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/conditions-use-reflective-plates/ConditionsUseReflectivePlates."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:conditionsUseReflectivePlates ?concept .
        era:conditionsUseReflectivePlates era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ContactLineSystem a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:contactLineSystem ;
    era:rinfIndex "1.1.1.2.2",
        "1.2.2.0.6.1" ;
    era:scope "local" ;
    rdfs:comment "Contact line system present in the section of line." ;
    sh:class era:ContactLineSystem ;
    sh:maxCount 1 ;
    sh:message "contactLineSystem (1.2.2.0.6.1, 1.1.1.2.2) : The track or subset with common characteristics may have at most one value of a contact line system that must be an instance of ContactLineSystem. This error may be due to having more than one value or having a value that is not an instance of the class ContactLineSystem."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:contactLineSystem ;
    sh:severity sh:Violation .

era-sh:ContactStripMaterialApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:contactStripMaterial ;
    era:rinfIndex "1.1.1.2.3.4" ;
    era:scope "local" ;
    rdfs:comment "Indication of which contact strip materials are permitted to be used."@en ;
    sh:message "contactStripMaterial (1.1.1.2.3.4): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:contactStripMaterial ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:ContactStripMaterialMetallicContent a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:contactStripMaterialMetallicContent ;
    era:rinfIndex "1.1.1.2.3.4" ;
    era:scope "local" ;
    rdfs:comment "In case that the value of the property era:contactStripMaterial is impregnated carbon, it is the metallic content, the maximum percentage allowed."@en ;
    sh:datatype xsd:integer ;
    sh:message "contactStripMaterialMetallicContent (1.1.1.2.3.4): The track or subset with common characteristics has an indication of the material of the contact strip that must be an integer. This error may be due to the track having a value that is not an integer."@en ;
    sh:path era:contactStripMaterialMetallicContent ;
    sh:severity sh:Violation .

era-sh:ContactStripMaterialSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:contactStripMaterial ;
    era:rinfIndex "1.1.1.2.3.4" ;
    era:scope "local" ;
    rdfs:comment "Indication of the material of the contact strip."@en ;
    sh:message "Indication of the contactStripMaterial (1.1.1.2.3.4):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/contact-strip-materials/ContactStripMaterials."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:contactStripMaterial ?concept .
        era:contactStripMaterial era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:CrossSectionAreaApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:crossSectionArea ;
    era:rinfIndex "1.1.1.1.8.8.8" ;
    era:scope "local" ;
    rdfs:comment "Y (applicable) if is speed of the line equal or greater than 200km/h."@en ;
    sh:message "crossSectionArea (1.1.1.1.8.8): The Tunnel {$this} ({?label}) has a maximum permitted speed of {?tunnelSpeed} Km/h . For any tunnel with a speed of the line equal or greater than 200km/h the crossSectionArea parameter is applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:maximumPermittedSpeed ?tunnelSpeed .
				OPTIONAL{$this rdfs:label ?label} .
				FILTER (?tunnelSpeed >= 200).
                FILTER NOT EXISTS {$this era:crossSectionArea ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:CrossSectionAreaT a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:crossSectionArea ;
    era:rinfIndex "1.1.1.1.8.8" ;
    era:scope "local" ;
    rdfs:comment "Smallest cross section area in square metres of the tunnel."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "crossSectionArea (1.1.1.1.8.8): A Tunnel can have at most one crossSectionArea. This error may be due to having a tunnel with more than one crossSectionArea or having a value  that is not an integer number."@en ;
    sh:path era:crossSectionArea ;
    sh:severity sh:Violation .

era-sh:CurrentLimitationRequired a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:currentLimitationRequired ;
    era:rinfIndex "1.1.1.2.5.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of whether an on board current or power limitation function on vehicles is required."@en ;
    sh:datatype xsd:boolean ;
    sh:message "currentLimitationRequired (1.1.1.2.5.1): The track or subset with common characteristics may have a current limitation required value that is a boolean. This error may be due to the track having a value that is not a boolean."@en ;
    sh:path era:currentLimitationRequired ;
    sh:severity sh:Violation .

era-sh:CurrentLimitationRequiredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:currentLimitationRequired ;
    era:rinfIndex "1.1.1.2.5.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of whether an on board current or power limitation function on vehicles is required."@en ;
    sh:message "currentLimitationRequired (1.1.1.2.5.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: When 'not electrified' is chosen in parameter 1.1.1.2.2.1.1, then this parameter is not applicable selection ‘N’."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  = <http://data.europa.eu/949/concepts/contact-line-systems/40>) .			
                FILTER EXISTS {$this era:currentLimitationRequired ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:DNvovtrp a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dNvovtrp ;
    era:rinfIndex "1.1.1.3.2.16.5",
        "1.2.1.1.1.16.5" ;
    era:scope "local" ;
    rdfs:comment "Maximum distance for overriding the train trip in metres. "@en ;
    sh:datatype xsd:decimal ;
    sh:maxCount 1 ;
    sh:maxExclusive 327670.0 ;
    sh:message "dNvovtrp (1.1.1.3.2.16.5, 1.2.1.1.1.16.5): Each track or subset with common characteristics must define the maximum distance for overriding the train trip expressed in metres. This error is due to having maximum distance for overriding the train trip value that is not a double (real) number."@en ;
    sh:minInclusive 0.0 ;
    sh:path era:dNvovtrp ;
    sh:pattern "^(([1-9]{0,1}[0-9]{0,3}\\.{1}[0-9]{1})|([1-9]\\d{1,4}0)|([1-9]\\d{0,4}))" ;
    sh:severity sh:Violation .

era-sh:DNvovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dNvovtrp ;
    era:rinfIndex "1.1.1.3.2.16.5",
        "1.2.1.1.1.16.5" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present)"@en ;
    sh:message "dNvovtrp (1.1.1.3.2.16.5, 1.2.1.1.1.16.5):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the dNvovtrp parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:dNvovtrp ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:DNvpotrp a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dNvpotrp ;
    era:rinfIndex "1.1.1.3.2.16.7",
        "1.2.1.1.1.16.7" ;
    era:scope "local" ;
    rdfs:comment "Maximum distance for reversing in Post Trip mode in metres"@en ;
    sh:datatype xsd:decimal ;
    sh:maxCount 1 ;
    sh:maxExclusive 327670.0 ;
    sh:message "dNvpotrp (1.1.1.3.2.16.7, 1.2.1.1.1.16.7): Each track or subset with common characteristics must define the maximum distance for reversing in Post Trip mode in metres. This error is due to having maximum distance for reversing in Post Trip mode value that is not a double (real) number."@en ;
    sh:minInclusive 0.0 ;
    sh:path era:dNvpotrp ;
    sh:pattern "^(([1-9]{0,1}[0-9]{0,3}\\.{1}[0-9]{1})|([1-9]\\d{1,4}0)|([1-9]\\d{0,4}))" ;
    sh:severity sh:Violation .

era-sh:DNvpotrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dNvpotrp ;
    era:rinfIndex "1.1.1.3.2.16.7",
        "1.2.1.1.1.16.7" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "dNvpotrp (1.1.1.3.2.16.7, 1.2.1.1.1.16.7):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the dNvpotrp parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:dNvpotrp ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:DNvroll a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dNvroll ;
    era:rinfIndex "1.1.1.3.2.16.1",
        "1.2.1.1.1.16.1" ;
    era:scope "local" ;
    rdfs:comment "Parameter used by the ETCS on-board to supervise the distance allowed to be travelled under the roll-away protection and the reverse movement protection, in metres. "@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "dNvroll (1.1.1.3.2.16.1, 1.2.1.1.1.16.1): Each track or subset with common characteristics must define the parameter used by the ETCS on-board to supervise the distance allowed to be travelled under the roll-away protection and the reverse movement protection expressed in metres. This error is due to having more than one value or having a value that is not a double (real) number."@en ;
    sh:path era:dNvroll ;
    sh:pattern "^(([1-9]{0,1}[0-9]{0,3}\\.{1}[0-9]{1})|([1-9]\\d{1,4}0)|([1-9]\\d{0,4}))" ;
    sh:severity sh:Violation .

era-sh:DNvrollApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dNvroll ;
    era:rinfIndex "1.1.1.3.2.16.1",
        "1.2.1.1.1.16.1" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "dNvroll (1.1.1.3.2.16.7, 1.2.1.1.1.16.7):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the dNvroll parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:dNvroll ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:DataRadioCompatible a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dataRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.10",
        "1.2.1.1.2.10" ;
    era:scope "local" ;
    rdfs:comment "Radio requirements used for demonstrating technical compatibility data. "@en ;
    sh:message "dataRadioCompatible (1.1.1.3.3.10, 1.2.1.1.2.10): The track or subset with common characteristics may have a radio system compatibility data value that is an IRI. This error is due to having a  value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:dataRadioCompatible ;
    sh:severity sh:Violation .

era-sh:DataRadioCompatibleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dataRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.10",
        "1.2.1.1.2.10" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) and ETCS L2 (parameter 1.1.1.3.2.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "dataRadioCompatible (1.1.1.3.3.10, 1.2.1.1.2.10):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the dataRadioCompatible parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:dataRadioCompatible ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:DataRadioCompatibleSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:dataRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.10",
        "1.2.1.1.2.10" ;
    era:scope "local" ;
    rdfs:comment "Radio requirements used for demonstrating technical compatibility data. "@en ;
    sh:message "dataRadioCompatible (1.1.1.3.3.10, 1.2.1.1.2.10): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/radio-system-compatibilities-data/RadioSystemCompatibilitiesData."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:dataRadioCompatible ?concept .
        era:dataRadioCompatible era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:DemonstrationENE a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:demonstrationENE ;
    era:rinfIndex "1.1.1.2.1.2" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EI declarations following the same format requirements as specified in the 'Document about practical arrangents for transmitting interoperability documents'."@en ;
    sh:datatype xsd:string ;
    sh:message "demonstrationENE (1.1.1.2.1.2): The track or subset with common characteristics has a number for EI declarations that must follow format CC/XXXXXXXXXXXXXX/YYYY/NNNNNN where CC is country code, XXXXX... is a number, YYYY is a year between 1900 and 2100, NNNNNN is the number for the EI declaration. This error may be due to the track having a value that is not a tring or that does not follow the pattern."@en ;
    sh:path era:demonstrationENE ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:DemonstrationINF a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:demonstrationINF ;
    era:rinfIndex "1.1.1.1.1.2",
        "1.2.1.0.1.2" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EI declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents'. "@en ;
    sh:datatype xsd:string ;
    sh:message "demonstrationINF (1.1.1.1.1.2, 1.2.1.0.1.2): The demonstrationINF must be a string following the format 'XX/XXXXXXXXXXXXXX/YYYY/DDDDDD' where XX is the country code, XXXXXXXXXXXXXX is the unique number for EI declarations, YYYY is the year of the declaration (1900-2100) and DDDDDD is the sequential number of the declaration. This error is due to the value not following the pattern."@en ;
    sh:path era:demonstrationINF ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:DemonstrationINFS a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:demonstrationINF ;
    era:rinfIndex "1.1.1.1.1.2",
        "1.2.1.0.1.2",
        "1.2.2.0.1.2" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EI declarations following the same format requirements as specified in the 'Documents about practical arrangements for transmitting interoperability documents' "@en ;
    sh:datatype xsd:string ;
    sh:message "demonstrationINF (1.1.1.1.1.2, 1.2.1.0.1.2, 1.2.2.0.1.2): Each siding or subset with common characteristics  may have one or more demonstrationINF.  This error is due to the value not being a string or the value not following this pattern: country code/national registration number/year between 1900 and 2100/progressive counter."@en ;
    sh:minCount 0 ;
    sh:path era:demonstrationINF ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:DemonstrationSRT a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:demonstrationSRT ;
    era:rinfIndex "1.1.1.1.8.6",
        "1.2.1.0.5.4",
        "1.2.2.0.5.4" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EI declarations following the same format requirements as specified in the 'Document about practical arrangements for transmitting interoperability documents'"@en ;
    sh:datatype xsd:string ;
    sh:message "demonstrationSRT (1.1.1.1.8.6, 1.2.1.0.5.4, 1.2.2.0.5.4): Each Tunnel may have one or more demonstrationSRT following this pattern country code/national registration number/year between 1900 and 2100/progressive counter. This error may be due to having a value that does not follow the pattern or that is not a character string."@en ;
    sh:path era:demonstrationSRT ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:DieselThermalAllowed a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:dieselThermalAllowed ;
    era:rinfIndex "1.2.1.0.5.9" ;
    era:scope "local" ;
    rdfs:comment "Indication whether it is allowed to use diesel or other thermal traction in the tunnel."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "dieselThermalAllowed (1.2.1.0.5.9): A Tunnel may have an indication about the permission of thermal traction. This error may be due to having a tunnel with more than one dieselThermalAllowed declaration or having a value type different than Y/N (boolean)."@en ;
    sh:path era:dieselThermalAllowed ;
    sh:severity sh:Violation .

era-sh:DistSignToPhaseEnd a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:distSignToPhaseEnd ;
    era:scope "local" ;
    rdfs:comment "Specific for route compatibility check on French network. Distance between the signboard authorizing the driver to 'raise pantograph' or 'close the circuit breaker' after passing the phase separation and the end of the phase separation section."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "distSignToPhaseEnd: The track or subset with common characteristics must have at most one value of the distance between the signboard authorizing the driver to 'raise pantograph' or 'close the circuit breaker' after passing the phase separation and the end of the phase separation section, and the value is an integer. This error is due to the track having more than one value or to having a value that is not an integer."@en ;
    sh:path era:distSignToPhaseEnd ;
    sh:pattern "^([1-9]\\d{1,2}|[0-9])$" ;
    sh:severity sh:Violation .

era-sh:DocumentRestrictionPositionContactLineSeparation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:documentRestrictionPositionContactLineSeparation ;
    era:rinfIndex "1.1.1.2.5.5" ;
    era:scope "local" ;
    rdfs:comment "Document with restriction related to the position of Multiple Traction unit(s) to comply with contact line separation."@en ;
    sh:class era:Document ;
    sh:message "documentRestrictionPositionContactLineSeparation (1.1.1.2.5.5): The track or subset with common characteristics may have a Document with restriction related to the position of Multiple Traction unit(s) to comply with contact line separation value that is a Document. This error may be due to the track having a value that is not a Document."@en ;
    sh:path era:documentRestrictionPositionContactLineSeparation ;
    sh:severity sh:Violation .

era-sh:DocumentRestrictionPowerConsumption a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:documentRestrictionPowerConsumption ;
    era:rinfIndex "1.1.1.2.5.4" ;
    era:scope "local" ;
    rdfs:comment "Document with restriction related to power consumption of specific electric traction unit(s)."@en ;
    sh:class era:Document ;
    sh:message "documentRestrictionPowerConsumption (1.1.1.2.5.4): The track or subset with common characteristics may have a Document with restriction related to power consumption of specific electric traction unit(s) value that is a Document. This error may be due to the track having a value that is not a Document."@en ;
    sh:path era:documentRestrictionPowerConsumption ;
    sh:severity sh:Violation .

era-sh:EddyCurrentBraking a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:eddyCurrentBraking ;
    era:rinfIndex "1.1.1.1.6.2",
        "1.2.1.0.4.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of limitations on the use of eddy current brakes. "@en ;
    sh:maxCount 1 ;
    sh:message "eddyCurrentBraking (1.1.1.1.6.2, 1.2.1.0.4.2): The track or subset with common characteristics must have a single use of eddy current brakes value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:eddyCurrentBraking ;
    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingConditionsDocument a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:eddyCurrentBrakingConditionsDocument ;
    era:rinfIndex "1.1.1.1.6.4" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of eddy current brakes identified in 1.1.1.1.6.2."@en ;
    sh:class era:Document ;
    sh:message "eddyCurrentBrakingConditionsDocument (1.1.1.1.6.4): The track or subset with common characteristics has an eddy current braking conditions document value that must be a Document."@en ;
    sh:path era:eddyCurrentBrakingConditionsDocument ;
    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingConditionsDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:eddyCurrentBrakingConditionsDocument ;
    era:rinfIndex "1.1.1.1.6.4" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of eddy current brakes identified in 1.1.1.1.6.2."@en ;
    sh:message "eddyCurrentBrakingConditionsDocument (1.1.1.1.6.4): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y in case of Y for 1.1.1.1.6.2 Use of eddy current brakes is “allowed under conditions” or “allowed under conditions only for emergency brake””."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:eddyCurrentBraking ?ecb .
                FILTER (?ecb = <http://data.europa.eu/949/concepts/magnetic-braking/20> || ?ecb = <http://data.europa.eu/949/concepts/magnetic-braking/40> ) .		
                FILTER NOT EXISTS {$this era:eddyCurrentBrakingConditionsDocument ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:eddyCurrentBraking ;
    era:rinfIndex "1.1.1.1.6.2",
        "1.2.1.0.4.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of limitations on the use of eddy current brakes. "@en ;
    sh:message "eddyCurrentBraking (1.1.1.1.6.2, 1.2.1.0.4.2): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/eddy-current-braking/EddyCurrentBraking."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:eddyCurrentBraking ?concept .
        era:eddyCurrentBraking era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboard a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:errorCorrectionsOnboard ;
    era:rinfIndex "1.1.1.3.1.2",
        "1.2.1.1.1.19" ;
    era:scope "local" ;
    rdfs:comment "List of unacceptable errors impacting the IM network that are required to be solved in the on-board according to the TSI CCS point 7.2.10.3 specification maintenance point (ETCS, GSM-R and/or ATO). "@en ;
    sh:maxCount 1 ;
    sh:message "errorCorrectionsOnboard (1.1.1.3.1.2, 1.2.1.1.1.19): The track or subset with common characteristics may have an error correction required for the on-board ETCS, GSM-R and/or ATO function value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:errorCorrectionsOnboard ;
    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboardExplanation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:errorCorrectionsOnboardExplanation ;
    era:rinfIndex "1.1.1.3.1.2",
        "1.2.1.1.1.19" ;
    era:scope "local" ;
    rdfs:comment "Explanation on why a mandatory onboard CR required to be solved in the on-board (ETCS, GSM-R and/or ATO) was accepted by the IM. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "errorCorrectionsOnboardExplanation (1.1.1.3.1.2, 1.2.1.1.1.19): The errorCorrectionsOnboardExplanation must be a string. This error is due to having more than one value or having a value that is not a string."@en ;
    sh:path era:errorCorrectionsOnboardExplanation ;
    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboardSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:errorCorrectionsOnboard ;
    era:rinfIndex "1.1.1.3.1.2",
        "1.2.1.1.1.19" ;
    era:scope "local" ;
    rdfs:comment "List of unacceptable errors impacting the IM network that are required to be solved in the on-board according to the TSI CCS point 7.2.10.3 specification maintenance point (ETCS, GSM-R and/or ATO). "@en ;
    sh:message "errorCorrectionsOnboard (1.1.1.3.1.2, 1.2.1.1.1.19): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/error-corrections/OnboardErrorCorrections."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:errorCorrectionsOnboard ?concept .
        era:errorCorrectionsOnboard era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:Etcs a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcs ;
    era:rinfIndex "1.1.1.3.2" ;
    era:scope "local" ;
    rdfs:comment "European Train Control System (ETCS) application level supported by the track side equipment."@en ;
    sh:class era:ETCS ;
    sh:maxCount 1 ;
    sh:message "etcs (1.1.1.3.2) : The track or subset with common characteristics may have at most one value of a European Train Control System (ETCS) that must be an instance of ETCS. This error may be due to the track having more than one value or a value that is not an instance of the class ETCS."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcs ;
    sh:severity sh:Violation .

era-sh:EtcsDegradedSituation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsDegradedSituation ;
    era:rinfIndex "1.1.1.3.10.1",
        "1.2.1.1.9.1" ;
    era:scope "local" ;
    rdfs:comment "ERTMS / ETCS application level for degraded situation related to the track side equipment. "@en ;
    sh:message "etcsDegradedSituation (1.1.1.3.10.1, 1.2.1.1.9.1): The track or subset with common characteristics must have an ETCS level for degraded situation value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsDegradedSituation ;
    sh:severity sh:Violation .

era-sh:EtcsDegradedSituationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsDegradedSituation ;
    era:rinfIndex "1.1.1.3.10.1",
        "1.2.1.1.9.1" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsDegradedSituation (1.1.1.3.10.1, 1.2.1.1.9.1):The track or subset with common characteristics {$this} ({?label}), has an 'ETCS Level Type' defined that makes the etcsDegradedSituation parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:etcsDegradedSituation ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsDegradedSituationSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsDegradedSituation ;
    era:rinfIndex "1.1.1.3.10.1",
        "1.2.1.1.9.1" ;
    era:scope "local" ;
    rdfs:comment "ERTMS / ETCS application level for degraded situation related to The track or subset with common characteristics side equipment. "@en,
        "ERTMS/ ETCS application level for degraded situation related to the track side equipment."@en ;
    sh:message "Indication of the etcsDegradedSituation (1.1.1.3.10.1): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/tsi-existence-and-compliances/TSIExistenceAndCompliances."@en,
        "etcsDegradedSituation (1.1.1.3.10.1, 1.2.1.1.9.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-situation/ETCSSituations."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsDegradedSituation ?concept .
        era:etcsDegradedSituation era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""",
        """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:etcsDegradedSituation ?concept .
        era:etcsDegradedSituation era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsImplementsLevelCrossingProcedure a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsImplementsLevelCrossingProcedure ;
    era:rinfIndex "1.1.1.3.2.13",
        "1.2.1.1.1.13" ;
    era:scope "local" ;
    rdfs:comment "If The track or subset with common characteristicsside does not implement any solution to cover defective LXs (which are normally protected by means of a technical system), then drivers will be required to comply with instructions received from other sources. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "etcsImplementsLevelCrossingProcedure (1.1.1.3.2.13, 1.2.1.1.1.13): Each track or subset with common characteristics may define the existence of level crossing procedure or an equivalent solution for ETCS trackside. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:etcsImplementsLevelCrossingProcedure ;
    sh:severity sh:Violation .

era-sh:EtcsImplementsLevelCrossingProcedureApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsImplementsLevelCrossingProcedure ;
    era:rinfIndex "1.1.1.3.2.13",
        "1.2.1.1.1.13" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsImplementsLevelCrossingProcedure (1.1.1.3.2.13, 1.2.1.1.1.13):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined that makes the etcsImplementsLevelCrossingProcedure parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:etcsImplementsLevelCrossingProcedure ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsInfillLineAccess a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsInfillLineAccess ;
    era:rinfIndex "1.1.1.3.2.3",
        "1.2.1.1.1.3" ;
    era:scope "local" ;
    rdfs:comment "Indication whether infill is required to access the line for safety reasons. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "etcsInfillLineAccess (1.1.1.3.2.3, 1.2.1.1.1.3): Each track or subset with common characteristics may define the existence of a ETCS infill necessary for line access. This error is due to having more than one indication of ETCS infill necessary for line access value or having an indication of ETCS infill necessary for line access value that is not Y/N (boolean)."@en ;
    sh:path era:etcsInfillLineAccess ;
    sh:severity sh:Violation .

era-sh:EtcsInfillLineAccessApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsInfillLineAccess ;
    era:rinfIndex "1.1.1.3.2.3",
        "1.2.1.1.1.3" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "etcsInfillLineAccess (1.1.1.3.2.3, 1.2.1.1.1.3):The track or subset with common characteristics {$this} ({?label}), has a 'ETCS Level Type' defined which makes the etcsInfillLineAccess parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:etcsInfillLineAccess ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:EtcsNationalPacket44Function a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsNationalPacket44Function ;
    era:rinfIndex "1.1.1.3.2.5",
        "1.2.1.1.1.5" ;
    era:scope "local" ;
    rdfs:comment "Link to the implemented functions for national packet 44 applications that are transmitted between track and train. "@en ;
    sh:message "etcsNationalPacket44Function (1.1.1.3.2.5, 1.2.1.1.1.5): The track or subset with common characteristics must have a ETCS national packet 44 application implemented function value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:etcsNationalPacket44Function ;
    sh:severity sh:Violation .

era-sh:EtcsNationalPacket44FunctionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsNationalPacket44Function ;
    era:rinfIndex "1.1.1.3.2.5",
        "1.2.1.1.1.5" ;
    era:scope "local" ;
    rdfs:comment "Link to the implemented functions for national packet 44 applications that are transmitted between track and train. "@en ;
    sh:message "etcsNationalPacket44Function (1.1.1.3.2.5, 1.2.1.1.1.5): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-national-packet-444-functions/ETCSNationalPacket444Functions/."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:etcsNationalPacket44Function ?concept .
        era:etcsNationalPacket44Function era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:EtcsRestrictionsConditionsDoc a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsRestrictionsConditionsDoc ;
    era:rinfIndex "1.1.1.3.2.6",
        "1.2.1.1.1.6" ;
    era:scope "local" ;
    rdfs:comment "Indication of the document where restrictions or conditions due to partial compliance with the TSI CCS are described. "@en ;
    sh:class era:Document ;
    sh:maxCount 1 ;
    sh:message "etcsRestrictionsConditionsDoc (1.1.1.3.2.6, 1.2.1.1.1.6): The track or subset with common characteristics has a document regarding the rules or restrictions of a strictly local nature available by the IM value that must be a Document."@en ;
    sh:path era:etcsRestrictionsConditionsDoc ;
    sh:severity sh:Violation .

era-sh:EtcsRestrictionsConditionsDocApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsRestrictionsConditionsDoc ;
    era:rinfIndex "1.1.1.3.2.6",
        "1.2.1.1.1.6" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when hasETCSRestricionsConditions is true. "@en ;
    sh:message "etcsRestrictionsConditionsDoc (1.1.1.3.2.6, 1.2.1.1.1.6):The track or subset with common characteristics {$this} ({?label}), has a 'has ETCS Restricions Condition' value 'true' which makes the etcsRestrictionsConditionsDoc parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                $this era:hasETCSRestrictionsConditions true.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:etcsRestrictionsConditionsDoc ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:FlangeLubeForbidden a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:flangeLubeForbidden ;
    era:rinfIndex "1.1.1.1.7.1" ;
    era:scope "local" ;
    rdfs:comment "Indication whether the use of on-board device for flange lubrication is forbidden."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "flangeLubeForbidden (1.1.1.1.7.1): The track or subset with common characteristics must have at most one flange lube forbidden value that is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:flangeLubeForbidden ;
    sh:severity sh:Violation .

era-sh:FreightCorridorSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:freightCorridor ;
    era:rinfIndex "1.1.1.1.2.3",
        "1.2.1.0.2.3" ;
    era:scope "local" ;
    rdfs:comment "Indication whether the line is designated to a Railway Freight Corridor "@en ;
    sh:message "Indication whether the line is designated to a Railway Freight Corridor (1.1.1.1.2.3, 1.2.1.0.2.3): The National Line {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/freight-corridor/FreightCorridors."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    SELECT $this ?concept
    WHERE {
 		$this era:freightCorridor ?concept .
        era:freightCorridor era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:FreightCorridorShape a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:freightCorridor ;
    era:rinfIndex "1.1.1.1.2.3",
        "1.2.1.0.2.3" ;
    era:scope "local" ;
    rdfs:comment "Indication whether the line is designated to a Railway Freight Corridor "@en ;
    sh:message "freightCorridor (1.1.1.1.2.3, 1.2.1.0.2.3): Each track or subset with common characteristics may have an indication whether the line is designated to a Railway Freight Corridor that is an IRI. This error is due to having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:freightCorridor ;
    sh:severity sh:Violation .

era-sh:GaugingCheckLocation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gaugingCheckLocation ;
    era:rinfIndex "1.1.1.1.3.1.2",
        "1.2.1.0.3.5" ;
    era:scope "local" ;
    rdfs:comment "Location of particular points requiring specific checks due to deviations from gauging referred to in 1.1.1.1.3.1.1. "@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "gaugingCheckLocation (1.1.1.1.3.1.2, 1.2.1.0.3.5): The track or subset with common characteristics has a location of the gauging check that must be a string and follow the format [±NNNN.NNN]. The error is due to the value not following the pattern."@en ;
    sh:path era:gaugingCheckLocation ;
    sh:pattern "^([1-9]\\d{1,3}|[0-9])(\\.\\d{1,3})?(\\s.*)?$" ;
    sh:severity sh:Violation .

era-sh:GaugingProfile a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gaugingProfile ;
    era:rinfIndex "1.1.1.1.3.1.1",
        "1.2.1.0.3.4" ;
    era:scope "local" ;
    rdfs:comment "Gauges as defined in European standard or other local gauges, including lower or upper part. "@en ;
    sh:message "gaugingProfile (1.1.1.1.3.1.1, 1.2.1.0.3.4): The track or subset with common characteristics must define a value that is an IRI. The error is due to having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:gaugingProfile ;
    sh:severity sh:Violation .

era-sh:GaugingProfileSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gaugingProfile ;
    era:rinfIndex "1.1.1.1.3.1.1",
        "1.2.1.0.3.4" ;
    era:scope "local" ;
    rdfs:comment "Indication of the gauging profile of track. "@en ;
    sh:message "Gauging profile (1.1.1.1.3.1.1, 1.2.1.0.3.4): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/gaugings/GaugingProfiles."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:gaugingProfile ?concept .
        era:gaugingProfile era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:GaugingTransversalDocument a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gaugingTransversalDocument ;
    era:rinfIndex "1.1.1.1.3.1.3",
        "1.2.1.0.3.6" ;
    era:scope "local" ;
    rdfs:comment "Document with the transversal section of the particular points requiring specific checks." ;
    sh:class era:Document ;
    sh:message "gaugingTransversalDocument (1.1.1.1.3.1.3, 1.2.1.0.3.6): The track or subset with common characteristics has a transversal document of the gauging check value that must be a Document."@en ;
    sh:path era:gaugingTransversalDocument ;
    sh:severity sh:Violation .

era-sh:GprsForETCS a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gprsForETCS ;
    era:rinfIndex "1.1.1.3.3.3.2",
        "1.2.1.1.2.3.2" ;
    era:scope "local" ;
    rdfs:comment "Indication if GPRS can be used for ETCS."@en,
        "Indication if GPRS can be used for ETCS. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "gprsForETCS (1.1.1.3.3.3.2): The track or subset with common characteristics must define at most one  use of GPRS for ETCS value that is Y/N (boolean). This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en,
        "gprsForETCS (1.1.1.3.3.3.2, 1.2.1.1.2.3.2): Each track or subset with common characteristics may define the existence of GPRS for ETCS. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:gprsForETCS ;
    sh:severity sh:Violation .

era-sh:GprsForETCSApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gprsForETCS ;
    era:rinfIndex "1.1.1.3.3.3.2",
        "1.2.1.1.2.3.2" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) and ETCS L2 (parameter 1.1.1.3.2.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gprsForETCS (1.1.1.3.3.3.2, 1.2.1.1.2.3.2):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the gprsForETCS parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gprsForETCS ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GprsImplementationArea a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gprsImplementationArea ;
    era:rinfIndex "1.1.1.3.3.3.3",
        "1.2.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of the area in which GPRS can be used for ETCS, expressed as a list of GPRS-enabled RBC's. "@en,
        "Indication of the area in which GPRS can be used for ETCS."@en ;
    sh:datatype xsd:string ;
    sh:message "gprsImplementationArea (1.1.1.3.3.3.3): The track or subset with common characteristics defines the area in which GPRS can be used for ETCS value that must be a string. This error may be due to the track having  a value that is not a string."@en,
        "gprsImplementationArea (1.1.1.3.3.3.3, 1.2.1.1.2.3.3): The gprsImplementationArea must be a string. This error is due to the value not being a string."@en ;
    sh:path era:gprsImplementationArea ;
    sh:severity sh:Violation .

era-sh:GprsImplementationAreaApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gprsImplementationArea ;
    era:rinfIndex "1.1.1.3.3.3.3",
        "1.2.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1), ETCS L2 (parameter 1.1.1.3.2.1) and GPRS for ETCS (parameter 1.1.1.3.3.3.2) must be installed for this parameter to be applicable. "@en ;
    sh:message "gprsImplementationArea (1.1.1.3.3.3.3, 1.2.1.1.2.3.3):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the gprsImplementationArea parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:gprsForETCS true;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gprsImplementationArea ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:Gradient a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:gradient ;
    era:rinfIndex "1.2.2.0.3.1" ;
    era:scope "local" ;
    rdfs:comment "Maximum value of the gradient expressed in millimeters per meter "@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "gradient (1.2.2.0.3.1): Each siding or subset with common characteristics may have a gradient in millimeters per meter. This error is due to having more than one gradient value or having a gradient that is not a double (real) number."@en ;
    sh:path era:gradient ;
    sh:pattern "^([1-9]\\d{1}|[0-9])(\\.[0-9])?$" ;
    sh:severity sh:Violation .

era-sh:GradientProfile a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gradientProfile ;
    era:rinfIndex "1.1.1.1.3.6" ;
    era:scope "local" ;
    rdfs:comment "Sequence of gradient values and locations of change in gradient."@en ;
    sh:datatype xsd:string ;
    sh:message "gradientProfile (1.1.1.1.3.6): The track or subset with common characteristics has a gradient profile value that must be a string with a sequence of values in the format [+/-][NN.N]([+/-][NNNN.NNN]). This error may be due to having a sequence of values that are not a string or that do not follow the pattern."@en ;
    sh:path era:gradientProfile ;
    sh:pattern "^((\\+|\\-)([1-9]\\d{1}|[0-9]|00)\\.\\d{1,3}(\\((\\+|\\-)?([1-9]\\d{1,2}|[0-9])\\.\\d{1,3}\\))?)(,(\\+|\\-)([1-9]\\d{1}|[0-9])\\.\\d{1,3}(\\((\\+|\\-)?([1-9]\\d{1,2}|[0-9])\\.\\d{1,3}\\))?)*$" ;
    sh:severity sh:Violation .

era-sh:GsmRActiveMobiles a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRActiveMobiles ;
    era:rinfIndex "1.1.1.3.3.2",
        "1.2.1.1.2.2" ;
    era:scope "local" ;
    rdfs:comment "Number of simultaneous communication session on board for ETCS level 2 required for a smooth running of the train. This relates to the radio block centre (RBC) handling of communication sessions. Not safety critical and no matter of interoperability. "@en ;
    sh:maxCount 1 ;
    sh:message "gsmRActiveMobiles (1.1.1.3.3.2, 1.2.1.1.2.2): The track or subset with common characteristics must have a number of active GSM-R mobiles (EDOR) or simultaneous communication session on-board for ETCS Level 2 needed to perform radio block centre handovers without having an operational disruption value that is a single IRI. This error is due to having more than one value or having a value that is  not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:gsmRActiveMobiles ;
    sh:severity sh:Violation .

era-sh:GsmRActiveMobilesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRActiveMobiles ;
    era:rinfIndex "1.1.1.3.3.2",
        "1.2.1.1.2.2" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) and ETCS L2 (parameter 1.1.1.3.2.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmRActiveMobiles (1.1.1.3.3.2, 1.2.1.1.2.2):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the gsmRActiveMobiles parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmRActiveMobiles ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmRActiveMobilesSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRActiveMobiles ;
    era:rinfIndex "1.1.1.3.3.2",
        "1.2.1.1.2.2" ;
    era:scope "local" ;
    rdfs:comment "Number of simultaneous communication session on board for ETCS level 2 required for a smooth running of the train. This relates to the radio block centre (RBC) handling of communication sessions. Not safety critical and no matter of interoperability. "@en ;
    sh:message "gsmRActiveMobiles (1.1.1.3.3.2, 1.2.1.1.2.2): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/gsmr-number-active-mobiles/NumberActiveMobiles."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:gsmRActiveMobiles ?concept .
        era:gsmRActiveMobiles era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:GsmRAdditionalInfo a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRAdditionalInfo ;
    era:rinfIndex "1.1.1.3.3.3.1",
        "1.2.1.1.2.3.1" ;
    era:scope "local" ;
    rdfs:comment "Additional information on network characteristics."@en,
        "Any additional information on network characteristics or corresponding document available from the IM and stored by the Agency, e.g.; interference level, leading to the recommendation of additional on-board protection. "@en ;
    sh:class era:Document ;
    sh:message "gsmRAdditionalInfo (1.1.1.3.3.3.1 , 1.2.1.1.2.3.1): The track or subset with common characteristics has additional information on network characteristics that must be a Document."@en,
        "gsmRAdditionalInfo (1.1.1.3.3.3.1): The track or subset with common characteristics defines an additional information on network characteristics value that must be a Document."@en ;
    sh:path era:gsmRAdditionalInfo ;
    sh:severity sh:Violation .

era-sh:GsmRAdditionalInfoApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRAdditionalInfo ;
    era:rinfIndex "1.1.1.3.3.3.1",
        "1.2.1.1.2.3.1" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmRAdditionalInfo (1.1.1.3.3.3.1, 1.2.1.1.2.3.1):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the gsmRAdditionalInfo parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmRAdditionalInfo ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmRNoCoverage a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRNoCoverage ;
    era:rinfIndex "1.1.1.3.3.8",
        "1.2.1.1.2.8" ;
    era:scope "local" ;
    rdfs:comment "Indication if there is no GSMR coverage. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "gsmRNoCoverage (1.1.1.3.3.8, 1.2.1.1.2.8): Each track or subset with common characteristics may define the indication of existence of GSMR coverage. This error is due to having more than one  value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:gsmRNoCoverage ;
    sh:severity sh:Violation .

era-sh:GsmRNoCoverageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRNoCoverage ;
    era:rinfIndex "1.1.1.3.3.8",
        "1.2.1.1.2.8" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmRNoCoverage (1.1.1.3.3.8, 1.2.1.1.2.8):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the gsmRNoCoverage parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmRNoCoverage ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmROptionalFunctions a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmROptionalFunctions ;
    era:rinfIndex "1.1.1.3.3.3, 1.2.1.1.2.3" ;
    era:scope "local" ;
    rdfs:comment "Use of optional GSM-R functions which might improve operation on the line. They are for information only and not for network access criteria. "@en ;
    sh:message "gsmROptionalFunctions (1.1.1.3.3.3, 1.2.1.1.2.3): The track or subset with common characteristics must have optional GSM-R functions value that is an IRI. This error is due to having a avalue that is not an IRI"@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:gsmROptionalFunctions ;
    sh:severity sh:Violation .

era-sh:GsmROptionalFunctionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmROptionalFunctions ;
    era:rinfIndex "1.1.1.3.3.2",
        "1.2.1.1.2.2" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmROptionalFunctions (1.1.1.3.3.2, 1.2.1.1.2.2):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the gsmROptionalFunctions parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmROptionalFunctions ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmROptionalFunctionsSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmROptionalFunctions ;
    era:rinfIndex "1.1.1.3.3.2",
        "1.2.1.1.2.2" ;
    era:scope "local" ;
    rdfs:comment "Use of optional GSM-R functions which might improve operation on the line. They are for information only and not for network access criteria. "@en ;
    sh:message "gsmROptionalFunctions (1.1.1.3.3.2, 1.2.1.1.2.2): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/gsmr-optional-functions/OptionalFunctions."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:gsmROptionalFunctions ?concept .
        era:gsmROptionalFunctions era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:GsmRVersion a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRVersion ;
    era:rinfIndex "1.1.1.3.3.1",
        "1.2.1.1.2.1" ;
    era:scope "local" ;
    rdfs:comment "GSM-R functional requirements specification and system requirements specification in accordance with the specification respectively referenced in TSI CCS (Annex ), version number installed lineside. "@en ;
    sh:message "gsmRVersion (1.1.1.3.3.1, 1.2.1.1.2.1): The track or subset with common characteristics must have a GSM-R version value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:gsmRVersion ;
    sh:severity sh:Violation .

era-sh:GsmRVersionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmRVersion ;
    era:rinfIndex "1.1.1.3.3.1",
        "1.2.1.1.2.1" ;
    era:scope "local" ;
    rdfs:comment "GSM-R functional requirements specification and system requirements specification in accordance with the specification respectively referenced in TSI CCS (Annex ), version number installed lineside. "@en ;
    sh:message "gsmRVersion (1.1.1.3.3.1, 1.2.1.1.2.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/gsmr-versions/GSMRVersions."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:gsmRVersion ?concept .
        era:gsmRVersion era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:GsmrConstraintsOperateOnlyInCircuitSwitchApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmrConstraintsOperateOnlyInCircuitSwitch ;
    era:rinfIndex "1.2.1.1.2.12" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) and ETCS L2 (parameter 1.1.1.3.2.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmrConstraintsOperateOnlyInCircuitSwitch (1.1.1.3.3.10, 1.2.1.1.2.10):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the gsmrConstraintsOperateOnlyInCircuitSwitch parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmrConstraintsOperateOnlyInCircuitSwitch ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmrForcedDeregistrationFunctionalNumber a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmrForcedDeregistrationFunctionalNumber ;
    era:rinfIndex "1.1.1.3.3.11",
        "1.2.1.1.2.11" ;
    era:scope "local" ;
    rdfs:comment "This feature will determine the applicable operational rules for drivers and signallers when dealing with cab radios registered under wrong numbers. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "gsmrForcedDeregistrationFunctionalNumber (1.1.1.3.3.11, 1.2.1.1.2.11): Each track or subset with common characteristics may define the existence of GSM-R network configured to allow forced de-registration of a functional number by another driver. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:gsmrForcedDeregistrationFunctionalNumber ;
    sh:severity sh:Violation .

era-sh:GsmrForcedDeregistrationFunctionalNumberApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmrForcedDeregistrationFunctionalNumber ;
    era:rinfIndex "1.1.1.3.3.11",
        "1.2.1.1.2.11" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) and ETCS L2 (parameter 1.1.1.3.2.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmrForcedDeregistrationFunctionalNumber (1.1.1.3.3.11, 1.2.1.1.2.11):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the gsmrForcedDeregistrationFunctionalNumber parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmrForcedDeregistrationFunctionalNumber ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmrNetworkCoverage a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmrNetworkCoverage ;
    era:rinfIndex "1.1.1.3.3.5",
        "1.2.1.1.2.5" ;
    era:scope "local" ;
    rdfs:comment "List of GSM-R networks which are covered by a roaming agreement. "@en ;
    sh:message "gsmrNetworkCoverage (1.1.1.3.3.5, 1.2.1.1.2.5): The track or subset with common characteristics must have a GSM-R networks covered by a roaming agreement value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:gsmrNetworkCoverage ;
    sh:severity sh:Violation .

era-sh:GsmrNetworkCoverageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmrNetworkCoverage ;
    era:rinfIndex "1.1.1.3.3.5",
        "1.2.1.1.2.5" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "gsmrNetworkCoverage (1.1.1.3.3.5, 1.2.1.1.2.5):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the gsmrNetworkCoverage parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:gsmrNetworkCoverage ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:GsmrNetworkCoverageSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:gsmrNetworkCoverage ;
    era:rinfIndex "1.1.1.3.3.5",
        "1.2.1.1.2.5" ;
    era:scope "local" ;
    rdfs:comment "List of GSM-R networks which are covered by a roaming agreement. "@en ;
    sh:message "gsmrNetworkCoverage (1.1.1.3.3.5, 1.2.1.1.2.5): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/gsmr-networks/GSMRNetworks."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:gsmrNetworkCoverage ?concept .
        era:gsmrNetworkCoverage era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:HasAdditionalBrakingInformation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasAdditionalBrakingInformation ;
    era:rinfIndex "1.1.1.3.11.2" ;
    era:scope "local" ;
    rdfs:comment "Availability by the IM of additional information as defined in 4.2.2.6.2 (2) Regulation XXX-OPE TSI."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasAdditionalBrakingInformation (1.1.1.3.11.2): The track or subset with common characteristics must define at most one value of the availability by the IM of additional information and it is Y/N (boolean). This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en ;
    sh:path era:hasAdditionalBrakingInformation ;
    sh:severity sh:Violation .

era-sh:HasBallast a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasBallast ;
    era:rinfIndex "1.1.1.1.4.4" ;
    era:scope "local" ;
    rdfs:comment "Specifies whether the track construction is with sleepers embedded in ballast or not."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasBallast (1.1.1.1.4.4): The track or subset with common characteristics must have at most one existence of ballast value that is Y/N (boolean). This error may be due to the track having more than one has ballast value or to having a value that is not Y/N (boolean)."@en ;
    sh:path era:hasBallast ;
    sh:severity sh:Violation .

era-sh:HasBallastApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasBallast ;
    era:rinfIndex "1.1.1.1.4.4" ;
    era:scope "local" ;
    rdfs:comment "Specifies whether track construction is with sleepers embedded in ballast or not."@en ;
    sh:message "hasBallast (1.1.1.1.4.4): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y for tracks with permitted speed (parameter 1.1.1.1.2.5) greater than 250km/h."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:maximumPermittedSpeed ?mps .
                FILTER (?mps > 250) .			
                FILTER NOT EXISTS {$this era:hasBallast ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HasBeginning a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty time:hasBeginning ;
    era:scope "local" ;
    rdfs:comment "Applicability interval defines the date interval in which a characteristic of an infrastructure element is applicable."@en ;
    sh:class time:Instant ;
    sh:maxCount 1 ;
    sh:message "hasBeginning: An instance of parameter applicability must have exactly one value of the beginning of the interval in which it is applicable. This error may be due to not having a value, having more than one value, having a value that is not an IRI or is not a time:Instant."@en ;
    sh:nodeKind sh:IRI ;
    sh:path time:hasBeginning ;
    sh:severity sh:Violation .

era-sh:HasETCSRestrictionsConditions a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasETCSRestrictionsConditions ;
    era:rinfIndex "1.1.1.3.2.6",
        "1.2.1.1.1.6" ;
    era:scope "local" ;
    rdfs:comment "Indication whether restrictions or conditions due to partial compliance with the TSI CCS exist. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasETCSRestrictionsConditions (1.1.1.3.2.6, 1.2.1.1.1.6): Each track or subset with common characteristics may define the existence of operating restrictions or conditions. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:hasETCSRestrictionsConditions ;
    sh:severity sh:Violation .

era-sh:HasETCSRestrictionsConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasETCSRestrictionsConditions ;
    era:rinfIndex "1.1.1.3.2.6",
        "1.2.1.1.1.6" ;
    era:scope "local" ;
    rdfs:comment "Only applicable (true) when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "hasETCSRestrictionsConditions (1.1.1.3.2.6, 1.2.1.1.1.6):The track or subset with common characteristics {$this} ({?label}), has a 'ETCS level' type selected which makes the hasETCSRestrictionsConditions parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:hasETCSRestrictionsConditions ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HasElectricShoreSupply a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:hasElectricShoreSupply ;
    era:rinfIndex "1.2.2.0.4.6" ;
    era:scope "local" ;
    rdfs:comment "Indication whether an installation for electric shore supply exists (fixed installation for servicing trains) "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasElectricShoreSupply (1.2.2.0.4.6): Each siding or subset with common characteristics may define the existence of an electric shore supply facility. This error is due to having more than one has electric shore supply value or having a  has electric shore supply value that is not Y/N (boolean)."@en ;
    sh:path era:hasElectricShoreSupply ;
    sh:severity sh:Violation .

era-sh:HasEmergencyPlan a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEmergencyPlan ;
    era:rinfIndex "1.1.1.1.8.9",
        "1.2.1.0.5.6",
        "1.2.2.0.5.6" ;
    era:scope "local" ;
    rdfs:comment "Indication whether emergency plan exists."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasEmergencyPlan (1.1.1.1.8.9, 1.2.1.0.5.6, 1.2.2.0.5.6): A Tunnel has an indication about the existence of an emergency plan. This error may be due to having a tunnel with more than one value for hasEmergencyPlan or having a value type different than Y/N (boolean)."@en ;
    sh:path era:hasEmergencyPlan ;
    sh:severity sh:Violation .

era-sh:HasEmergencyPlanApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEmergencyPlan ;
    era:rinfIndex "1.1.1.1.8.9",
        "1.2.1.0.5.6",
        "1.2.2.0.5.6" ;
    era:scope "local" ;
    rdfs:comment "Applicable for tunnels longer than 1 km."@en ;
    sh:message "hasEmergencyPlan (1.1.1.1.8.9, 1.2.1.0.5.6, 1.2.2.0.5.6): The Tunnel {$this} ({?label}) has a length of {?tunnelLength} meters. Any tunnel longer than 1 Km makes the hasEmergencyPlan parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:lengthOfTunnel ?tunnelLength .
				OPTIONAL{$this rdfs:label ?label} .
				FILTER (?tunnelLength > 1000).
                FILTER NOT EXISTS {$this era:hasEmergencyPlan ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HasEnd a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty time:hasEnd ;
    era:scope "local" ;
    rdfs:comment "Applicability interval defines the date interval in which a characteristic of an infrastructure element is applicable."@en ;
    sh:class time:Instant ;
    sh:maxCount 1 ;
    sh:message "hasEnd: An instance of parameter applicability must have exactly one value of the end of the interval in which it is applicable. This error may be due to not having a value, having more than one value, having a value that is not an IRI or is not a time:Instant."@en ;
    sh:nodeKind sh:IRI ;
    sh:path time:hasEnd ;
    sh:severity sh:Violation .

era-sh:HasEtcsNationalPacket44 a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasEtcsNationalPacket44 ;
    era:rinfIndex "1.1.1.3.2.5",
        "1.2.1.1.1.5" ;
    era:scope "local" ;
    rdfs:comment "Indication whether data for national packet 44 applications is transmitted between track and train."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasEtcsNationalPacket44 (1.1.1.3.2.5, 1.2.1.1.1.5): Each track or subset with common characteristics may define the existence of an ETCS national packet 44 application. This error is due to having more than one indication of ETCS national packet 44 application value or having an indication of ETCS national packet 44 application value that is not Y/N (boolean)."@en ;
    sh:path era:hasEtcsNationalPacket44 ;
    sh:severity sh:Violation .

era-sh:HasEtcsNationalPacket44Applicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasEtcsNationalPacket44 ;
    era:rinfIndex "1.1.1.3.2.5",
        "1.2.1.1.1.5" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "hasEtcsNationalPacket44 (1.1.1.3.2.5, 1.2.1.1.1.5):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined that makes the hasEtcsNationalPacket44 parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:hasEtcsNationalPacket44 ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HasEvacuationAndRescuePoints a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEvacuationAndRescuePoints ;
    era:rinfIndex "1.1.1.1.8.13",
        "1.2.1.0.5.11",
        "1.2.2.0.5.10" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of evacuation and rescue points."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasEvacuationAndRescuePoints (1.1.1.1.8.13, 1.2.1.0.5.11, 1.2.2.0.5.10): A Tunnel has an indication about the existence of an evacuation and rescue points. This error may be due to having a tunnel with more than one value for hasEvacuationAndRescuePoints or having a value type different than Y/N (boolean)."@en ;
    sh:path era:hasEvacuationAndRescuePoints ;
    sh:severity sh:Violation .

era-sh:HasExternalCleaning a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:hasExternalCleaning ;
    era:rinfIndex "1.2.2.0.4.2" ;
    era:scope "local" ;
    rdfs:comment "Indication whether exists and installation for external cleaning facility (fixed installation for servicing trains) as defined in INF TSIs "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasExternalCleaning (1.2.2.0.4.2): Each siding or subset with common characteristics  may define the existence of an external cleaning facility. This error is due to having more than one has external cleaning value or having a has external cleaning value that is not Y/N (boolean)."@en ;
    sh:path era:hasExternalCleaning ;
    sh:severity sh:Violation .

era-sh:HasHotAxleBoxDetector a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasHotAxleBoxDetector ;
    era:rinfIndex "1.1.1.1.7.4" ;
    era:scope "local" ;
    rdfs:comment "Existence of trackside hot axle box detector."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasHotAxleBoxDetector (1.1.1.1.7.4): The track or subset with common characteristics must have at most one existence of hot axle box detector value that is Y/N (boolean)."@en ;
    sh:path era:hasHotAxleBoxDetector ;
    sh:severity sh:Violation .

era-sh:HasLevelCrossings a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasLevelCrossings ;
    era:rinfIndex "1.1.1.1.7.2" ;
    era:scope "local" ;
    rdfs:comment "Indication whether level crossings (including pedestrian track crossing) exist onf the section line."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasLevelCrossings (1.1.1.1.7.2): The track or subset with common characteristics must have at most one existence of level crossings value that is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:hasLevelCrossings ;
    sh:severity sh:Violation .

era-sh:HasPhaseSeparation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasPhaseSeparation ;
    era:rinfIndex "1.1.1.2.4.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasPhaseSeparation (1.1.1.2.4.1.1): The track or subset with common characteristics defines at most one existence of phase separation and required information value that is Y/N (boolean). This error may be due to the track having more than one value or having a value that is not Y/N (boolean). "@en ;
    sh:path era:hasPhaseSeparation ;
    sh:severity sh:Violation .

era-sh:HasPhaseSeparationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasPhaseSeparation ;
    era:rinfIndex "1.1.1.2.4.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    sh:message "hasPhaseSeparation (1.1.1.2.4.1.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:hasPhaseSeparation ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HasPlatformCurvature a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:hasPlatformCurvature ;
    era:rinfIndex "1.2.1.0.6.8 " ;
    era:scope "local" ;
    rdfs:comment "Indication of the existence of the curvature of the platform. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasPlatformCurvature (1.2.1.0.6.8): Each Platform must have at most one hasPlatformCurvature value. This error may be caused due to having a platform with multiple hasPlatformCurvature values or having a value that is not a boolean."@en ;
    sh:path era:hasPlatformCurvature ;
    sh:severity sh:Violation .

era-sh:HasRefuelling a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:hasRefuelling ;
    era:rinfIndex "1.2.2.0.4.4" ;
    era:scope "local" ;
    rdfs:comment "Indication whether exists and installation for refuelling (fixed installation for servicing trains) as defined in INF TSIs "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasRefuelling (1.2.2.0.4.4): Each siding or subset with common characteristics may define the existence of a refuelling facility. This error is due to having more than one has refuelling value or having a  has refuelling value that is not Y/N (boolean)."@en ;
    sh:path era:hasRefuelling ;
    sh:severity sh:Violation .

era-sh:HasSandRestocking a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:hasSandRestocking ;
    era:rinfIndex "1.2.2.0.4.5" ;
    era:scope "local" ;
    rdfs:comment "Indication whether an installation for sand restocking exists(fixed installation for servicing trains) "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasSandRestocking (1.2.2.0.4.5): Each siding or subset with common characteristics  may define the existence of a sand restocking facility. This error is due to having more than one has sand restocking value or having a  has sand restocking value that is not Y/N (boolean)."@en ;
    sh:path era:hasSandRestocking ;
    sh:severity sh:Violation .

era-sh:HasSevereWeatherConditions a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasSevereWeatherConditions ;
    era:rinfIndex "1.1.1.1.2.8" ;
    era:scope "local" ;
    rdfs:comment "Climatic conditions on the line are severe according to European standard."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasSevereWeatherConditions (1.1.1.1.2.8): The track or subset with common characteristics must have at most one existence of severe weather conditions value that must be Y/N (boolean). This error may be due to the track having more than one value of has severe weather conditions or that the value is not Y/N (boolean)."@en ;
    sh:path era:hasSevereWeatherConditions ;
    sh:severity sh:Violation .

era-sh:HasSystemSeparation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasSystemSeparation ;
    era:rinfIndex "1.1.1.2.4.2.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of system separation."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasSystemSeparation (1.1.1.2.4.2.1): The track or subset with common characteristics has at most one existence of system separation value that must be Y/N (boolean). This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en ;
    sh:path era:hasSystemSeparation ;
    sh:severity sh:Violation .

era-sh:HasSystemSeparationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasSystemSeparation ;
    era:rinfIndex "1.1.1.2.4.2.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of system separation."@en ;
    sh:message "hasSystemSeparation (1.1.1.2.4.2.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .		
                FILTER EXISTS {$this era:hasSystemSeparation ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HasTSITrainDetection a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasTSITrainDetection ;
    era:rinfIndex "1.1.1.3.4.1",
        "1.2.1.1.3.1" ;
    era:scope "local" ;
    rdfs:comment "Indication if there is any train detection system installed and fully compliant with the TSI CCS (Annex I, Appendix A, Table A.2 -Index 77). "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasTSITrainDetection (1.1.1.3.4.1, 1.2.1.1.3.1): Each track or subset with common characteristics may define the existence of train detection system fully compliant with the TSI. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:hasTSITrainDetection ;
    sh:severity sh:Violation .

era-sh:HasToiletDischarge a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:hasToiletDischarge ;
    era:rinfIndex "1.2.2.0.4.1" ;
    era:scope "local" ;
    rdfs:comment "Indication whether exists and installation for toilet discharge (fixed installation for servicing trains) as defined in INF TSIs "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasToiletDischarge (1.2.2.0.4.1): Each siding or subset with common characteristics  may define the existence of a toilet discharge. This error is due to having more than one has toilet discharge value or having a has has toilet discharge value that is not Y/N (boolean)."@en ;
    sh:path era:hasToiletDischarge ;
    sh:severity sh:Violation .

era-sh:HasWalkway a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasWalkway ;
    era:rinfIndex "1.1.1.1.8.12",
        "1.2.1.0.5.10",
        "1.2.2.0.5.9" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of walkways."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasWalkway (1.1.1.1.8.12, 1.2.1.0.5.10, 1.2.2.0.5.9): A Tunnel can have at most one hasWalkway. This error may be due to having a tunnel with more than one hasWalkway or having a value type different than Y/N (boolean)."@en ;
    sh:path era:hasWalkway ;
    sh:severity sh:Violation .

era-sh:HasWaterRestocking a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:hasWaterRestocking ;
    era:rinfIndex "1.2.2.0.4.3" ;
    era:scope "local" ;
    rdfs:comment "Indication whether exists and installation for water restocking (fixed installation for servicing trains) as defined in INF TSIs "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hasWaterRestocking (1.2.2.0.4.3): Each siding or subset with common characteristics  may define the existence of a water restocking facility. This error is due to having more than one has water restocking value or having a has  water restocking value that is not Y/N (boolean)."@en ;
    sh:path era:hasWaterRestocking ;
    sh:severity sh:Violation .

era-sh:HighSpeedLoadModelCompliance a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:highSpeedLoadModelCompliance ;
    era:rinfIndex "1.1.1.1.2.4.2" ;
    era:scope "local" ;
    rdfs:comment "For sections of line with a maximum permitted speed of 200km/h or more information regarding the procedure to be used to perform the dynamic compatibility check"@en,
        "National classification for load capability"@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "highSpeedLoadModelCompliance (1.1.1.1.2.4.2): The track or subset with common characteristics must have at most one high speed load model compliance value that must be Y/N (boolean). This error may be due to the track having more than one value or having a value of high speed load model compliance that is not Y/N."@en ;
    sh:path era:highSpeedLoadModelCompliance ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorDirection a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorDirection ;
    era:rinfIndex "1.1.1.1.7.9" ;
    era:scope "local" ;
    rdfs:comment "Direction of measurement of the trackside HABD."@en ;
    sh:maxCount 1 ;
    sh:message "hotAxleBoxDetectorDirection (1.1.1.1.7.9): The track or subset with common characteristics must have at most one direction of measurement of the hot axle box detector value that is an IRI. This error may be due to the track having more than one value of hot axle box detector direction."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:hotAxleBoxDetectorDirection ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorDirectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorDirection ;
    era:rinfIndex "1.1.1.1.7.9" ;
    era:scope "local" ;
    rdfs:comment "Specific for the French Italian and Swedish networks. If the direction of measurement is: - the same as the direction defined by the start and end of the SoL: (N); - the opposite to the direction defined by the start and end of the SoL: (O); - both directions: (B). “Y” if the answer to parameter 1.1.1.1.7.5 is “N”."@en ;
    sh:message "hotAxleBoxDetectorDirection (1.1.1.1.7.9): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorDirection ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorDirectionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorDirection ;
    era:rinfIndex "1.1.1.1.7.9" ;
    era:scope "local" ;
    rdfs:comment "Direction of measurement of the trackside HABD."@en ;
    sh:message "Indication of the hotAxleBoxDetectorDirection (1.1.1.1.7.9):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/hot-axle-box-detector-direction/HotAxleBoxDetectorDirections."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:hotAxleBoxDetectorDirection ?concept .
        era:hotAxleBoxDetectorDirection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorGeneration a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorGeneration ;
    era:rinfIndex "1.1.1.1.7.7" ;
    era:scope "local" ;
    rdfs:comment "Applicable if trackside HABD is not TSI compliant. Generation of the trackside HABD."@en ;
    sh:maxCount 1 ;
    sh:message "hotAxleBoxDetectorGeneration (1.1.1.1.7.7): The track or subset with common characteristics must have at most one generation of the hot axle box detector value that is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:hotAxleBoxDetectorGeneration ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorGenerationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorGeneration ;
    era:rinfIndex "1.1.1.1.7.7" ;
    era:scope "local" ;
    rdfs:comment "Specific for the French Italian and Swedish networks. Generation of trackside hot axle box detector. “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:message "hotAxleBoxDetectorGeneration (1.1.1.1.7.7): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorGeneration ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorIdentification a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorIdentification ;
    era:rinfIndex "1.1.1.1.7.6" ;
    era:scope "local" ;
    rdfs:comment "Specific for the French, Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant. Identification of the trackside HABD."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "hotAxleBoxDetectorIdentification (1.1.1.1.7.6): The track or subset with common characteristics  must have at most one value that defines the identification of the hot axle box detector and the value is a character string. This error may be due to having more than one value or having a value that is not a string."@en ;
    sh:path era:hotAxleBoxDetectorIdentification ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorIdentificationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorIdentification ;
    era:rinfIndex "1.1.1.1.7.6" ;
    era:scope "local" ;
    rdfs:comment "Specific for the French Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant, identification of trackside hot axle box detector.@en" ;
    sh:message "hotAxleBoxDetectorIdentification (1.1.1.1.7.6): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorIdentification ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorLocation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorLocation ;
    era:rinfIndex "1.1.1.1.7.8" ;
    era:scope "local" ;
    rdfs:comment "Applicable if trackside HABD is not TSI compliant. Location of the trackside HABD."@en ;
    sh:datatype xsd:double ;
    sh:message "hotAxleBoxDetectorLocation (1.1.1.1.7.8): The track or subset with common characteristics has a location of the hot axle box detector(s) vallue that must be a double (real) number with format [±NNNN.NNN]. This error may be due to having a value that is not a double (real) number or does not follow the pattern [±NNNN.NNN]."@en ;
    sh:path era:hotAxleBoxDetectorLocation ;
    sh:pattern "^(\\+|\\-)?([1-9]\\d{1,3}|[0-9])\\.\\d{1,3}$" ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorLocation ;
    era:rinfIndex "1.1.1.1.7.8" ;
    era:scope "local" ;
    rdfs:comment "Specific for the French Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant, localisation of trackside hot axle box detector."@en ;
    sh:message "hotAxleBoxDetectorLocation (1.1.1.1.7.8): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorLocation ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorTSICompliant a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hotAxleBoxDetectorTSICompliant ;
    era:rinfIndex "1.1.1.1.7.5" ;
    era:scope "local" ;
    rdfs:comment "Trackside HABD compilant to TSI means that the HABD is compliant with EN 15437:2009 and specific cases mentioned in TSIs."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "hotAxleBoxDetectorTSICompliant (1.1.1.1.7.5): The track or subset with common characteristics must have at most one value that defines if the hot axle box detector is TSI compliant and the value is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:hotAxleBoxDetectorTSICompliant ;
    sh:severity sh:Violation .

era-sh:InstructionsSwitchRadioSystems a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:instructionsSwitchRadioSystems ;
    era:rinfIndex "1.1.1.3.8.2.1",
        "1.2.1.1.7.2.1" ;
    era:scope "local" ;
    rdfs:comment "Name and/or reference of the document specifying the Special instructions to switch over between different radio systems. "@en ;
    sh:class era:Document ;
    sh:message "instructionsSwitchRadioSystems (1.1.1.3.8.2.1, 1.2.1.1.7.2.1): The track or subset with common characteristics has Special instructions to switch over between different radio systems value that must be a Document."@en ;
    sh:path era:instructionsSwitchRadioSystems ;
    sh:severity sh:Violation .

era-sh:InstructionsSwitchRadioSystemsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:instructionsSwitchRadioSystems ;
    era:rinfIndex "1.1.1.3.8.2.1",
        "1.2.1.1.7.2.1" ;
    era:scope "local" ;
    rdfs:comment "Applicable ('Y') when at least two different radio systems exist. "@en ;
    sh:message "instructionsSwitchRadioSystems (1.1.1.3.8.2.1, 1.2.1.1.7.2.1):The track or subset with common characteristics {$this} ({?label}), has a more than one radio system defined which makes the instructionsSwitchRadioSystems parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label ?countRS
			WHERE {
				{
				SELECT $this (COUNT(?radioSystem) AS ?countRS) WHERE{
	            	$this era:legacyRadioSystem ?radioSystem					
					} GROUP BY $this
				}
				OPTIONAL{$this rdfs:label ?label} .
				FILTER ( ?countRS > 1) .
                FILTER NOT EXISTS {$this era:instructionsSwitchRadioSystems ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:IsQuietRoute a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:isQuietRoute ;
    era:rinfIndex "1.1.1.1.7.11" ;
    era:scope "local" ;
    rdfs:comment "Belonging to a 'quiet route' in accordance with Article 5b of Regulation (EU) 1304/2014."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "isQuietRoute (1.1.1.1.7.11): The track or subset with common characteristics must have at most one value that defines if it belongs to a 'quiet route' and the value must be Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:isQuietRoute ;
    sh:severity sh:Violation .

era-sh:KmPostName a sh:PropertyShape ;
    era:affectedClass era:KilometricPost,
        era:LinearPositioningSystem ;
    era:affectedProperty era:kmPostName ;
    era:scope "local" ;
    rdfs:comment "Name of the kilometric post (optional)."@en ;
    sh:datatype xsd:string ;
    sh:message "kmPostName: The kilometer post name must be represented as a string of characters."@en ;
    sh:path era:kmPostName ;
    sh:severity sh:Violation .

era-sh:LegacyRadioSystem a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:legacyRadioSystem ;
    era:rinfIndex "1.1.1.3.6.1",
        "1.2.1.1.5.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of radio legacy systems installed. "@en ;
    sh:message "legacyRadioSystem (1.1.1.3.6.1, 1.2.1.1.5.1): The track or subset with common characteristics may have other radio systems installed (Radio Legacy Systems) value that is an IRI. This error is due to having a value that is not an IRI"@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:legacyRadioSystem ;
    sh:severity sh:Violation .

era-sh:LegacyRadioSystemSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:legacyRadioSystem ;
    era:rinfIndex "1.1.1.3.6.1",
        "1.2.1.1.5.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of radio legacy systems installed. "@en ;
    sh:message "legacyRadioSystem (1.1.1.3.6.1, 1.2.1.1.5.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/legacy-radio-systems/LegacyRadioSystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:legacyRadioSystem ?concept .
        era:legacyRadioSystem era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:LineCategory a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:lineCategory ;
    era:rinfIndex "1.1.1.1.2.2",
        "1.2.1.0.2.2" ;
    era:scope "local" ;
    rdfs:comment "Classification of a line according to the TSI INF. "@en ;
    sh:message "lineCategory (1.1.1.1.2.2, 1.2.1.0.2.2): The track or subset with common characteristics must have a classification of a line value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:lineCategory ;
    sh:severity sh:Violation .

era-sh:LineCategorySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:lineCategory ;
    era:rinfIndex "1.1.1.1.2.2",
        "1.2.1.0.2.2" ;
    era:scope "local" ;
    rdfs:comment "Classification of a line according to the TSI INF. "@en ;
    sh:message "lineCategory (1.1.1.1.2.2, 1.2.1.0.2.2): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/line-category/LineCategories."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:lineCategory ?concept .
        era:lineCategory era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:LinesideDistanceIndication a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:linesideDistanceIndication ;
    era:rinfIndex "1.1.1.0.0.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
    sh:class era:LinesideDistanceIndication ;
    sh:maxCount 1 ;
    sh:message "linesideDistanceIndication (1.1.1.0.0.3) : The track must have exactly one value of a lineside distance indication that must be an instance of LinesideDistanceIndication. This error may be due to the track having no value, having more than one value or having a value that is not an instance of the class LinesideDistanceIndication."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:linesideDistanceIndication ;
    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationAppearanceSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:linesideDistanceIndicationAppearance ;
    era:scope "local" ;
    rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
    sh:message "Indication of the linesideDistanceIndicationAppearance: The track or subset with common characteristics {$this} has a LinesideDistanceIndication {?linesideDistanceIndication} that has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/lineside-distance-indication-appearance/LinesideDistanceIndicationAppearance."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?linesideDistanceIndication ?concept
    WHERE {
        $this era:linesideDistanceIndication ?linesideDistanceIndication .
        ?linesideDistanceIndication era:linesideDistanceIndicationAppearance ?concept .
        era:linesideDistanceIndicationAppearance era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationPositioningSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:linesideDistanceIndicationPositioning ;
    era:scope "local" ;
    rdfs:comment "Indication of the side along the track where the lineside indication is positioned (left or right)."@en ;
    sh:message "Indication of the linesideDistanceIndicationPositioning: The track or subset with common characteristics  {$this} has a LinesideDistanceIndication {?linesideDistanceIndication}  with a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/lineside-distance-indication-positioning/LinesideDistanceIndicationPositioning."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?linesideDistanceIndication  ?concept
    WHERE {
        $this era:linesideDistanceIndication ?linesideDistanceIndication .
        ?linesideDistanceIndication era:linesideDistanceIndicationPositioning ?concept .
        era:linesideDistanceIndicationPositioning era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:LoadCapabilityLineCategorySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilityLineCategory ;
    era:rinfIndex "1.1.1.1.2.4" ;
    era:scope "local" ;
    rdfs:comment "Load capability is a combination of the line category and speed at the weakest point of the track."@en ;
    sh:message "Indication of the load capability line category (1.1.1.1.2.4):): The track or subset with common characteristics  {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/load-capability-line-categories/LoadCapabilityLineCategories."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:trackLoadCapability ?loadCapability .
        ?loadCapability era:loadCapabilityLineCategory ?concept .
        era:loadCapabilityLineCategory era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:LocalRulesOrRestrictions a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:localRulesOrRestrictions ;
    era:rinfIndex "1.1.1.4.1",
        "1.2.3.1" ;
    era:scope "local" ;
    rdfs:comment "Existence of rules and restrictions of a strictly local nature. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "localRulesOrRestrictions (1.1.1.4.1, 1.2.3.1): Each track or subset with common characteristics may define the existence of rules and restrictions of a strictly local nature. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:localRulesOrRestrictions ;
    sh:severity sh:Violation .

era-sh:LocalRulesOrRestrictionsDoc a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:localRulesOrRestrictionsDoc ;
    era:rinfIndex "1.1.1.4.2",
        "1.2.3.2" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available from the IM stored by the Agency providing additional information. "@en ;
    sh:class era:Document ;
    sh:maxCount 1 ;
    sh:message "localRulesOrRestrictionsDoc (1.1.1.4.2, 1.2.3.2): The track or subset with common characteristics has a value of the document regarding the rules or restrictions of a strictly local nature available by the IM, that must be a Document."@en ;
    sh:path era:localRulesOrRestrictionsDoc ;
    sh:severity sh:Violation .

era-sh:MNvcontact a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:mNvcontact ;
    era:rinfIndex "1.1.1.3.2.16.9",
        "1.2.1.1.1.16.9" ;
    era:scope "local" ;
    rdfs:comment "On-Board system reaction when T_NVCONTACT expires. "@en ;
    sh:maxCount 1 ;
    sh:message "mNvcontact (1.1.1.3.2.16.9, 1.2.1.1.1.16.9): The track or subset with common characteristics may have an M_NVCONTACT value that is an IRI. This error is due to having more than one value or having a value that is not an IRI"@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:mNvcontact ;
    sh:severity sh:Violation .

era-sh:MNvcontactApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:mNvcontact ;
    era:rinfIndex "1.1.1.3.2.16.9",
        "1.2.1.1.1.16.9" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "mNvcontact (1.1.1.3.2.16.9, 1.2.1.1.1.16.9):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the mNvcontact parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:mNvcontact ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MNvcontactSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:mNvcontact ;
    era:rinfIndex "1.1.1.3.2.16.9",
        "1.2.1.1.1.16.9" ;
    era:scope "local" ;
    rdfs:comment "On-Board system reaction when T_NVCONTACT expires. "@en ;
    sh:message "mNvcontact (1.1.1.3.2.16.9, 1.2.1.1.1.16.9): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-reactions-contact/ETCSReactionsNVContact."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:mNvcontact ?concept .
        era:mNvcontact era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:MNvderun a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:mNvderun ;
    era:rinfIndex "1.1.1.3.2.16.10",
        "1.2.1.1.1.16.10" ;
    era:scope "local" ;
    rdfs:comment "Entry of Driver ID permitted while running. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "mNvderun (1.1.1.3.2.16.10, 1.2.1.1.1.16.10): Each track or subset with common characteristics may define the M_NVDERUN value. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:mNvderun ;
    sh:severity sh:Violation .

era-sh:MNvderunApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:mNvderun ;
    era:rinfIndex "1.1.1.3.2.16.10",
        "1.2.1.1.1.16.10" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "mNvderun (1.1.1.3.2.16.10, 1.2.1.1.1.16.10):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the mNvderun parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:mNvderun ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MagneticBraking a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:magneticBraking ;
    era:rinfIndex "1.1.1.1.6.3",
        "1.2.1.0.4.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of limitations on the use of magnetic brakes. "@en ;
    sh:maxCount 1 ;
    sh:message "magneticBraking (1.1.1.1.6.3, 1.2.1.0.4.3): The track or subset with common characteristics must have a single use of magnetic brakes value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:magneticBraking ;
    sh:severity sh:Violation .

era-sh:MagneticBrakingConditionsDocument a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:magneticBrakingConditionsDocument ;
    era:rinfIndex "1.1.1.1.6.5" ;
    era:scope "local" ;
    rdfs:comment "Electronic documents available in two EU languages from the IM stored by the Agency with conditions for the use of magnetic brakes identified in 1.1.1.1.6.3."@en ;
    sh:class era:Document ;
    sh:message "magneticBrakingConditionsDocument (1.1.1.1.6.5): The track or subset with common characteristics has a magnetic braking conditions document value that must be a Document."@en ;
    sh:path era:magneticBrakingConditionsDocument ;
    sh:severity sh:Violation .

era-sh:MagneticBrakingConditionsDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:magneticBrakingConditionsDocument ;
    era:rinfIndex "1.1.1.1.6.5" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of magnetic brakes identified in 1.1.1.1.6.3."@en ;
    sh:message "magneticBrakingConditionsDocument (1.1.1.1.6.5): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y if the answer to 1.1.1.1.6.3 / Use of magnetic brakes is “allowed under conditions” or “allowed under conditions only for emergency brake”."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:magneticBraking ?mb .
                FILTER (?mb = <http://data.europa.eu/949/concepts/magnetic-braking/20> || ?mb = <http://data.europa.eu/949/concepts/magnetic-braking/30> ) .		
                FILTER NOT EXISTS {$this era:magneticBrakingConditionsDocument ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:MagneticBrakingSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:magneticBraking ;
    era:rinfIndex "1.1.1.1.6.3",
        "1.2.1.0.4.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of limitations on the use of magnetic brakes. "@en ;
    sh:message "magneticBraking (1.1.1.1.6.3, 1.2.1.0.4.3): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/magnetic-braking/MagneticBraking."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:magneticBraking ?concept .
        era:magneticBraking era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:MaxCurrentStandstillPantographS a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:maxCurrentStandstillPantograph ;
    era:rinfIndex "1.1.1.2.2.3",
        "1.2.2.0.6.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the maximum allowable train current at standstill for DC systems expressed in amperes "@en ;
    sh:datatype xsd:double ;
    sh:message "maxCurrentStandstillPantograph (1.1.1.2.2.3, 1.2.2.0.6.1): Each siding may define the maximum allowable train current at standstill for DC systems expressed in amperes. This error is due to having a max current standstill pantograph value that is not a double (real) number."@en ;
    sh:path era:maxCurrentStandstillPantograph ;
    sh:pattern "^([1-9]\\d{1,2}|[0-9])$" ;
    sh:severity sh:Violation .

era-sh:MaximumAltitude a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumAltitude ;
    era:rinfIndex "1.1.1.1.2.7" ;
    era:scope "local" ;
    rdfs:comment """
        Highest point of the section of line above sea level
        in reference to Normal Amsterdam's Peil (NAP).
    """@en ;
    sh:maxCount 1 ;
    sh:message """
        maximumAltitude (1.1.1.1.2.7): The track or subset with common
        characteristics must define at most one maximum altitude value
        that must be a double (real) number with format [±NNNN].
        This error may be due to the track having more than one value
        of maximum altitude or the value not being a double (real) number.
    """@en ;
    sh:path era:maximumAltitude ;
    sh:pattern "^(\\+|\\-)\\d{1,4}$" ;
    sh:severity sh:Violation .


era-sh:MaximumBrakingDistance a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumBrakingDistance ;
    era:rinfIndex "1.1.1.3.11.1" ;
    era:scope "local" ;
    rdfs:comment "The maximum value of the braking distance [in metres] of a train shall be given for the maximum line speed."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "maximumBrakingDistance (1.1.1.3.11.1): The track or subset with common characteristics must define at most one value of the maximum value of the braking distance [in metres] of a train and it is an integer. This error may be due to the track having more than one value or to having a value that is not an integer."@en ;
    sh:path era:maximumBrakingDistance ;
    sh:pattern "^([1-9]\\d{1,4}|[0-9])$" ;
    sh:severity sh:Violation .

era-sh:MaximumPermittedSpeed a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumPermittedSpeed ;
    era:rinfIndex "1.1.1.1.2.5" ;
    era:scope "local" ;
    rdfs:comment "Maximum permitted speed."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:maxInclusive 500 ;
    sh:message "maximumPermittedSpeed (1.1.1.1.2.5): The track or subset with common characteristics must have at most one value of maximum permitted speed that is  an integer that lies within the range 0 to 500. This error may be due to the track having more than one value of maximum permitted speed, that the value does not lie within the range, or that the value is not an integer."@en ;
    sh:minInclusive 0 ;
    sh:path era:maximumPermittedSpeed ;
    sh:severity sh:Violation .

era-sh:MaximumTrainDeceleration a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumTrainDeceleration ;
    era:rinfIndex "1.1.1.1.6.1" ;
    era:scope "local" ;
    rdfs:comment "Limit for longitudinal track resistance given as a maximum allowed train deceleration and expressed in m/s2."@en ;
    sh:datatype xsd:double ;
    sh:maxCount 1 ;
    sh:message "maximumTrainDeceleration (1.1.1.1.6.1): The track or subset with common characteristics must have at most one maximum train deceleration value that is a double (real) number . This error may be due to the track having more than one maximum train deceleration value or to having a value that is not a real (double) number."@en ;
    sh:path era:maximumTrainDeceleration ;
    sh:pattern "^[0-9]\\.[0-9]$" ;
    sh:severity sh:Violation .

era-sh:MinimumHorizontalRadius a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:minimumHorizontalRadius ;
    era:rinfIndex "1.1.1.1.3.7",
        "1.2.2.0.3.2" ;
    era:scope "local" ;
    rdfs:comment "Radius of the smallest horizontal curve of The track or subset with common characteristics in metres. "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "minimumHorizontalRadius (1.1.1.1.3.7, 1.2.2.0.3.2): The track or subset with common characteristics defines a minimum radius of horizontal curve. This error is due to having more than one value, having a value that is not an integer or having an integer that does not follow the pattern [NNNNNN]."@en ;
    sh:path era:minimumHorizontalRadius ;
    sh:pattern "^([1-9]\\d{0,5}|0)$" ;
    sh:severity sh:Violation .

era-sh:MinimumHorizontalRadiusS a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:minimumHorizontalRadius ;
    era:rinfIndex "1.2.2.0.3.2" ;
    era:scope "local" ;
    rdfs:comment "Radius of the smallest horizontal curve of the track in metres. "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "minimumHorizontalRadius (1.2.2.0.3.2, 1.2.2.0.3.2): Each siding or subset with common characteristics may have a minimumHorizontalRadius in meters. This error is due to having more than one minimum horisontal radius  value or having a minimum horizontal radius that is not an integer number."@en ;
    sh:path era:minimumHorizontalRadius ;
    sh:severity sh:Violation .

era-sh:MinimumVerticalRadius a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:minimumVerticalRadius ;
    era:rinfIndex "1.2.2.0.3.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of types of appearance of track lineside distance indications. "@en ;
    sh:class era:MinimumVerticalRadius ;
    sh:maxCount 1 ;
    sh:message "minimumVerticalRadius (1.2.2.0.3.3) : The siding or subset with common characteristics must have at most one value of minimum vertical radius that must be an instace of MinimumVerticalRadius. This error may be due to the track having more than one value or having a value that is not an instance of the class MinimumVerticalRadius."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:minimumVerticalRadius ;
    sh:severity sh:Violation .

era-sh:MinimumWheelDiameter a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:minimumWheelDiameter ;
    era:rinfIndex "1.1.1.1.5.2" ;
    era:scope "local" ;
    rdfs:comment "Maximum unguided length of fixed obtuse crossings is based on a minimum wheel diameter in service expressed in millimiters."@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "minimumWheelDiameter (1.1.1.1.5.2): The track or subset with common characteristics must have at most one minimum wheel diameter value that is an integer. This error may be due to the track having more than one minimum wheel diameter value or to having a value that is not an integer."@en ;
    sh:minInclusive 330 ;
    sh:path era:minimumWheelDiameter ;
    sh:pattern "^([1-9]\\d{1,2}|[0-9])$" ;
    sh:severity sh:Violation .

era-sh:NationalLoadCapability a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:nationalLoadCapability ;
    era:rinfIndex "1.1.1.1.2.4.1" ;
    era:scope "local" ;
    rdfs:comment "National classification for load capability"@en ;
    sh:datatype xsd:string ;
    sh:message "nationalLoadCapability (1.1.1.1.2.4.1): The track or subset with common characteristics has a national load capability value that must be  a string. This error may be due to the track having a value of national load capability that is not a character string."@en ;
    sh:path era:nationalLoadCapability ;
    sh:severity sh:Violation .

era-sh:NationalRollingStockFireCategory a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:nationalRollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.11",
        "1.2.1.0.5.8",
        "1.2.2.0.5.8" ;
    era:scope "local" ;
    rdfs:comment "Categorisation on how a passenger train with a fire on board will continue to operate for a defined time period - according to national rules if they exist."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "nationalRollingStockFireCategory (1.1.1.1.8.11, 1.2.1.0.5.8, 1.2.2.0.5.8): A Tunnel may have an indication about the nationalRollingStockFireCategory. This error may be due to having a tunnel with more than one value or having a value type different than string."@en ;
    sh:path era:nationalRollingStockFireCategory ;
    sh:severity sh:Violation .

era-sh:NationalRollingStockFireCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:nationalRollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.11",
        "1.2.1.0.5.8",
        "1.2.2.0.5.8" ;
    era:scope "local" ;
    rdfs:comment "Applicable only for tunnels when for the parameter 1.1.1.1.8.10 the option 'none' was selected and national rules exist."@en ;
    sh:message "nationalRollingStockFireCategory (1.1.1.1.8.11, 1.2.1.0.5.8, 1.2.2.0.5.8): The Tunnel {$this} ({?clsLabel}), has a 'rolling stock fire' category that makes the nationalRollingStockFireCategory parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel
			WHERE {
                 $this era:rollingStockFireCategory <http://data.europa.eu/949/concepts/rolling-stock-fire/rinf/30>.
				OPTIONAL{$this rdfs:label ?clsLabel} .
                FILTER NOT EXISTS {$this era:nationalRollingStockFireCategory ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:NationalValuesBrakeModel a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:nationalValuesBrakeModel ;
    era:rinfIndex "1.1.1.3.2.16.13",
        "1.2.1.1.1.16.13 "@en ;
    era:scope "local" ;
    rdfs:comment "Set of parameters for adapting the braking curves calculated by the ETCS on-board system to match accuracy, performance and safety margins imposed by the infrastructure manager." ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "nationalValuesBrakeModel (1.1.1.3.2.16.13, 1.2.1.1.1.16.13): The track or subset with common characteristics has a National Value used for the brake model that must be a string and follow the format [±NNNN.NNN]. The error is due to having more than one value, having a vaalue that is not a string, or it is due to the value not following the pattern."@en ;
    sh:path era:nationalValuesBrakeModel ;
    sh:severity sh:Violation .

era-sh:NationalValuesBrakeModelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:nationalValuesBrakeModel ;
    era:rinfIndex "1.1.1.3.2.16.13",
        "1.2.1.1.1.16.13" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "nationalValuesBrakeModel (1.1.1.3.2.16.13, 1.2.1.1.1.16.13):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the nationalValuesBrakeModel parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:nationalValuesBrakeModel ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:OfParameter a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:ofParameter ;
    era:scope "local" ;
    rdfs:comment "Applicability interval defines the date interval in which a characteristic of an infrastructure element is applicable. The characteristic to which it applies is the ofParameter property. "@en ;
    sh:maxCount 1 ;
    sh:message "ofParameter: An instance of parameter applicability must have exactly one value of the characteristic (ofParameter) to which it applies to. This error may be due to not having a value, having more than one value, having a value that is not an IRI or is not an object or datatype property in the ontology."@en ;
    sh:nodeKind sh:IRI ;
    sh:or ( [ sh:class owl:ObjectProperty ] [ sh:class owl:DatatypeProperty ] ) ;
    sh:path era:ofParameter ;
    sh:severity sh:Violation .

era-sh:OtherCantDeficiencyBasicSSP a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherCantDeficiencyBasicSSP ;
    era:rinfIndex "1.1.1.3.2.14.1",
        "1.2.1.1.1.14.1" ;
    era:scope "local" ;
    rdfs:comment "Essential information for drivers of trains with a worse (lower) tolerated cant deficiency than those for which the ETCS trackside provides SSP (Static Speed Profiles) in conjunction with parameter 'Cant Deficiency used for the basic SSP'. "@en ;
    sh:maxCount 1 ;
    sh:message "otherCantDeficiencyBasicSSP (1.1.1.3.2.14.1, 1.2.1.1.1.14.1): The track or subset with common characteristics must have other Cant Deficiency train categories basic SSP value that is an IRI. This error is due to having more than one value or having a value that is not an IRI"@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:otherCantDeficiencyBasicSSP ;
    sh:severity sh:Violation .

era-sh:OtherCantDeficiencyBasicSSPApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherCantDeficiencyBasicSSP ;
    era:rinfIndex "1.1.1.3.2.14.1",
        "1.2.1.1.1.14.1" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "otherCantDeficiencyBasicSSP (1.1.1.3.2.14.1, 1.2.1.1.1.14.1):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the otherCantDeficiencyBasicSSP parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:otherCantDeficiencyBasicSSP ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:OtherCantDeficiencyBasicSSPSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherCantDeficiencyBasicSSP ;
    era:rinfIndex "1.1.1.3.2.14.1",
        "1.2.1.1.1.14.1" ;
    era:scope "local" ;
    rdfs:comment "Essential information for drivers of trains with a worse (lower) tolerated cant deficiency than those for which the ETCS trackside provides SSP (Static Speed Profiles) in conjunction with parameter 'Cant Deficiency used for the basic SSP'. "@en ;
    sh:message "otherCantDeficiencyBasicSSP (1.1.1.3.2.14.1, 1.2.1.1.1.14.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/cant-deficiencies/CantDeficiencies."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:otherCantDeficiencyBasicSSP ?concept .
        era:otherCantDeficiencyBasicSSP era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:OtherPantographHeadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherPantographHead ;
    era:rinfIndex "1.1.1.2.3.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of pantograph heads which are allowed to be used."@en ;
    sh:message "otherPantographHead (1.1.1.2.3.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?cls ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:otherPantographHead ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:OtherPantographHeadSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherPantographHead ;
    era:rinfIndex "1.1.1.2.3.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of which other pantograph heads are allowed to be used."@en ;
    sh:message "Indication of the otherPantographHead (1.1.1.2.3.2):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/other-pantograph-heads/OtherPantographHeads."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:otherPantographHead ?concept .
        era:otherPantographHead era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:OtherTrainProtection a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherTrainProtection ;
    era:rinfIndex "1.1.1.3.10.2",
        "1.2.1.1.9.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of other system than ETCS for degraded situation. "@en ;
    sh:maxCount 1 ;
    sh:message "otherTrainProtection (1.1.1.3.10.2, 1.2.1.1.9.2): The track or subset with common characteristics may have other train protection, control and warning systems for degraded situation value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:otherTrainProtection ;
    sh:severity sh:Violation .

era-sh:OtherTrainProtectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherTrainProtection ;
    era:rinfIndex "1.1.1.3.10.2",
        "1.2.1.1.9.2" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "otherTrainProtection (1.1.1.3.10.2, 1.2.1.1.9.2):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the otherTrainProtection parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:otherTrainProtection ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:OtherTrainProtectionSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherTrainProtection ;
    era:rinfIndex "1.1.1.3.10.2",
        "1.2.1.1.9.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of existence of other system than ETCS for degraded situation. "@en ;
    sh:message "otherTrainProtection (1.1.1.3.10.2, 1.2.1.1.9.2): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/other-protection-control-warning/OtherProtectionControlWarnings."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:otherTrainProtection ?concept .
        era:otherTrainProtection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ParameterApplicability a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:parameterApplicability ;
    era:scope "local" ;
    rdfs:comment "Applicability interval that defines the date interval in which a characteristic of an infrastructure element is applicable. This interval can be applied for any of the technical characteristics or general information of infrastructure elements. This helps identifying planned changes applied to technical parameters over time. "@en ;
    sh:class era:ParameterApplicability ;
    sh:message "parameterApplicability: The infratructure element may have a parameterApplicability reference that must be an instance of ParameterApplicability. This error is due to having having a value that is not an instance of ParameterApplicability."@en ;
    sh:path era:parameterApplicability ;
    sh:severity sh:Violation .

era-sh:ParameterValue a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValue ;
    era:scope "local" ;
    rdfs:comment "This property is used to link an applicability to the precise value of the parameter"@en ;
    sh:maxCount 1 ;
    sh:message "parameterValue: An instance of parameter applicability must have exactly one value of the parameter value. This error may be due to not having a value or having more than one value."@en ;
    sh:path time:parameterValue ;
    sh:severity sh:Violation .

era-sh:ParameterValueType a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValueType ;
    era:scope "local" ;
    rdfs:comment "In the case of a change in the value of a parameter, there needs to be an information on the type of the new value. The “Value type” will have different possible options: “nominal”, “planned temporary restriction”, “permanent restriction”, “planned temporary closure."@en ;
    sh:maxCount 1 ;
    sh:message "parameterValueType: An instance of parameter applicability must have exactly one value of the parameter value type. This error may be due to not having a value, having more than one value, having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path time:parameterValueType ;
    sh:severity sh:Violation .

era-sh:ParameterValueTypeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValueType ;
    era:scope "local" ;
    rdfs:comment "In the case of a change in the value of a parameter, there needs to be an information on the type of the new value. The “Value type” will have different possible options: “nominal”, “planned temporary restriction”, “permanent restriction”, “planned temporary closure."@en ;
    sh:message "parameterValueType: The parameter applicability {$this} with label {?thisLabel}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/parameterApplicability/ValueTypes."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?thisLabel ?concept 
    WHERE {
        OPTIONAL {$this rdfs:label ?thisLabel} .
        $this era:parameterValueType ?concept .
        era:parameterValueType era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme }
	}
""" ;
    sh:severity sh:Violation .

era-sh:PermittedContactForce a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:permittedContactForce ;
    era:rinfIndex "1.1.1.2.5.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of contact force allowed expressed in newtons."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "permittedContactForce (1.1.1.2.5.2): The track or subset with common characteristics must have at most one value of the contact force allowed expressed in newtons. This error is due to the track having more than one value or to having a value that is not a character string."@en ;
    sh:path era:permittedContactForce ;
    sh:severity sh:Violation .

era-sh:PermittedContactForceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:permittedContactForce ;
    era:rinfIndex "1.1.1.2.5.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of contact force allowed expressed in newton."@en ;
    sh:message "permittedContactForce (1.1.1.2.5.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .		
                FILTER EXISTS {$this era:permittedContactForce ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:PlatformHeightP a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:platformHeight ;
    era:rinfIndex "1.2.1.0.6.5" ;
    era:scope "local" ;
    rdfs:comment "Distance between the upper surface of platform and running surface of the neighbouring track. It is the nominal value expressed in millimetres. "@en ;
    sh:maxCount 1 ;
    sh:message "platformHeight (1.2.1.0.6.5): Each Platform must have at most  one height. This error may be due to having a platform with more than one height, or having a value that is not an URI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:platformHeight ;
    sh:severity sh:Violation .

era-sh:PlatformHeightSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:platformHeight ;
    era:rinfIndex "1.2.1.0.6.5" ;
    era:scope "local" ;
    rdfs:comment "Distance between the upper surface of platform and running surface of the neighbouring track. It is the nominal value expressed in millimetres. "@en ;
    sh:message "Platform height (1.2.1.0.6.5): The platform {$this} with label {?label} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/platform-heights/PlatformHeights."@en ;
    sh:nodeKind sh:IRI ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:platformHeight ?concept .
        era:platformHeight era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:ProfileNumberSemiTrailersSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:profileNumberSemiTrailers ;
    era:rinfIndex "1.1.1.1.3.5" ;
    era:scope "local" ;
    rdfs:comment "Coding for combined transport with semi-trailers as defined in UIC Code."@en ;
    sh:message "Indication of the profileNumberSemiTrailers(1.1.1.1.3.5):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/profile-num-semi-trailers/ProfileNumbersSemiTrailers."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
	    $this era:profileNumberSemiTrailers ?concept .
        era:profileNumberSemiTrailers era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ProfileNumberSwapBodiesSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:profileNumberSwapBodies ;
    era:rinfIndex "1.1.1.1.3.4" ;
    era:scope "local" ;
    rdfs:comment "Coding for combined transport with swap bodies as defined in UIC Code."@en ;
    sh:message "Indication of the profileNumberSwapBodies(1.1.1.1.3.4):): The track {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/profile-num-swap-bodies/ProfileNumbersSwapBodies."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:profileNumberSwapBodies ?concept .
        era:profileNumberSwapBodies era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:ProtectionLegacySystemSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:protectionLegacySystem ;
    era:rinfIndex "1.1.1.3.5.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of which class B system is installed."@en ;
    sh:message "Indication of the protectionLegacySystem (1.1.1.3.5.3): The track or subset with common characteristics  {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/train-protection-legacy-systems/TrainProtectionLegacySystems."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:protectionLegacySystem ?concept .
        era:protectionLegacySystem era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:PublicNetworkRoaming a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoaming ;
    era:rinfIndex "1.1.1.3.3.6",
        "1.2.1.1.2.6" ;
    era:scope "local" ;
    rdfs:comment "Existence of roaming to a public network. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "publicNetworkRoaming (1.1.1.3.3.6, 1.2.1.1.2.6): Each track or subset with common characteristics may define the existence of GSM-R roaming to public networks. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:publicNetworkRoaming ;
    sh:severity sh:Violation .

era-sh:PublicNetworkRoamingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoaming ;
    era:rinfIndex "1.1.1.3.3.6",
        "1.2.1.1.2.6" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "publicNetworkRoaming (1.1.1.3.3.6, 1.2.1.1.2.6):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the publicNetworkRoaming parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:publicNetworkRoaming ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:PublicNetworkRoamingDetails a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoamingDetails ;
    era:rinfIndex "1.1.1.3.3.7",
        "1.2.1.1.2.7" ;
    era:scope "local" ;
    rdfs:comment """If roaming to public networks is configured, please:
1. indicate to which networks, for which users and in which areas.
2. list if any GSM-R functionality is not available when roaming to a public network (e.g. REC, Functional Addressing, Group Calls). 
3. also add if there is any operational restriction for vehicles that cannot roam into any of the available public networks."""@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "publicNetworkRoamingDetails (1.1.1.3.3.7, 1.2.1.1.2.7): Each track or subset with common characteristics may have details on GSM-R roaming to public networks that is a character string. This error is due to having more than one publicNetworkRoamingDetails value or having a value that is not a string."@en ;
    sh:path era:publicNetworkRoamingDetails ;
    sh:severity sh:Violation .

era-sh:PublicNetworkRoamingDetailsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoamingDetails ;
    era:rinfIndex "1.1.1.3.3.7",
        "1.2.1.1.2.7" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "publicNetworkRoamingDetails (1.1.1.3.3.7, 1.2.1.1.2.7):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the publicNetworkRoamingDetails parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:publicNetworkRoamingDetails ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:QNvdriverAdhes a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvdriverAdhes ;
    era:rinfIndex "1.1.1.3.2.16.11",
        "1.2.1.1.1.16.11" ;
    era:scope "local" ;
    rdfs:comment "Qualifier determining whether the driver is allowed to modify the adhesion factor used by the ETCS on-board to calculate the braking curves. "@en ;
    sh:maxCount 1 ;
    sh:message "qNvdriverAdhes (1.1.1.3.2.16.11, 1.2.1.1.1.16.11): The track or subset with common characteristics must have a single Q_NVDRIVER_ADHES value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:qNvdriverAdhes ;
    sh:severity sh:Violation .

era-sh:QNvdriverAdhesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvdriverAdhes ;
    era:rinfIndex "1.1.1.3.2.16.11",
        "1.2.1.1.1.16.11" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "qNvdriverAdhes (1.1.1.3.2.16.11, 1.2.1.1.1.16.11):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the qNvdriverAdhes parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:qNvdriverAdhes ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:QNvdriverAdhesSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvdriverAdhes ;
    era:rinfIndex "1.1.1.3.2.16.11",
        "1.2.1.1.1.16.11" ;
    era:scope "local" ;
    rdfs:comment "Qualifier determining whether the driver is allowed to modify the adhesion factor used by the ETCS on-board to calculate the braking curves. "@en ;
    sh:message "qNvdriverAdhes (1.1.1.3.2.16.11, 1.2.1.1.1.16.11): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/adhf-qualifier/AdhesionFactorChange."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:qNvdriverAdhes ?concept .
        era:qNvdriverAdhes era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:QNvemrrls a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvemrrls ;
    era:rinfIndex "1.1.1.3.2.16.2",
        "1.2.1.1.1.16.2" ;
    era:scope "local" ;
    rdfs:comment "Qualifier defining whether the application of the emergency brake for reasons other than a trip can be revoked as soon as the conditions for it have disappeared or after the train has come to a complete standstill. "@en ;
    sh:maxCount 1 ;
    sh:message "qNvemrrls (1.1.1.3.2.16.2, 1.2.1.1.1.16.2): The track or subset with common characteristics must have a single Q_NVEMRRLS value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:qNvemrrls ;
    sh:severity sh:Violation .

era-sh:QNvemrrlsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvemrrls ;
    era:rinfIndex "1.1.1.3.2.16.2",
        "1.2.1.1.1.16.2" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when parameter 1.1.1.3.2.1 is applicable (its Applicable: 'Y'). "@en ;
    sh:message "qNvemrrls (1.1.1.3.2.16.2, 1.2.1.1.1.16.2):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the qNvemrrls parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:qNvemrrls ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:QNvemrrlsSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvemrrls ;
    era:rinfIndex "1.1.1.3.2.16.2",
        "1.2.1.1.1.16.2" ;
    era:scope "local" ;
    rdfs:comment "Qualifier defining whether the application of the emergency brake for reasons other than a trip can be revoked as soon as the conditions for it have disappeared or after the train has come to a complete standstill. "@en ;
    sh:message "qNvemrrls (1.1.1.3.2.16.2, 1.2.1.1.1.16.2): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ebr-qualifier/EBReleaseQualifier."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:qNvemrrls ?concept .
        era:qNvemrrls era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:QNvsbtsmperm a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvsbtsmperm ;
    era:rinfIndex "1.1.1.3.2.16.12",
        "1.2.1.1.1.16.12" ;
    era:scope "local" ;
    rdfs:comment "Permission to use service brake in target speed monitoring. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "qNvsbtsmperm (1.1.1.3.2.16.12, 1.2.1.1.1.16.12): Each track or subset with common characteristics may define the Q_NVSBTSMPERM value. This error is due to having more than one  value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:qNvsbtsmperm ;
    sh:severity sh:Violation .

era-sh:QNvsbtsmpermApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:qNvsbtsmperm ;
    era:rinfIndex "1.1.1.3.2.16.12",
        "1.2.1.1.1.16.12" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "qNvsbtsmperm (1.1.1.3.2.16.12, 1.2.1.1.1.16.12):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the qNvsbtsmperm parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:qNvsbtsmperm ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:RadioNetworkId a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:radioNetworkId ;
    era:rinfIndex "1.1.1.3.3.12",
        "1.2.1.1.2.13" ;
    era:scope "local" ;
    rdfs:comment "Unique identification of the GSM-R network the calling mobile station has to register with, as defined in the specification referenced in TSI CCS. "@en ;
    sh:datatype xsd:string ;
    sh:message "radioNetworkId (1.1.1.3.3.12, 1.2.1.1.2.13): The track or subset with common characteristics has a Radio Network ID that must be a string and follow the format [NNNNNN]. The error is due to the value not being a string or not following the pattern."@en ;
    sh:path era:radioNetworkId ;
    sh:pattern "^([1-9]\\d{0,5}|0)$" ;
    sh:severity sh:Violation .

era-sh:RadioNetworkIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:radioNetworkId ;
    era:rinfIndex "1.1.1.3.3.12",
        "1.2.1.1.2.13" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "radioNetworkId (1.1.1.3.3.12, 1.2.1.1.2.13):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the radioNetworkId parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:radioNetworkId ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:RailInclination a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:railInclination ;
    era:rinfIndex "1.1.1.1.4.3" ;
    era:scope "local" ;
    rdfs:comment "An angle defining the inclination of the head of a rail relatie to the running surface."@en ;
    sh:maxCount 1 ;
    sh:message "railInclination (1.1.1.1.4.3): The track or subset with common characteristics must have at most one rail inclination measurement value that is an IRI. This error may be due to the track having more than one rail inclination measurement value or to having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:railInclination ;
    sh:severity sh:Violation .

era-sh:RailInclinationSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:railInclination ;
    era:rinfIndex "1.1.1.1.4.3" ;
    era:scope "local" ;
    rdfs:comment "An angle defining the inclination of the head of a rail relatie to the running surface."@en ;
    sh:message "Indication of the rail inclination (1.1.1.1.4.3):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/rail-inclinations/RailInclinations."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:railInclination ?concept .
        era:railInclination era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:ReasonsEtcsRadioBlockCenterReject a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:reasonsEtcsRadioBlockCenterReject ;
    era:rinfIndex "1.1.1.3.2.15",
        "1.2.1.1.1.15" ;
    era:scope "local" ;
    rdfs:comment "List of cases subject to system design choices made by the infrastructure manager according to the specification referenced in TSI CCS. "@en ;
    sh:maxCount 1 ;
    sh:message "reasonsEtcsRadioBlockCenterReject (1.1.1.3.2.15, 1.2.1.1.1.15): The track or subset with common characteristics must have a single reasons for which an ETCS Radio Block Center can reject a train value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:reasonsEtcsRadioBlockCenterReject ;
    sh:severity sh:Violation .

era-sh:ReasonsEtcsRadioBlockCenterRejectSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:reasonsEtcsRadioBlockCenterReject ;
    era:rinfIndex "1.1.1.3.2.15",
        "1.2.1.1.1.15" ;
    era:scope "local" ;
    rdfs:comment "List of cases subject to system design choices made by the infrastructure manager according to the specification referenced in TSI CCS. "@en ;
    sh:message "reasonsEtcsRadioBlockCenterReject (1.1.1.3.2.15, 1.2.1.1.1.15): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/etcs-rbc-reject-reasons/ETCSRBCRejectionReasons."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:reasonsEtcsRadioBlockCenterReject ?concept .
        era:reasonsEtcsRadioBlockCenterReject era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:RedLightsRequired a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:redLightsRequired ;
    era:rinfIndex "1.1.1.1.7.10" ;
    era:scope "local" ;
    rdfs:comment "Sections where two steady red lights are required in accordance with Implementing Regulations (EU) 2019/773."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "redLightsRequired (1.1.1.1.7.10): The track or subset with common characteristics must have at most one value that defines if two steady red lights are required and the value must be Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:redLightsRequired ;
    sh:severity sh:Violation .

era-sh:RollingStockFireCategory a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:rollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.10",
        "1.2.1.0.5.7",
        "1.2.2.0.5.7" ;
    era:scope "local" ;
    rdfs:comment "Categorisation on how a passenger train with a fire on board will continue to operate for a defined time period"@en ;
    sh:maxCount 1 ;
    sh:message "rollingStockFireCategory (1.1.1.1.8.10, 1.2.1.0.5.7, 1.2.2.0.5.7): A Tunnel may have an indication about the rollingStockFireCategory. This error may be due to having a tunnel without a rollingStockFireCategory declaration or having a literal as value. This error may be due to a tunnel having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:rollingStockFireCategory ;
    sh:severity sh:Violation .

era-sh:RollingStockFireCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:rollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.10",
        "1.2.1.0.5.7",
        "1.2.2.0.5.7" ;
    era:scope "local" ;
    rdfs:comment "Applicable for tunnels longer than 1 km."@en ;
    sh:message "rollingStockFireCategory (1.1.1.1.8.10, 1.2.1.0.5.7, 1.2.2.0.5.7): The Tunnel {$this} ({?label}) has a length of {?tunnelLength} meters. Any tunnel longer than 1 Km makes the rollingStockFireCategory parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:lengthOfTunnel ?tunnelLength .
				OPTIONAL{$this rdfs:label ?label} .
				FILTER (?tunnelLength > 1000).
                FILTER NOT EXISTS {$this era:rollingStockFireCategory ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:RollingStockFireCategorySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:rollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.10",
        "1.2.1.0.5.7",
        "1.2.2.0.5.7" ;
    era:scope "local" ;
    rdfs:comment "Categorisation on how a passenger train with a fire on board will continue to operate for a defined time period"@en ;
    sh:message "Categorisation on how a passenger train with a fire on board will continue to operate (1.1.1.1.8.10, 1.2.1.0.5.7, 1.2.2.0.5.7): The tunnel {$this} (label {?tunnelLabel}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/rolling-stock-fire/Categories."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?concept ?tunnelLabel
    WHERE {
        OPTIONAL {$this rdfs:label ?tunnelLabel} .
 		$this era:rollingStockFireCategory ?concept .
        era:rollingStockFireCategory era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:SafeConsistLengthInformationNecessary a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:safeConsistLengthInformationNecessary ;
    era:rinfIndex "1.1.1.3.2.11",
        "1.2.1.1.1.11" ;
    era:scope "local" ;
    rdfs:comment "Indication whether safe consist train length information from on-board is required to access the line for safety reasons and the required safety integrity level. "@en ;
    sh:maxCount 1 ;
    sh:message "safeConsistLengthInformationNecessary (1.1.1.3.2.11, 1.2.1.1.1.11): The track or subset with common characteristics must have a single Safe consist length information from on-board necessary for access the line and SIL value that is an IRI. This error is due to having more than one value or having a value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:safeConsistLengthInformationNecessary ;
    sh:severity sh:Violation .

era-sh:SafeConsistLengthInformationNecessaryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:safeConsistLengthInformationNecessary ;
    era:rinfIndex "1.1.1.3.2.11",
        "1.2.1.1.1.11" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when parameter 1.1.1.3.2.1 is applicable (its Applicable: 'Y'). "@en ;
    sh:message "safeConsistLengthInformationNecessary (1.1.1.3.2.11, 1.2.1.1.1.11):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the safeConsistLengthInformationNecessary parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:safeConsistLengthInformationNecessary ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:SafeConsistLengthInformationNecessarySKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:safeConsistLengthInformationNecessary ;
    era:rinfIndex "1.1.1.3.2.11",
        "1.2.1.1.1.11" ;
    era:scope "local" ;
    rdfs:comment "Indication whether safe consist train length information from on-board is required to access the line for safety reasons and the required safety integrity level. "@en ;
    sh:message "safeConsistLengthInformationNecessary (1.1.1.3.2.11, 1.2.1.1.1.11): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/safe-consist-length/SafeConsistLengthNecessary."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:safeConsistLengthInformationNecessary ?concept .
        era:safeConsistLengthInformationNecessary era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:SpecificInformation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:specificInformation ;
    era:rinfIndex "1.1.1.1.3.5.1" ;
    era:scope "local" ;
    rdfs:comment "Any specific information from the IM."@en ;
    sh:datatype xsd:string ;
    sh:message "specificInformation (1.1.1.1.3.5.1): The track or subset with common characteristics  has a specific information value that must be a  string. This error may be due to having a value of specific information from the IM that is not a character string."@en ;
    sh:path era:specificInformation ;
    sh:severity sh:Violation .

era-sh:StandardCombinedRollerUnits a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:standardCombinedTransportRollerUnits ;
    era:rinfIndex "1.1.1.1.3.9" ;
    era:scope "local" ;
    rdfs:comment "Coding for combined transport for roller units (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    sh:message "standardCombinedTransportRollerUnits (1.1.1.1.3.9): The track or subset with common characteristics defines a standard combined transport profile number for roller units. This error is due to having  or having a value that is not  an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:standardCombinedTransportRollerUnits ;
    sh:severity sh:Violation .

era-sh:StandardCombinedRollerUnitsSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:standardCombinedTransportRollerUnits ;
    era:rinfIndex "1.1.1.1.3.9" ;
    era:scope "local" ;
    rdfs:comment "Coding for combined transport for roller units (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    sh:message "standardCombinedTransportRollerUnits (1.1.1.1.3.9):): The track or subset with common characteristics  {$this} in the Section of Line {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/standard-combined-transport-roller-units/StandardCombinedTransportRollerUnits."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:standardCombinedTransportRollerUnits ?concept .
        era:standardCombinedTransportRollerUnits era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:StandardCombinedTransportContainers a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:standardCombinedTransportContainers ;
    era:rinfIndex "1.1.1.1.3.8" ;
    era:scope "local" ;
    rdfs:comment "Coding for combined transport for containers (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    sh:message "standardCombinedTransportContainers (1.1.1.1.3.8): The track defines a standard combined transport profile number for containers. This error is due to having  a value that is not  an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:standardCombinedTransportContainers ;
    sh:severity sh:Violation .

era-sh:StandardCombinedTransportContainersSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:standardCombinedTransportContainers ;
    era:rinfIndex ".1.1.1.1.3.8" ;
    era:scope "local" ;
    rdfs:comment "Coding for combined transport for containers (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    sh:message "standardCombinedTransportContainers (1.1.1.1.3.8):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/standard-combined-transport-containers/StandardCombinedTransportContainers."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:standardCombinedTransportContainers ?concept .
        era:standardCombinedTransportContainers era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:StructureCheckLocation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:structureCheckLocation ;
    era:rinfIndex "1.1.1.1.2.4.3" ;
    era:scope "local" ;
    rdfs:comment "Localisation of structures requiring specific checks."@en ;
    sh:datatype xsd:double ;
    sh:message "structureCheckLocation (1.1.1.1.2.4.3): The track or subset with common characteristics has a location of the structure check value that must be a double (real) number and follow the format [±NNNN.NNN]. This error may be due to the track having a value that does not follow the pattern or is not a double (real) number."@en ;
    sh:path era:structureCheckLocation ;
    sh:pattern "^(\\+|\\-)?([1-9]\\d{1,3}|[0-9])\\.\\d{1,3}$" ;
    sh:severity sh:Violation .

era-sh:SwitchProtectControlWarning a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:switchProtectControlWarning ;
    era:rinfIndex "1.1.1.3.8.1",
        "1.2.1.1.7.1" ;
    era:scope "local" ;
    rdfs:comment "Indication whether a switch over between different systems whilst running exists. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "switchProtectControlWarning (1.2.1.1.7.1, 1.1.1.3.8.1): Each track or subset with common characteristics may define the existence of switch over between different protection, control and warning systems while running. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:switchProtectControlWarning ;
    sh:severity sh:Violation .

era-sh:SwitchProtectControlWarningApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:switchProtectControlWarning ;
    era:rinfIndex "1.1.1.3.8.1",
        "1.2.1.1.7.1" ;
    era:scope "local" ;
    rdfs:comment "Applicable ('Y') when at least two different class of protection systems exist. "@en ;
    sh:message "switchProtectControlWarning (1.2.1.1.7.1, 1.1.1.3.8.1):The track or subset with common characteristics {$this} ({?label}), has  more than one protection system defined which makes the switchProtectControlWarning parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label ?count
			WHERE {
				{
				SELECT $this (COUNT(?system) AS ?count) WHERE{
					{$this era:protectionLegacySystem ?system}
					UNION
					{$this era:otherTrainProtection ?system}					
					} GROUP BY $this
				}
				OPTIONAL{$this rdfs:label ?label} .
				FILTER ( ?count > 1) .
                FILTER NOT EXISTS {$this era:switchProtectControlWarning ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:SwitchRadioSystem a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:switchRadioSystem ;
    era:rinfIndex "1.1.1.3.8.2",
        "1.2.1.1.7.2" ;
    era:scope "local" ;
    rdfs:comment "Indication whether a switch over between different radio systems and no communication system whilst running exists. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "switchRadioSystem (1.2.1.1.7.2, 1.1.1.3.8.2): Each track or subset with common characteristics may define the existence of switch over between different radio systems. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:switchRadioSystem ;
    sh:severity sh:Violation .

era-sh:SwitchRadioSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:switchRadioSystem ;
    era:rinfIndex "1.1.1.3.8.2",
        "1.2.1.1.7.2" ;
    era:scope "local" ;
    rdfs:comment "Applicable ('Y') when at least two different radio systems exist. "@en ;
    sh:message "switchRadioSystem (1.2.1.1.7.2, 1.1.1.3.8.2):The track or subset with common characteristics {$this} ({?label}), has more than one radio system defined which makes the switchRadioSystem parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label ?countRS
			WHERE {
				{
				SELECT $this (COUNT(?radioSystem) AS ?countRS) WHERE{
	            	$this era:legacyRadioSystem ?radioSystem					
					} GROUP BY $this
				}
				OPTIONAL{$this rdfs:label ?label} .
				FILTER ( ?countRS > 1) .
                FILTER NOT EXISTS {$this era:switchRadioSystem ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TNvcontact a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tNvcontact ;
    era:rinfIndex "1.1.1.3.2.16.8",
        "1.2.1.1.1.16.8" ;
    era:scope "local" ;
    rdfs:comment "Maximum time without a safe message from Radio Block Center before train reacts in seconds. "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "tNvcontact (1.1.1.3.2.16.8, 1.2.1.1.1.16.8): The track or subset with common characteristics defines a maximum time without a safe message from Radio Block Center. This error is due to having more than one value, having a value that is not an integer or having an integer that does not follow the pattern [NNN]."@en ;
    sh:path era:tNvcontact ;
    sh:pattern "^([1-9]\\d{0,2}|0)$" ;
    sh:severity sh:Violation .

era-sh:TNvcontactApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tNvcontact ;
    era:rinfIndex "1.1.1.3.2.16.8",
        "1.2.1.1.1.16.8" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "tNvcontact (1.1.1.3.2.16.8, 1.2.1.1.1.16.8):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the tNvcontact parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:tNvcontact ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TNvovtrp a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tNvovtrp ;
    era:rinfIndex "1.1.1.3.2.16.6",
        "1.2.1.1.1.16.6" ;
    era:scope "local" ;
    rdfs:comment "Maximum time for overriding the train trip in seconds. "@en ;
    sh:datatype xsd:integer ;
    sh:maxCount 1 ;
    sh:message "tNvovtrp (1.1.1.3.2.16.6 , 1.2.1.1.1.16.6): The track or subset with common characteristics defines a T_NVOVTRP. This error is due to having more than one value, having a value that is not an integer or having an integer that does not follow the pattern [NNN]."@en ;
    sh:path era:tNvovtrp ;
    sh:pattern "^([1-9]\\d{0,2}|0)$" ;
    sh:severity sh:Violation .

era-sh:TNvovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tNvovtrp ;
    era:rinfIndex "1.1.1.3.2.16.6",
        "1.2.1.1.1.16.6" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "tNvovtrp (1.1.1.3.2.16.6, 1.2.1.1.1.16.6):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the tNvovtrp parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:tNvovtrp ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TSISwitchCrossing a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiSwitchCrossing ;
    era:rinfIndex "1.1.1.1.5.1" ;
    era:scope "local" ;
    rdfs:comment "Switches and crossings are maintained to in service limit dimension as specified in TSI."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "tsiSwitchCrossing (1.1.1.1.5.1): The track or subset with common characteristics must have at most one existence of TSI switches and crossing value that is Y/N (boolean). This error may be due to the track having more than one tsi swith crossing value or to having a value that is not Y/N (boolean)."@en ;
    sh:path era:tsiSwitchCrossing ;
    sh:severity sh:Violation .

era-sh:TemperatureRange a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:temperatureRange ;
    era:rinfIndex "1.1.1.1.2.6" ;
    era:scope "local" ;
    rdfs:comment "Indication of the temperature range of track."@en ;
    sh:maxCount 1 ;
    sh:message "temperatureRange (1.1.1.1.2.6): Each track or subset with common characteristics may have exactly one temperature range value that must be an IRI. This error may be due to the track not having a temperature range, or having more than one temperature range."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:temperatureRange ;
    sh:severity sh:Violation .

era-sh:TemperatureRangeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:temperatureRange ;
    era:rinfIndex "1.1.1.1.2.6" ;
    era:scope "local" ;
    rdfs:comment "Indication of the temperature range of track."@en ;
    sh:message "Indication of the temperature range (1.1.1.1.2.6):): The track {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/temperature-ranges/TemperatureRanges."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:temperatureRange ?concept .
        era:temperatureRange era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:TenClassificationP a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:tenClassification ;
    era:rinfIndex "1.2.1.0.6.3" ;
    era:scope "local" ;
    rdfs:comment "Indicates the part of the trans-European network the platform belongs to. "@en ;
    sh:message "TEN classification (1.2.1.0.6.3): This error may be due to having a Platform with a TEN classification that is not an URI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:tenClassification ;
    sh:severity sh:Violation .

era-sh:TenClassificationS a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:tenClassification ;
    era:rinfIndex "1.1.1.1.2.1",
        "1.2.1.0.2.1",
        "1.2.1.0.6.3",
        "1.2.2.0.0.3" ;
    era:scope "local" ;
    rdfs:comment "Indicates the part of the trans-European network the platform belongs to. "@en ;
    sh:message "TEN classification (1.1.1.1.2.1, 1.2.1.0.2.1, 1.2.1.0.6.3, 1.2.2.0.0.3): This error may be due to having a Platform with a TEN classification that is not an URI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:tenClassification ;
    sh:severity sh:Violation .

era-sh:TenClassificationSKOSP a sh:SPARQLConstraint ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:tenClassification ;
    era:rinfIndex "1.2.1.0.6.3" ;
    era:scope "local" ;
    rdfs:comment "Indicates the part of the trans-European network the platform belongs to. "@en ;
    sh:message "TEN classification (1.2.1.0.6.3): The platform {$this} with label {?label} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ten-classifications/TENClassifications."@en ;
    sh:nodeKind sh:IRI ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:tenClassification ?concept .
        era:tenClassification era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:TenClassificationSKOSS a sh:SPARQLConstraint ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:tenClassification ;
    era:rinfIndex "1.1.1.1.2.1",
        "1.2.1.0.2.1",
        "1.2.1.0.6.3",
        "1.2.2.0.0.3" ;
    era:scope "local" ;
    rdfs:comment "Indication of the part of the trans-European network the line belongs to. "@en ;
    sh:message "TEN classification (1.1.1.1.2.1, 1.2.1.0.2.1, 1.2.1.0.6.3, 1.2.2.0.0.3): The siding or subset with common characteristics {$this} with label {?sidingLabel} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ten-classifications/TENClassifications."@en ;
    sh:nodeKind sh:IRI ;
    sh:prefixes era: ;
    sh:select """
     PREFIX era: <http://data.europa.eu/949/>
     PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
     PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
     SELECT $this  ?concept ?sidingLabel
     WHERE {
         OPTIONAL{$this rdfs:label ?sidingLabel}
         $this era:tenClassification ?concept .
         era:tenClassification era:inSkosConceptScheme ?conceptScheme .
 		FILTER NOT EXISTS{         
   			?concept skos:inScheme ?conceptScheme .
 		}
 	}
 """ ;
    sh:severity sh:Violation .

era-sh:TenClassificationSKOST a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tenClassification ;
    era:rinfIndex "1.1.1.1.2.1",
        "1.2.1.0.2.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the TEN classification of track. "@en ;
    sh:message "TEN classification (1.1.1.1.2.1, 1.2.1.0.2.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/ten-classifications/TENClassifications."@en ;
    sh:nodeKind sh:IRI ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:tenClassification ?concept .
        era:tenClassification era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:TenClassificationT a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tenClassification ;
    era:rinfIndex "1.1.1.1.2.1",
        "1.2.1.0.2.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the part of the trans-European network the line belongs to. "@en ;
    sh:message "tenClassification (1.1.1.1.2.1, 1.2.1.0.2.1): The track or subset with common characteristics has a TEN classificaion value (Indication of the part of the trans-European network the line belongs to) that must be an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:tenClassification ;
    sh:severity sh:Violation .

era-sh:TenGISId a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tenGISId ;
    era:rinfIndex "1.1.1.1.2.1.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of the GIS identity (GIS ID) of the section of TEN-T database to which the track belongs."@en ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:message "tenGISId (1.1.1.1.2.1.2): The track or subset with common characteristics  must have at most one character string value (GIS Id) of the section of TEN-T database to which the track belongs. This error may be due to having a track with more than one TEN GIS identity or that the value is not a string."@en ;
    sh:path era:tenGISId ;
    sh:severity sh:Violation .

era-sh:TenGISIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tenGISId ;
    era:rinfIndex "1.1.1.1.2.1.2" ;
    era:scope "local" ;
    rdfs:comment "Indication of the GIS identity (GIS ID) of the section of TEN-T database to which the track belongs."@en ;
    sh:message "tenGISId (1.1.1.1.2.1.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y if the answer to parameter 1.1.1.1.2.1 is not off TEN."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:tenClassification ?tc .
                FILTER (?tc != <http://data.europa.eu/949/concepts/ten-classifications/40>) .		
                FILTER NOT EXISTS {$this era:tenGISId ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TiltingSupported a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tiltingSupported ;
    era:rinfIndex "1.1.1.3.12.1" ;
    era:scope "local" ;
    rdfs:comment "Indication whether tilting functions are supported by the track."@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "tiltingSupported (1.1.1.3.12.1): The track or subset with common characteristics must define at most one value of the indication whether tilting functions are supported by the track and it is Y/N (boolean).This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en ;
    sh:path era:tiltingSupported ;
    sh:severity sh:Violation .

era-sh:TrackLoadCapability a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackLoadCapability ;
    era:rinfIndex "1.1.1.1.2.4" ;
    era:scope "local" ;
    rdfs:comment "Relates the track with the class LoadCapability. A combination of the line category and speed at the weakest point of the track."@en ;
    sh:class era:LoadCapability ;
    sh:message "trackLoadCapability (1.1.1.1.2.4): The track or subset with common characteristics  defines a load capability value that must be an instance of LoadCapability."@en ;
    sh:path era:trackLoadCapability ;
    sh:severity sh:Violation .

era-sh:TrackPhaseInfo a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackPhaseInfo ;
    era:rinfIndex "1.1.1.2.4.1.2" ;
    era:scope "local" ;
    rdfs:comment "Relates the Track with PhaseInfo. Indication of required several information on phase separation."@en ;
    sh:class era:PhaseInfo ;
    sh:message "trackPhaseInfo (1.1.1.2.4.1.2): The track defines a track phase info value that must be an instance of PhaseInfo."@en ;
    sh:path era:trackPhaseInfo ;
    sh:severity sh:Violation .

era-sh:TrackPhaseInfoApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackPhaseInfo ;
    era:rinfIndex "1.1.1.2.4.1.2" ;
    era:scope "local" ;
    rdfs:comment "Relates the Track with PhaseInfo. Indication of required several information on phase separation."@en ;
    sh:message "trackPhaseInfo (1.1.1.2.4.1.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Applicable when in parameter 1.1.1.2.4.1.1 selected option is ‘Y’"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hasPhaseSeparation "1"^^xsd:boolean .			
                FILTER NOT EXISTS {$this era:trackPhaseInfo ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TrackRaisedPantographDistanceAndSpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackRaisedPantographsDistanceAndSpeed ;
    era:rinfIndex "1.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "Relates the track with the class RaisedPantographsDistanceAndSpeed. Indication of maximum number of raised pantographs per train allowed and minimum spacing centre line to centre line of adjacent pantograph heads, expressed in metres, at the given speed."@en ;
    sh:message "trackRaisedPantographsDistanceAndSpeed (1.1.1.2.3.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .	
                FILTER EXISTS {$this era:trackRaisedPantographsDistanceAndSpeed ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TrackRaisedPantographsDistanceAndSpeed a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackRaisedPantographsDistanceAndSpeed ;
    era:rinfIndex "1.1.1.2.3.3" ;
    era:scope "local" ;
    rdfs:comment "Relates the track with the class RaisedPantporaphsDistanceAndSpeed. Indication of maximum number of raised pantographs per train allowed and minimum spacing centre line to centre line of adjacent pantograph heads, expressed in metres, at the given speed."@en ;
    sh:class era:RaisedPantographsDistanceAndSpeed ;
    sh:message "trackRaisedPantographsDistanceAndSpeed (1.1.1.2.3.3): The track defines a raised pantographs distance and speed value that must be an instance of RaisedPantographsDistanceAndSpeed."@en ;
    sh:path era:trackRaisedPantographsDistanceAndSpeed ;
    sh:severity sh:Violation .

era-sh:TrackSystemSeparationInfo a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackSystemSeparationInfo ;
    era:rinfIndex "1.1.1.2.4.2.2" ;
    era:scope "local" ;
    rdfs:comment "Relates the Track with the SystemSeparationInfo. Indication of required several information on system separation."@en ;
    sh:class era:SystemSeparationInfo ;
    sh:message "trackSystemSeparationInfo (1.1.1.2.4.2.2): The track defines a system separation info value that must be an instance of SystemSeparationInfo."@en ;
    sh:path era:trackSystemSeparationInfo ;
    sh:severity sh:Violation .

era-sh:TrackSystemSeparationInfoApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackSystemSeparationInfo ;
    era:rinfIndex "1.1.1.2.4.2.2" ;
    era:scope "local" ;
    rdfs:comment "Relates the Track with the SystemSeparationInfo. Indication of required several information on system separation."@en ;
    sh:message "trackSystemSeparationInfo (1.1.1.2.4.2.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Applicable when in parameter 1.1.1.2.4.2.1 selected option is ‘Y’"@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hasSystemSeparation "1"^^xsd:boolean .			
                FILTER NOT EXISTS {$this era:trackSystemSeparationInfo ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TrainDetectionSystem a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trainDetectionSystem ;
    era:rinfIndex "1.1.1.3.4" ;
    era:scope "local" ;
    rdfs:comment "Train detection systems installed in the section of line."@en ;
    sh:class era:TrainDetectionSystem ;
    sh:maxCount 1 ;
    sh:message "trainDetectionSystem (1.1.1.3.4) : The track or subset with common characteristics may have at most one value of a train detection system that must be an instance of TrainDetectionSystem. This error may be due to the track or subset with common characteristics having more than one value or a value that is not an instance of the class TrainDetectionSystem."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:trainDetectionSystem ;
    sh:severity sh:Violation .

era-sh:TrainIntegrityOnBoardRequired a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trainIntegrityOnBoardRequired ;
    era:rinfIndex "1.1.1.3.2.8",
        "1.2.1.1.1.8" ;
    era:scope "local" ;
    rdfs:comment "Indication whether train confirmation from on-board is required to access the line for safety reasons. In hybrid operation, the confirmation can be optional. "@en ;
    sh:in ( "N" "Optional" "Y" ) ;
    sh:maxCount 1 ;
    sh:message "trainIntegrityOnBoardRequired (1.1.1.3.2.8, 1.2.1.1.1.8): The track or subset with common characteristics defines a train integrity confirmation from on-board (not from driver) necessary for line access. This error is due to having more than one value or having a value that is not in the list of valid alternatives."@en ;
    sh:path era:trainIntegrityOnBoardRequired ;
    sh:severity sh:Violation .

era-sh:TsiMagneticFields a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiMagneticFields ;
    era:rinfIndex "1.1.1.3.9.1",
        "1.2.1.1.8.1" ;
    era:scope "local" ;
    rdfs:comment "Indication whether rules exist and are compliant with the TSI. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "tsiMagneticFields (1.1.1.3.9.1, 1.2.1.1.8.1): Each track or subset with common characteristics may define the existence and TSI compliance of rules for magnetic fields emitted by a vehicle. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:tsiMagneticFields ;
    sh:severity sh:Violation .

era-sh:TsiMagneticFieldsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiMagneticFields ;
    era:rinfIndex "1.1.1.3.9.1",
        "1.2.1.1.8.1" ;
    era:scope "local" ;
    rdfs:comment "Applicable ('Y') only when for parameter 1.1.1.3.7.1.1 the selected option is 'wheel detector'. "@en ;
    sh:message "tsiMagneticFields (1.1.1.3.9.1, 1.2.1.1.8.1):The track or subset with common characteristics {$this} ({?label}), has a 'train detection system' type ('wheel detector') that makes the tsiMagneticFields parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/20>.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:tsiMagneticFields ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TsiPantographHeadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiPantographHead ;
    era:rinfIndex "1.1.1.2.3.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of TSI compliant pantograph heads which are allowed to be used."@en ;
    sh:message "tsiPantographHead (1.1.1.2.3.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this  ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) 	
                FILTER EXISTS {$this era:tsiPantographHead ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TsiPantographHeadSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiPantographHead ;
    era:rinfIndex "1.1.1.2.3.1" ;
    era:scope "local" ;
    rdfs:comment "Accepted TSI compliant pantograph heads."@en ;
    sh:message "Indication of the tsiPantographHead (1.1.1.2.3.1):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/compliant-pantograph-heads/CompliantPantographHeads."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:tsiPantographHead ?concept .
        era:tsiPantographHead era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" ;
    sh:severity sh:Violation .

era-sh:TsiTractionHarmonics a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiTractionHarmonics ;
    era:rinfIndex "1.1.1.3.9.2",
        "1.2.1.1.8.2" ;
    era:scope "local" ;
    rdfs:comment "Indication whether rules exist and are compliant with the TSI. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "tsiTractionHarmonics (1.1.1.3.9.2, 1.2.1.1.8.2): Each track or subset with common characteristics may define the existence and TSI compliance of limits in harmonics in the traction current of vehicles. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:tsiTractionHarmonics ;
    sh:severity sh:Violation .

era-sh:TsiTractionHarmonicsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tsiTractionHarmonics ;
    era:rinfIndex "1.1.1.3.9.2",
        "1.2.1.1.8.2" ;
    era:scope "local" ;
    rdfs:comment "Applicable ('Y') only when for parameter 1.1.1.3.7.1.1 the selected option is 'wheel detector' or 'track circuit'. "@en ;
    sh:message "tsiTractionHarmonics (1.1.1.3.9.2, 1.2.1.1.8.2):The track or subset with common characteristics {$this} ({?label}), has a 'train detection system' type ('wheel detector' or 'track circuit')  that makes the tsiTractionHarmonics parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 {$this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/10>}
				 UNION
                 {$this era:trainDetectionSystemType <http://data.europa.eu/949/concepts/train-detection/rinf/20>}
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:tsiTractionHarmonics ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:TunnelDocRef a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:tunnelDocRef ;
    era:rinfIndex "1.1.1.1.8.8.2" ;
    era:scope "local" ;
    rdfs:comment "Electronic document available from the IM stored by the Agency with precise description of the clearance gauge and geometry of the tunnel"@en ;
    sh:class era:Document ;
    sh:message "tunnelDocRef (1.1.1.1.8.8.2): A Tunnel has a tunnelDocRef with precise description of the clearance gauge and geometry of the tunnel, and it must be a Document. This error a due to having a value that is not an instance of Document"@en ;
    sh:path era:tunnelDocRef ;
    sh:severity sh:Violation .

era-sh:UsesGroup555 a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:usesGroup555 ;
    era:rinfIndex "1.1.1.3.3.4",
        "1.2.1.1.2.4" ;
    era:scope "local" ;
    rdfs:comment "Indication if group 555 is used. "@en ;
    sh:datatype xsd:boolean ;
    sh:maxCount 1 ;
    sh:message "usesGroup555 (1.1.1.3.3.4, 1.2.1.1.2.4): Each track or subset with common characteristics may define the existence of GSM-R use of group 555. This error is due to having more than one value or having a value that is not Y/N (boolean)."@en ;
    sh:path era:usesGroup555 ;
    sh:severity sh:Violation .

era-sh:UsesGroup555Applicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:usesGroup555 ;
    era:rinfIndex "1.1.1.3.3.4",
        "1.2.1.1.2.4" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) and ETCS L2 (parameter 1.1.1.3.2.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "usesGroup555 (1.1.1.3.3.4, 1.2.1.1.2.4):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined and a 'ETCS level' type selected which makes the usesGroup555 parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion;
				 	   era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:usesGroup555 ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:VNvallowovtrp a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:vNvallowovtrp ;
    era:rinfIndex "1.1.1.3.2.16.3",
        "1.2.1.1.1.16.3" ;
    era:scope "local" ;
    rdfs:comment "Speed limit allowing the driver to select the “override” function in km/h. "@en ;
    sh:datatype xsd:unsignedInt ;
    sh:maxCount 1 ;
    sh:maxInclusive 600 ;
    sh:message "vNvallowovtrp (1.1.1.3.2.16.3, 1.2.1.1.1.16.3): The track or subset with common characteristics defines a speed limit allowing the driver to select the “override” function (V_NVALLOWOVTRP). This error is due to having more than one value, having a value that is not an integer or having an integer that does not follow the pattern [NNF], with N a decimal number (0÷9), F=(0|5), max. `600`."@en ;
    sh:minInclusive 0 ;
    sh:path era:vNvallowovtrp ;
    sh:pattern "^([1-9]\\d{0,1}[0,5]|[0,5])$" ;
    sh:severity sh:Violation .

era-sh:VNvallowovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:vNvallowovtrp ;
    era:rinfIndex "1.1.1.3.2.16.3",
        "1.2.1.1.1.16.3" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "vNvallowovtrp (1.1.1.3.2.16.3, 1.2.1.1.1.16.3):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the vNvallowovtrp parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:vNvallowovtrp ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:VNvsupovtrp a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:vNvsupovtrp ;
    era:rinfIndex "1.1.1.3.2.16.4",
        "1.2.1.1.1.16.4" ;
    era:scope "local" ;
    rdfs:comment "Override speed limit to be supervised when the “override” function is active in km/h. "@en ;
    sh:datatype xsd:unsignedInt ;
    sh:maxCount 1 ;
    sh:maxInclusive 600 ;
    sh:message "vNvsupovtrp (1.1.1.3.2.16.4, 1.2.1.1.1.16.4): The track or subset with common characteristics defines a override speed limit to be supervised when the “override” function is active (V_NVSUPOVTRP). This error is due to having more than one value, having a value that is not an integer or having an integer that does not follow the pattern [NNF], with N a decimal number (0÷9), F=(0|5), max. `600`."@en ;
    sh:minInclusive 0 ;
    sh:path era:vNvsupovtrp ;
    sh:pattern "^([1-9]\\d{0,1}[0,5]|[0,5])$" ;
    sh:severity sh:Violation .

era-sh:VNvsupovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:vNvsupovtrp ;
    era:rinfIndex "1.1.1.3.2.16.4",
        "1.2.1.1.1.16.4" ;
    era:scope "local" ;
    rdfs:comment "Only applicable when selected value for 1.1.1.3.2.1 (ETCS present). "@en ;
    sh:message "vNvsupovtrp (1.1.1.3.2.16.4, 1.2.1.1.1.16.4):The track or subset with common characteristics {$this} ({?label}), has an  'ETCS Level Type' defined which makes the vNvsupovtrp parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:etcs ?etcs.
				 ?etcs era:etcsLevelType ?etcsType.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:vNvsupovtrp ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:VerificationCCS a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:verificationCCS ;
    era:rinfIndex "1.1.1.3.1.1" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EC declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents'."@en ;
    sh:datatype xsd:string ;
    sh:message "verificationCCS (1.1.1.3.1.1): The track or subset with common characteristics defines the unique number for EC declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents; the value must be a string that follows the pattern [CC/RRRRRRRRRRRRRR/YYYY/NNNNNN] where the YYYY characters must be a number between 1900 and 2100, and the NNNNNN characters must be digits. This error is due to having a value that does not follow the pattern."@en ;
    sh:path era:verificationCCS ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:VerificationENE a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:verificationENE ;
    era:rinfIndex "1.1.1.2.1.1" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EC declarations following format requirements specified in the 'Document about practical arrangents for transmitting interoperability documents' ."@en ;
    sh:datatype xsd:string ;
    sh:message "verificationENE (1.1.1.2.1.1): The track or subset with common characteristics has a number for EC declarations that must follow format CC/XXXXXXXXXXXXXX/YYYY/NNNNNN where CC is country code, XXXXX... is a number, YYYY is a year between 1900 and 2100, NNNNNN is the number for the EC declaration. This error may be due to the track having a value that does not follow the pattern."@en ;
    sh:path era:verificationENE ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:VerificationINF a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:verificationINF ;
    era:rinfIndex "1.1.1.1.1.1 ",
        "1.2.1.0.1.1" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EC declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents'. "@en ;
    sh:datatype xsd:string ;
    sh:message "verificationINF (1.1.1.1.1.1, 1.2.1.0.1.1): The verificationINF must be a string following the format 'XX/XXXXXXXXXXXXXX/YYYY/DDDDDD' where XX is the country code, XXXXXXXXXXXXXX is the unique number for EC declarations, YYYY is the year of the declaration (1900-2100) and DDDDDD is the sequential number of the declaration. This error is due to the value not following the pattern."@en ;
    sh:path era:verificationINF ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:VerificationINFS a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:verificationINF ;
    era:rinfIndex "1.2.1.0.1.1",
        "1.2.2.0.1.1" ;
    era:scope "local" ;
    rdfs:comment "Indication of the verification of the infrastructure manager "@en ;
    sh:datatype xsd:string ;
    sh:message "verificationINF (1.2.2.0.1.1, 1.2.1.0.1.1, 1.2.2.0.1.1): Each Siding or subset with common characteristics may have one or more verificationINF. This error is due to the value not being a string or the value not following this pattern: country code/national registration number/year between 1900 and 2100/progressive counter."@en ;
    sh:path era:verificationINF ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:VerificationSRT a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:verificationSRT ;
    era:rinfIndex "1.1.1.1.8.5",
        "1.2.1.0.5.3",
        "1.2.2.0.5.3" ;
    era:scope "local" ;
    rdfs:comment "Unique number for EC declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents'"@en ;
    sh:datatype xsd:string ;
    sh:message "verificationSRT (1.1.1.1.8.5, 1.2.1.0.5.3, 1.2.2.0.5.3): Each Tunnel may have one or more verificationSRT following this pattern country code/national registration number/year between 1900 and 2100/progressive counter. This error may be due to having a value that does not follow the pattern or that is not a character string."@en ;
    sh:path era:verificationSRT ;
    sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$" ;
    sh:severity sh:Violation .

era-sh:VoiceRadioCompatible a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:voiceRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.9",
        "1.2.1.1.2.9" ;
    era:scope "local" ;
    rdfs:comment "Radio requirements used for demonstrating technical compatibility voice. "@en ;
    sh:message "voiceRadioCompatible (1.1.1.3.3.9, 1.2.1.1.2.9): The track or subset with common characteristics may have a radio system compatibility voice value that is an IRI. This error is due to having a  value that is not an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:voiceRadioCompatible ;
    sh:severity sh:Violation .

era-sh:VoiceRadioCompatibleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:voiceRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.9",
        "1.2.1.1.2.9" ;
    era:scope "local" ;
    rdfs:comment "GSM-R (parameter 1.1.1.3.3.1) must be installed for this parameter to be applicable. "@en ;
    sh:message "voiceRadioCompatible (1.1.1.3.3.9, 1.2.1.1.2.9):The track or subset with common characteristics {$this} ({?label}), has a 'GSM-R version' defined which makes the voiceRadioCompatible parameter applicable. This error is due to {$this} not having a value for such a parameter."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label
			WHERE {
                 $this era:gsmRVersion ?gsmRVersion.
				OPTIONAL{$this rdfs:label ?label} .
                FILTER NOT EXISTS {$this era:voiceRadioCompatible ?value} . 
            }
			""" ;
    sh:severity sh:Violation .

era-sh:VoiceRadioCompatibleSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:voiceRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.9",
        "1.2.1.1.2.9" ;
    era:scope "local" ;
    rdfs:comment "Radio requirements used for demonstrating technical compatibility voice. "@en ;
    sh:message "voiceRadioCompatible (1.1.1.3.3.9, 1.2.1.1.2.9): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/radio-system-compatibilities-voice/RadioSystemCompatibilitiesVoice."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:voiceRadioCompatible ?concept .
        era:voiceRadioCompatible era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

era-sh:WheelSetGauge a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:wheelSetGauge ;
    era:rinfIndex "1.1.1.1.4.1",
        "1.2.1.0.4.1" ;
    era:scope "local" ;
    rdfs:comment "A single value expressed in millimeters that identifies the track gauge. "@en ;
    sh:maxCount 1 ;
    sh:message "wheelSetGauge (1.1.1.1.4.1, 1.2.1.0.4.1): The track or subset with common characteristics must have at most one wheel set gauge value that is an IRI."@en ;
    sh:nodeKind sh:IRI ;
    sh:path era:wheelSetGauge ;
    sh:severity sh:Violation .

era-sh:WheelSetGaugeSKOS a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:wheelSetGauge ;
    era:rinfIndex "1.1.1.1.4.1",
        "1.2.1.0.4.1" ;
    era:scope "local" ;
    rdfs:comment "A single value expressed in millimeters that identifies The track or subset with common characteristics gauge. "@en ;
    sh:message "Nominal track gauge (1.1.1.1.4.1, 1.2.1.0.4.1): The track or subset with common characteristics {$this} (label {?label}) has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/nominal-track-gauges/NominalTrackGauges."@en ;
    sh:prefixes era: ;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept ?label
    WHERE {
        OPTIONAL {$this rdfs:label ?label} .
        $this era:wheelSetGauge ?concept .
        era:wheelSetGauge era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" ;
    sh:severity sh:Violation .

