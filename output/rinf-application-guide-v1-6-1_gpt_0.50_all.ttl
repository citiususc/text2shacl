@prefix era: <http://data.europa.eu/949/> .
@prefix era-sh: <http://data.europa.eu/949/shapes/> .
@prefix geosparql: <http://www.opengis.net/ont/geosparql#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix wgs1: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix org: <http://www.w3.org/ns/org#> .

era:TrackShape a sh:NodeShape ;
               sh:property era-sh:AccelerationLevelCrossing,
               era-sh:ConnectedTo,
               era-sh:HasEtcsNationalPacket44 ;
               sh:targetClass era:Track .

era:CommonCharacteristicsSubsetShape a sh:NodeShape ;
               sh:property era-sh:AdditionalBrakingInformationDocument,
               era-sh:AtoCommunicationSystem,
               era-sh:AtoGradeAutomation,
               era-sh:AtoSystemVersion,
               era-sh:CompatibilityProcedureDocument,
               era-sh:ConditionsSwitchClassBSystems,
               era-sh:ConditionsUseReflectivePlates,
               era-sh:ContactLineSystem,
               era-sh:ContactStripMaterial,
               era-sh:Contains,
               era-sh:DocumentRestrictionPositionContactLineSeparation,
               era-sh:DocumentRestrictionPowerConsumption,
               era-sh:EddyCurrentBraking,
               era-sh:EddyCurrentBrakingConditionsDocument,
               era-sh:ErrorCorrectionsOnboard,
               era-sh:ETCS,
               era-sh:EtcsNationalPacket44Function,
               era-sh:EtcsRestrictionsConditionsDoc,
               era-sh:GaugingProfile,
               era-sh:GaugingTransversalDocument,
               era-sh:GsmRActiveMobiles,
               era-sh:GsmRAdditionalInfo,
               era-sh:GsmROptionalFunctions,
               era-sh:GsmrConstraintsOperateOnlyInCircuitSwitch,
               era-sh:GsmrNetworkCoverage,
               era-sh:InCountry,
               era-sh:InfrastructureManager,
               era-sh:InstructionsSwitchRadioSystems,
               era-sh:LegacyRadioSystem,
               era-sh:LinesideDistanceIndication,
               era-sh:MNvcontact,
               era-sh:MagneticBraking,
               era-sh:MagneticBrakingConditionsDocument,
               era-sh:MinimumVerticalRadius,
               era-sh:OsmClass,
               era-sh:OtherPantographHead,
               era-sh:PlatformHeight,
               era-sh:ProfileNumberSemiTrailers,
               era-sh:ProfileNumberSwapBodies,
               era-sh:ProtectionLegacySystem,
               era-sh:QNvdriverAdhes,
               era-sh:QNvemrrls,
               era-sh:RollingStockFireCategory,
               era-sh:SafeConsistLengthInformationNecessary,
               era-sh:StandardCombinedTransportContainers,
               era-sh:StandardCombinedTransportRollerUnits,
               era-sh:SubsetOf,
               era-sh:TemperatureRange,
               era-sh:TenClassification,
               era-sh:TrackSystemSeparationInfo,
               era-sh:TrainDetectionSystem,
               era-sh:TSIPantographHead,
               era-sh:VehicleTypesCompatibleTrafficLoad,
               era-sh:VehiclesCompatibleTrafficLoad,
               era-sh:WheelSetGauge,
               era-sh:AutomaticDroppingDeviceRequired,
               era-sh:BigMetalMass,
               era-sh:ConditionsSwitchTrainProtectionSystems,
               era-sh:ContactStripMaterialMetallicContent,
               era-sh:dNvovtrp,
               era-sh:dNvpotrp,
               era-sh:dNvroll,
               era-sh:DemonstrationENE,
               era-sh:DemonstrationINF,
               era-sh:DemonstrationSRT,
               era-sh:DieselThermalAllowed,
               era-sh:DistSignToPhaseEnd,
               era-sh:ErrorCorrectionsOnboardExplanation,
               era-sh:EtcsImplementsLevelCrossingProcedure,
               era-sh:EtcsInfillLineAccess,
               era-sh:ExistanceOfIndustrialRisk,
               era-sh:FlangeLubeForbidden,
               era-sh:GaugingCheckLocation,
               era-sh:GPRSForETCS,
               era-sh:GPRSImplementationArea,
               era-sh:Gradient,
               era-sh:GradientProfile,
               era-sh:GsmRNoCoverage,
               era-sh:GsmrForcedDeregistrationFunctionalNumber,
               era-sh:HasAdditionalBrakingInformation,
               era-sh:HasBallast,
               era-sh:HasETCSRestrictionsConditions,
               era-sh:HasElectricShoreSupply,
               era-sh:HasEtcsNationalPacket44,
               era-sh:HasExternalCleaning,
               era-sh:HasHotAxleBoxDetector,
               era-sh:HasLevelCrossings,
               era-sh:HasPhaseSeparation,
               era-sh:HasPlatformCurvature,
               era-sh:HasRefuelling,
               era-sh:HasSandRestocking,
               era-sh:HasSevereWeatherConditions,
               era-sh:HasSystemSeparation,
               era-sh:HasTSITrainDetection,
               era-sh:HasToiletDischarge,
               era-sh:HasWaterRestocking,
               era-sh:HighSpeedLoadModelCompliance,
               era-sh:IsQuietRoute,
               era-sh:LocalRulesOrRestrictions,
               era-sh:MNvderun,
               era-sh:MaximumAltitude,
               era-sh:NationalLoadCapability,
               era-sh:NationalValuesBrakeModel,
               era-sh:PermitUseReflectivePlates,
               era-sh:PermittedContactForce,
               era-sh:QNvsbtsmperm,
               era-sh:RadioNetworkId,
               era-sh:RailSystemType,
               era-sh:RedLightsRequired,
               era-sh:SpecificInformation,
               era-sh:StructureCheckLocation,
               era-sh:SubsetName,
               era-sh:SwitchProtectControlWarning,
               era-sh:SwitchRadioSystem,
               era-sh:TrainIntegrityOnBoardRequired,
               era-sh:TSIMagneticFields,
               era-sh:TSISwitchCrossing,
               era-sh:TSITractionHarmonics,
               era-sh:UsesGroup555,
               era-sh:VNallowovtrp,
               era-sh:VNvsupovtrp,
               era-sh:VerificationCCS,
               era-sh:VerificationENE,
               era-sh:VerificationINF ;
               sh:targetClass era:CommonCharacteristicsSubset .

era:NonLinearElementShape a sh:NodeShape ;
               sh:property era-sh:Aggregates ;
               sh:targetClass era:NonLinearElement .

era:SubsidiaryLocationShape a sh:NodeShape ;
               sh:property era-sh:AllocationCompany,
               era-sh:LinkedToPrimaryLocation,
               era-sh:SubsidiaryLocationType,
               era-sh:SubsidiaryLocationCode,
               era-sh:SubsidiaryLocationName ;
               sh:targetClass era:SubsidiaryLocation .

era:NetPointReferenceShape a sh:NodeShape ;
               sh:property era-sh:AppliesToDirection,
               era-sh:HasLrsCoordinate,
               era-sh:HasTopoCoordinate ;
               sh:targetClass era:NetPointReference .

era:VehicleTypeShape a sh:NodeShape ;
               sh:property era-sh:AuthorizedCountry,
               era-sh:AxleBearingConditionMonitoring,
               era-sh:Category,
               era-sh:Certificate,
               era-sh:DataGSMRNetwork,
               era-sh:DataRadioCompatible,
               era-sh:EndCouplingType,
               era-sh:ETCSEquipmentOnBoardLevel,
               era-sh:EtcsInfill,
               era-sh:EtcsSystemCompatibility,
               era-sh:FireSafetyCategory,
               era-sh:GsmRRadioDataCommunication,
               era-sh:GsmRVersion,
               era-sh:Manufacturer,
               era-sh:ParkingBrakeType,
               era-sh:PreviousVehicleType,
               era-sh:SnowIceHailConditions,
               era-sh:SubCategory,
               era-sh:SupportedPlatformHeight,
               era-sh:ThermalCapacityTSIReference,
               era-sh:TypeVersionId,
               era-sh:VehicleCategory,
               era-sh:VehicleSubCategory,
               era-sh:VehicleTypeMaximumSpeedAndCantDeficiency,
               era-sh:VoiceGSMRNetwork,
               era-sh:VoiceRadioCompatible,
               era-sh:WheelSetGaugeChangeoverFacility,
               era-sh:AlternativeName,
               era-sh:AltitudeRange,
               era-sh:AltitudeRangeDetail,
               era-sh:AxleSpacing,
               era-sh:BoardingAids,
               era-sh:BrakeWeightPercentage,
               era-sh:CantDeficiency,
               era-sh:CatenaryMaxRatedCurrent,
               era-sh:ConditionsTrainFormation,
               era-sh:DangerousGoodsTankCode,
               era-sh:DesignMassExceptionalPayload,
               era-sh:DesignMassNormalPayload,
               era-sh:DesignMassWorkingOrder,
               era-sh:DrivingCabs,
               era-sh:EddyCurrentBrakePrevention,
               era-sh:EddyCurrentBrakingFitted,
               era-sh:EmergencyBrake,
               era-sh:EnergyMeterInstalled,
               era-sh:EnergySupplyMaxPower,
               era-sh:ETCSDataCommApp,
               era-sh:ETCSNationalApplications,
               era-sh:ETCSOnBoardImplementation,
               era-sh:FerromagneticWheelMaterial,
               era-sh:FixedSeats,
               era-sh:FlangeLubricationFitted,
               era-sh:GsmRSetsInDrivingCab,
               era-sh:HasAutomaticDroppingDevice,
               era-sh:HasCantDefficiencyCompensation,
               era-sh:HasCurrentLimitation,
               era-sh:HasLubricationDevicePrevention,
               era-sh:HasParkingBrake,
               era-sh:HasRegenerativeBrake,
               era-sh:HasSandingPrevention,
               era-sh:HasShuntingRestrictions,
               era-sh:HasTrainIntegrityConfirmation,
               era-sh:HasWheelSlideProtectionSystem,
               era-sh:LetterMarking,
               era-sh:LoadingPlatformHeight,
               era-sh:MagneticBrakePrevention,
               era-sh:MagneticBrakingFitted,
               era-sh:MassPerWheel,
               era-sh:MaxDistConsecutiveAxles,
               era-sh:MaxFlangeHeight,
               era-sh:MaxImpedanceWheelset,
               era-sh:MaxLengthVehicleNose,
               era-sh:MaximumAverageDeceleration,
               era-sh:MaximumBrakeThermalEnergyCapacity,
               era-sh:MaximumDesignSpeed,
               era-sh:MaximumLocomotivesCoupled,
               era-sh:MaximumServiceBrake,
               era-sh:MaximumSpeedAndCantDeficiency,
               era-sh:MaximumSpeedEmpty,
               era-sh:MeetsRequirementVehicleAuthorisation,
               era-sh:MinAxleLoad,
               era-sh:MinDistConsecutiveAxles,
               era-sh:MinDistFirstLastAxle,
               era-sh:MinFlangeHeight,
               era-sh:MinFlangeThickness,
               era-sh:MinRimWidth,
               era-sh:MinWheelDiameter,
               era-sh:MinimumConcaveVerticalRadius,
               era-sh:MinimumConvexVerticalRadius,
               era-sh:MinimumWheelDiameter,
               era-sh:NonCodedRestrictions,
               era-sh:NumberElementsRakeFreightWagons,
               era-sh:NumberOfPantographsInContactWithOCL,
               era-sh:NumberOfToilets,
               era-sh:OclType,
               era-sh:ParkingBrake,
               era-sh:ParkingBrakeMandatory,
               era-sh:ParkingBrakeMaximumGradient,
               era-sh:PassByNoiseLevel,
               era-sh:PermissiblePayload,
               era-sh:PortableBoardingAids,
               era-sh:PreventRegenerativeBrakeUse,
               era-sh:PrioritySeats,
               era-sh:PrmAccessibleToilets,
               era-sh:QuasiStaticGuidingForce,
               era-sh:RadioSwitchOverSpecialConditions,
               era-sh:ReferencePassByNoiseLevel,
               era-sh:ShortestDistanceBetweenPantographsInContactWithOCL,
               era-sh:SleepingPlaces,
               era-sh:StartingNoiseLevel,
               era-sh:StaticAxleLoadExceptionalPayload,
               era-sh:StaticAxleLoadNormalPayload,
               era-sh:StaticAxleLoadWorkingOrder,
               era-sh:StationaryNoiseLevel,
               era-sh:StructuralCategory,
               era-sh:ThermalCapacityDistance,
               era-sh:ThermalCapacityGradient,
               era-sh:ThermalCapacitySpeed,
               era-sh:ThermalCapacityTime,
               era-sh:TotalVehicleMass,
               era-sh:TrainControlSwitchOverSpecialConditions,
               era-sh:TransportableOnFerry,
               era-sh:TypeVersionNumber,
               era-sh:VehicleContactForce,
               era-sh:VehicleKinematicGaugeOther,
               era-sh:VehicleMaxSandingOutput,
               era-sh:VehiclePantographHead,
               era-sh:VehiclesComposingFixedFormation,
               era-sh:VoiceOperationalCommImpl,
               era-sh:WheelSetGaugeTransformationMethod,
               era-sh:WheelchairSleepingPlaces,
               era-sh:WheelchairSpaces ;
               sh:targetClass era:VehicleType .

era:InfrastructureElementShape a sh:NodeShape ;
               sh:property era-sh:BelongsTo,
               era-sh:HasAbstraction,
               era-sh:HasPart,
               era-sh:InfrastructureMgr,
               era-sh:IsPartOf,
               era-sh:LineReference,
               era-sh:LocalRulesOrRestrictionsDoc,
               era-sh:NetReference,
               era-sh:NotApplicable,
               era-sh:NotYetAvailable,
               era-sh:OperatingLanguage,
               era-sh:ParameterApplicability,
               era-sh:PrimaryLocation,
               era-sh:ValidityEndDate,
               era-sh:ValidityStartDate ;
               sh:targetClass era:InfrastructureElement .

era:OperationalPointShape a sh:NodeShape ;
               sh:property era-sh:BorderPointOf,
               era-sh:DigitalSchematicOverview,
               era-sh:HasSchematicOverviewOPDigitalForm,
               era-sh:OpInfoPerCountry,
               era-sh:OpName,
               era-sh:OpType,
               era-sh:OpTypeGaugeChangeover,
               era-sh:ReferenceBorderPoint,
               era-sh:SchematicOverviewOP,
               era-sh:Siding,
               era-sh:Track,
               era-sh:Uopid,
               era-sh:TAFTAPCode ;
               sh:targetClass era:OperationalPoint .

era:RunningTrackShape a sh:NodeShape ;
               sh:property era-sh:CantDeficiencyBasicSSP,
               era-sh:EtcsDegradedSituation,
               era-sh:FreightCorridor,
               era-sh:LineCategory,
               era-sh:OtherCantDeficiencyBasicSSP,
               era-sh:OtherTrainProtection,
               era-sh:PassesThroughTunnel,
               era-sh:PlatformEdge,
               era-sh:RailInclination,
               era-sh:TrackDirection,
               era-sh:TrackLoadCapability,
               era-sh:TrackPhaseInfo,
               era-sh:TrackRaisedPantographsDistanceAndSpeed,
               era-sh:TracksideHABD,
               era-sh:dNvovtrp,
               era-sh:dNvpotrp,
               era-sh:dNvroll,
               era-sh:DemonstrationENE,
               era-sh:DemonstrationINF,
               era-sh:DistSignToPhaseEnd,
               era-sh:ErrorCorrectionsOnboardExplanation,
               era-sh:EtcsImplementsLevelCrossingProcedure,
               era-sh:EtcsInfillLineAccess,
               era-sh:FlangeLubeForbidden,
               era-sh:GaugingCheckLocation,
               era-sh:GPRSForETCS,
               era-sh:GPRSImplementationArea,
               era-sh:GradientProfile,
               era-sh:GsmRNoCoverage,
               era-sh:GsmrForcedDeregistrationFunctionalNumber,
               era-sh:HasAdditionalBrakingInformation,
               era-sh:HasBallast,
               era-sh:HasBridge,
               era-sh:HasETCSRestrictionsConditions,
               era-sh:HasHotAxleBoxDetector,
               era-sh:HasLevelCrossings,
               era-sh:HasPhaseSeparation,
               era-sh:HasSevereWeatherConditions,
               era-sh:HasSystemSeparation,
               era-sh:HasTSITrainDetection,
               era-sh:HighSpeedLoadModelCompliance,
               era-sh:IsQuietRoute,
               era-sh:MaximumBrakingDistance,
               era-sh:MaximumPermittedSpeed,
               era-sh:MaximumTrainDeceleration,
               era-sh:MinimumHorizontalRadius,
               era-sh:PublicNetworkRoaming,
               era-sh:PublicNetworkRoamingDetails,
               era-sh:TENGISId,
               era-sh:TrackId ;
               sh:targetClass era:RunningTrack .

era:OrientationShape a sh:NodeShape ;
               sh:property era-sh:CarrierLinearElement,
               era-sh:Direction,
               era-sh:Orientation,
               era-sh:Side ;
               sh:targetClass era:Orientation .

era:ContactLineSystemShape a sh:NodeShape ;
               sh:property era-sh:ConditionalRegenerativeBrake,
               era-sh:ConditionsAppliedRegenerativeBraking,
               era-sh:ContactLineSystemType,
               era-sh:EnergySupplySystem,
               era-sh:ConditionsChargingElectricEnergyStorage,
               era-sh:CurrentLimitationRequired,
               era-sh:EnergySupplySystemTSICompliant,
               era-sh:MaxCurrentStandstillPantograph,
               era-sh:MaxTrainCurrent,
               era-sh:MaximumContactWireHeight,
               era-sh:MinimumContactWireHeight,
               era-sh:PermissionChargingElectricEnergyTractionStandstill,
               era-sh:Umax2 ;
               sh:targetClass era:ContactLineSystem .

era:InfrastructureManagerShape a sh:NodeShape ;
               sh:property era-sh:DefinesSubset ;
               sh:targetClass era:InfrastructureManager .

era:NetRelationShape a sh:NodeShape ;
               sh:property era-sh:ElementA,
               era-sh:ElementB,
               era-sh:Navigability,
               era-sh:IsOnOriginOfElementA,
               era-sh:IsOnOriginOfElementB ;
               sh:targetClass era:NetRelation .

era:TunnelShape a sh:NodeShape ;
               sh:property era-sh:EndLocation,
               era-sh:LineReferenceTunnelEnd,
               era-sh:LineReferenceTunnelStart,
               era-sh:SpecialTunnelArea,
               era-sh:StartLocation,
               era-sh:TunnelDocRef,
               era-sh:ComplianceInfTsi,
               era-sh:CrossSectionArea,
               era-sh:DemonstrationSRT,
               era-sh:DieselThermalAllowed,
               era-sh:HasEmergencyPlan,
               era-sh:HasEvacuationAndRescuePoints,
               era-sh:HasWalkway,
               era-sh:LengthOfTunnel,
               era-sh:NationalRollingStockFireCategory,
               era-sh:TunnelIdentification,
               era-sh:VerificationSRT ;
               sh:targetClass era:Tunnel .

era:NetLinearReferenceShape a sh:NodeShape ;
               sh:property era-sh:EndsAt,
               era-sh:HasSequence,
               era-sh:StartsAt ;
               sh:targetClass era:NetLinearReference .

era:ETCSShape a sh:NodeShape ;
               sh:property era-sh:EtcsBaseline,
               era-sh:EtcsLevelType,
               era-sh:EtcsMVersion,
               era-sh:EtcsTransmittedTrackConditions,
               era-sh:EtcsTransmitsTrackConditions ;
               sh:targetClass era:ETCS .

era:TrainDetectionSystemShape a sh:NodeShape ;
               sh:property era-sh:FrenchTrainDetectionSystemLimitation,
               era-sh:FrequencyBandsForDetection,
               era-sh:MaxSandingOutput,
               era-sh:MinVehicleImpedance,
               era-sh:TdsFrenchTrainDetectionSystemLimitation,
               era-sh:TdsMaximumMagneticField,
               era-sh:TdsMinAxleLoadVehicleCategory,
               era-sh:TrainDetectionSystemSpecificCheck,
               era-sh:TrainDetectionSystemSpecificCheckDocument,
               era-sh:TrainDetectionSystemType,
               era-sh:TSICompliantCompositeBrakeBlocks,
               era-sh:TSICompliantFerromagneticWheel,
               era-sh:TSICompliantMaxDistConsecutiveAxles,
               era-sh:TSICompliantMaxImpedanceWheelset,
               era-sh:TSICompliantMetalConstruction,
               era-sh:TSICompliantMetalFreeSpace,
               era-sh:TSICompliantRSTShuntImpedance,
               era-sh:TSICompliantSandCharacteristics,
               era-sh:TSICompliantSanding,
               era-sh:TSICompliantShuntDevices,
               era-sh:FlangeLubeRules,
               era-sh:MaxDistEndTrainFirstAxle,
               era-sh:MaximumInterferenceCurrent,
               era-sh:MaximumInterferenceCurrentEvaluation,
               era-sh:RequiredSandingOverride ;
               sh:targetClass era:TrainDetectionSystem .

era:FrenchTrainDetectionSystemLimitationShape a sh:NodeShape ;
               sh:property era-sh:FrenchTrainDetectionSystemLimitationNumber,
               era-sh:FrenchTrainDetectionSystemLimitationApplicable ;
               sh:targetClass era:FrenchTrainDetectionSystemLimitation .

era:KilometricPostShape a sh:NodeShape ;
               sh:property era-sh:HasLRS,
               era-sh:Kilometer,
               era-sh:KmPostName,
               era-sh:MeasuredDistance ;
               sh:targetClass era:KilometricPost .

era:OrganisationRoleShape a sh:NodeShape ;
               sh:property era-sh:HasOrganisationRole,
               era-sh:RoleOf,
               era-sh:IMCode,
               era-sh:OrganisationCode ;
               sh:targetClass era:OrganisationRole .

era:SignalShape a sh:NodeShape ;
               sh:property era-sh:HasOrientation,
               era-sh:SignalOrientation,
               era-sh:SignalType,
               era-sh:RelativeDistanceDangerPoint,
               era-sh:SignalId ;
               sh:targetClass era:Signal .

era:HABDShape a sh:NodeShape ;
               sh:property era-sh:HotAxleBoxDetectorDirection,
               era-sh:HotAxleBoxDetectorGeneration,
               era-sh:HotAxleBoxDetectorIdentification,
               era-sh:HotAxleBoxDetectorLocation,
               era-sh:HotAxleBoxDetectorTSICompliant ;
               sh:targetClass era:HABD .

era:NetAreaReferenceShape a sh:NodeShape ;
               sh:property era-sh:Includes ;
               sh:targetClass era:NetAreaReference .

era:LinearPositioningSystemCoordinateShape a sh:NodeShape ;
               sh:property era-sh:KmPost,
               era-sh:OffsetFromKilometricPost ;
               sh:targetClass era:LinearPositioningSystemCoordinate .

era:LineReferenceShape a sh:NodeShape ;
               sh:property era-sh:LineNationalId ;
               sh:targetClass era:LineReference .

era:LinesideDistanceIndicationShape a sh:NodeShape ;
               sh:property era-sh:LinesideDistanceIndicationAppearance,
               era-sh:LinesideDistanceIndicationPositioning,
               era-sh:LinesideDistanceIndicationFrequency ;
               sh:targetClass era:LinesideDistanceIndication .

era:LoadCapabilityShape a sh:NodeShape ;
               sh:property era-sh:LoadCapabilityLineCategory,
               era-sh:LoadCapabilitySpeed ;
               sh:targetClass era:LoadCapability .

era:LinearPositioningSystemShape a sh:NodeShape ;
               sh:property era-sh:LrsMethod,
               era-sh:LineId ;
               sh:targetClass era:LinearPositioningSystem .

era:VehicleShape a sh:NodeShape ;
               sh:property era-sh:ManufacturingCountry,
               era-sh:OperationalRestriction,
               era-sh:QuieterRoutesExemptedCountry,
               era-sh:VehicleKeeper,
               era-sh:VehicleType,
               era-sh:CompositeBrakeBlockRetrofitted,
               era-sh:LengthOfVehicle,
               era-sh:VehicleNumber,
               era-sh:VehicleSeries ;
               sh:targetClass era:Vehicle .

era:MinAxleLoadVehicleCategoryShape a sh:NodeShape ;
               sh:property era-sh:MinAxleLoadVehicleCategory ;
               sh:targetClass era:MinAxleLoadVehicleCategory .

era:MinVehicleImpedanceShape a sh:NodeShape ;
               sh:property era-sh:MinVehicleImpedanceVoltages,
               era-sh:MinVehicleInputCapacitance,
               era-sh:MinVehicleInputImpedance ;
               sh:targetClass era:MinVehicleImpedance .

era:SectionOfLineShape a sh:NodeShape ;
               sh:property era-sh:NationalLine,
               era-sh:OpEnd,
               era-sh:OpStart,
               era-sh:OperationalRegimeType,
               era-sh:SolNature,
               era-sh:ExistanceOfIndustrialRisk,
               era-sh:LengthOfSectionOfLine ;
               sh:targetClass era:SectionOfLine .

era:ParameterApplicabilityShape a sh:NodeShape ;
               sh:property era-sh:OfParameter,
               era-sh:ParameterValueType,
               era-sh:ParameterValue ;
               sh:targetClass era:ParameterApplicability .

era:LinearElementSectionShape a sh:NodeShape ;
               sh:property era-sh:OnElement,
               era-sh:AppliesInBothDirections,
               era-sh:EndOffsetFromOrigin,
               era-sh:StartOffsetFromOrigin ;
               sh:targetClass era:LinearElementSection .

era:TopologicalCoordinateShape a sh:NodeShape ;
               sh:property era-sh:OnLinearElement,
               era-sh:OffsetFromOrigin ;
               sh:targetClass era:TopologicalCoordinate .

era:RadioBlockCenterShape a sh:NodeShape ;
               sh:property era-sh:ReasonsEtcsRadioBlockCenterReject,
               era-sh:RbcID,
               era-sh:RbcPhone ;
               sh:targetClass era:RadioBlockCenter .

era:BodyShape a sh:NodeShape ;
               sh:property era-sh:Role ;
               sh:targetClass era:Body .

era:SpecialAreaShape a sh:NodeShape ;
               sh:property era-sh:SpecialAreaType ;
               sh:targetClass era:SpecialArea .

era:CertificateShape a sh:NodeShape ;
               sh:property era-sh:State ;
               sh:targetClass era:Certificate .

era:FeatureShape a sh:NodeShape ;
               sh:property era-sh:Validity,
               era-sh:CurrentlyValid ;
               sh:targetClass era:Feature .

era:PlatformEdgeShape a sh:NodeShape ;
               sh:property era-sh:AreaBoardingAid,
               era-sh:AssistanceStartingTrain,
               era-sh:HasPlatformCurvature,
               era-sh:LengthOfPlatform,
               era-sh:PlatformId ;
               sh:targetClass era:PlatformEdge .

era:ReferenceBorderPointShape a sh:NodeShape ;
               sh:property era-sh:BorderPointId ;
               sh:targetClass era:ReferenceBorderPoint .

era:PrimaryLocationShape a sh:NodeShape ;
               sh:property era-sh:ContainerHandlingFlag,
               era-sh:FreightFlag,
               era-sh:HandoverPointFlag,
               era-sh:PrimaryLocationCode,
               era-sh:PrimaryLocationName ;
               sh:targetClass era:PrimaryLocation .

era:DocumentShape a sh:NodeShape ;
               sh:property era-sh:DocumentUrl ;
               sh:targetClass era:Document .

era:SidingShape a sh:NodeShape ;
               sh:property era-sh:Gradient,
               era-sh:HasElectricShoreSupply,
               era-sh:HasExternalCleaning,
               era-sh:HasRefuelling,
               era-sh:HasSandRestocking,
               era-sh:HasToiletDischarge,
               era-sh:HasWaterRestocking,
               era-sh:LengthOfSiding,
               era-sh:SidingId ;
               sh:targetClass era:Siding .

era:LinearElementShape a sh:NodeShape ;
               sh:property era-sh:LengthOfNetLinearElement ;
               sh:targetClass era:LinearElement .

era:MaximumMagneticFieldShape a sh:NodeShape ;
               sh:property era-sh:MaximumMagneticFieldDirectionX,
               era-sh:MaximumMagneticFieldDirectionY,
               era-sh:MaximumMagneticFieldDirectionZ ;
               sh:targetClass era:MaximumMagneticField .

era:MinimumVerticalRadiusShape a sh:NodeShape ;
               sh:property era-sh:MinimumVerticalRadiusCrest,
               era-sh:MinimumVerticalRadiusHollow ;
               sh:targetClass era:MinimumVerticalRadius .

era:PhaseInfoShape a sh:NodeShape ;
               sh:property era-sh:PhaseInfoChangeSupplySystem,
               era-sh:PhaseInfoDistanceType,
               era-sh:PhaseInfoKm,
               era-sh:PhaseInfoLength,
               era-sh:PhaseInfoPantographLowered,
               era-sh:PhaseInfoSwitchOffBreaker ;
               sh:targetClass era:PhaseInfo .

era:RaisedPantographsDistanceAndSpeedShape a sh:NodeShape ;
               sh:property era-sh:RaisedPantographsDistance,
               era-sh:RaisedPantographsNumber,
               era-sh:RaisedPantographsSpeed ;
               sh:targetClass era:RaisedPantographsDistanceAndSpeed .

era:SystemSeparationInfoShape a sh:NodeShape ;
               sh:property era-sh:SystemSeparationInfoChangeSupplySystem,
               era-sh:SystemSeparationInfoKm,
               era-sh:SystemSeparationInfoLength,
               era-sh:SystemSeparationInfoPantographLowered,
               era-sh:SystemSeparationInfoSwitchOffBreaker ;
               sh:targetClass era:SystemSeparationInfo .

era:MaximumSpeedAndCantDeficiencyShape a sh:NodeShape ;
               sh:property era-sh:TNvcontact,
               era-sh:TNvovtrp,
               era-sh:VehicleTypeMaximumCantDeficiency,
               era-sh:VehicleTypeMaximumSpeed ;
               sh:targetClass era:MaximumSpeedAndCantDeficiency .













era-sh:AccelerationLevelCrossing a sh:PropertyShape ;
    era:affectedClass era:Track ;
    era:affectedProperty era:accelerationLevelCrossing ;
    era:rinfIndex "1.1.1.1.7.3" ;
    era:scope "local" ;
    rdfs:comment "Existence of limit for acceleration of train if stopping or recovering speed close to a level crossing expressed in a specific reference acceleration curve."@en ;
    # Source: ontology comment for accelerationLevelCrossing

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty indicating that only one value is allowed

    sh:message "accelerationLevelCrossing (1.1.1.1.7.3): The track or subset must have at most one acceleration level crossing value that is a Document."@en ;
    # Source: RAG indicates the document reference must be unique

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a document (as an IRI)

    sh:path era:accelerationLevelCrossing ;

    sh:severity sh:Violation .

era-sh:AccelerationLevelCrossingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Track ;
    era:affectedProperty era:accelerationLevelCrossing ;
    era:rinfIndex "1.1.1.1.7.3" ;
    era:scope "local" ;
    rdfs:comment "Applicable only when selected value of parameter 1.1.1.1.7.2 is ‘Y’."@en ;
    # Source: RAG applicability note

    sh:message "accelerationLevelCrossing (1.1.1.1.7.3): This error is due to the track or subset with common characteristics violating the rule: Applicable only if the level crossing exists."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:accelerationLevelCrossing ?value } .
        FILTER EXISTS { $this era:hasLevelCrossings ?levelCrossingValue . FILTER (levelCrossingValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AdditionalBrakingInformationDocument a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:additionalBrakingInformationDocument ; 
    era:rinfIndex "1.1.1.3.11.3" ; 
    era:scope "local" ; 

    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency providing additional information as defined in point (2) of point 4.2.2.6.2 of TSI OPE."@en ; 
    # Source: ontology comment for additionalBrakingInformationDocument

    sh:class era:Document ; 
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty indicating that only one value is allowed

    sh:message "additionalBrakingInformationDocument (1.1.1.3.11.3): The CommonCharacteristicsSubset must have at most one additional braking information document that is a Document."@en ; 
    # Source: RAG indicates the document reference must be unique

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a document (as an IRI)

    sh:path era:additionalBrakingInformationDocument ; 

    sh:severity sh:Violation .

era-sh:AdditionalBrakingInformationDocumentApplicability a sh:SPARQLConstraint ; 
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:additionalBrakingInformationDocument ; 
    era:rinfIndex "1.1.1.3.11.3" ; 
    era:scope "local" ; 

    rdfs:comment "Applicable only when for parameter 1.1.1.3.11.2 True is selected."@en ; 
    # Source: dependency note in ontology

    sh:message "additionalBrakingInformationDocument (1.1.1.3.11.3): This error is due to the CommonCharacteristicsSubset violating the rule: Applicable only when the corresponding parameter for braking performance is True."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:additionalBrakingInformationDocument ?docValue } .
        FILTER EXISTS { $this era:brakingPerformance ?performanceValue . FILTER (performanceValue = "True") } .
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:Aggregates a sh:PropertyShape ;
    era:affectedClass era:NonLinearElement ;
    era:affectedProperty era:aggregates ;
    era:scope "local" ;

    rdfs:comment "Specifies the linear elements aggregated by a non-linear element."@en ;
    # Source: ontology comment for aggregates

    sh:class era:LinearElement ;
    # Source: ontology range is http://data.europa.eu/949/LinearElement

    sh:maxCount 1 ;
    # Inferred: expected at least one linear element to be aggregated by the non-linear element, based on the nature of aggregation

    sh:message "aggregates: The NonLinearElement must have at least one aggregated element that is a LinearElement."@en ;
    # Source: RAG indicates the nature of aggregation requires at least one linear element

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a linear element (as an IRI)

    sh:path era:aggregates ;

    sh:severity sh:Violation . 

era-sh:AggregatesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NonLinearElement ;
    era:affectedProperty era:aggregates ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NonLinearElement is defined to aggregate linear elements."@en ;
    # Source: inferred from the nature of NonLinearElement and its purpose

    sh:message "aggregates: This error is due to the NonLinearElement violating the rule: must have defined aggregates."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:aggregates ?linearElement } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AllocationCompany a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:allocationCompany ;
    era:scope "local" ;

    rdfs:comment "The organisation in charge to allocate the code for the subsidiary location."@en ;
    # Source: ontology comment for allocationCompany

    sh:class era:OrganisationRole ;
    # Source: ontology range is http://data.europa.eu/949/OrganisationRole

    sh:maxCount 1 ;
    # Source: inferred from the nature of allocationCompany as it should uniquely identify the organisation for allocation

    sh:message "allocationCompany: The SubsidiaryLocation must have at most one allocation company that is an OrganisationRole."@en ;
    # Source: inferred from the requirement of unique allocation management

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an organisation role (as an IRI)

    sh:path era:allocationCompany ;

    sh:severity sh:Violation .

era-sh:AllocationCompanyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:allocationCompany ;
    era:scope "local" ;

    rdfs:comment "Applicable when the subsidiary location is defined and requires an allocation company."@en ;
    # Source: inferred from the nature of SubsidiaryLocation needing an organisation for allocation

    sh:message "allocationCompany: This error is due to the SubsidiaryLocation violating the rule: must have defined allocation company when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:allocationCompany ?orgValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AppliesToDirection a sh:PropertyShape ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:appliesToDirection ;
    era:scope "local" ;

    rdfs:comment "The direction relative to the origin of the linear element towards the point reference applies."@en ;
    # Source: ontology comment for appliesToDirection

    sh:class geosparql:Concept ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Source: inferred from the nature of appliesToDirection, which should only reference one direction concept

    sh:message "appliesToDirection: The NetPointReference must have at most one appliesToDirection value that is a Concept."@en ;
    # Source: inferred from the nature of direction applicability

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:appliesToDirection ;

    sh:severity sh:Violation .

era-sh:AppliesToDirectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:appliesToDirection ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetPointReference is defined in relation to orientation directions."@en ;
    # Source: inferred from the nature of NetPointReference and its applicability to direction concepts

    sh:message "appliesToDirection: This error is due to the NetPointReference violating the rule: must have defined appliesToDirection when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?pointLabel WHERE {
        $this rdfs:label ?pointLabel .
        FILTER NOT EXISTS { $this era:appliesToDirection ?directionValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AtoCommunicationSystem a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:atoCommunicationSystem ; 
    era:rinfIndex "1.1.1.3.13.3" ; 
    era:scope "local" ; 

    rdfs:comment "Supported ATO communication systems from trackside."@en ; 
    # Source: ontology comment for atoCommunicationSystem

    sh:class geosparql:Concept ; 
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one ATO communication system to be defined as part of the characteristics subset

    sh:message "atoCommunicationSystem: The CommonCharacteristicsSubset must have at most one ATO communication system that is a Concept."@en ; 
    # Source: inferred from the nature of the property and its unique identification in the context

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:atoCommunicationSystem ; 

    sh:severity sh:Violation .

era-sh:AtoCommunicationSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:atoCommunicationSystem ; 
    era:rinfIndex "1.1.1.3.13.3" ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when 'ATO Grade of Automation' is applicable."@en ; 
    # Source: dependency note in ontology

    sh:message "atoCommunicationSystem: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined ATO communication system when ATO Grade of Automation is applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:atoCommunicationSystem ?value } .
        FILTER EXISTS { $this era:atoGradeAutomation ?gradeValue . FILTER (gradeValue = "Y") } .
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:AtoGradeAutomation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:atoGradeAutomation ;
    era:rinfIndex "1.1.1.3.13.1" ;
    era:scope "local" ;
    
    rdfs:comment "ATO grade of automation installed lineside."@en ;
    # Source: ontology comment for atoGradeAutomation

    sh:class geosparql:Concept ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one ATO grade of automation to be defined as part of the characteristics subset

    sh:message "atoGradeAutomation: The CommonCharacteristicsSubset must have at most one ATO grade of automation that is a Concept."@en ;
    # Source: inferred from the nature of the property and its unique identification in the context

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:atoGradeAutomation ;

    sh:severity sh:Violation .

era-sh:AtoGradeAutomationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:atoGradeAutomation ;
    era:rinfIndex "1.1.1.3.13.1" ;
    era:scope "local" ;

    rdfs:comment "Applicable only when ETCS Baseline > 4 MR1 and ATO is implemented."@en ;
    # Source: dependency note in ontology

    sh:message "atoGradeAutomation: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined ATO grade of automation when ETCS Baseline > 4 MR1 and ATO is implemented."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:atoGradeAutomation ?value } .
        FILTER EXISTS { $this era:etcsBaseline ?baselineValue . FILTER (baselineValue > "4") } .
        FILTER EXISTS { $this era:atoImplementation ?implementationValue . FILTER (implementationValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AtoSystemVersion a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:atoSystemVersion ;
    era:rinfIndex "1.1.1.3.13.2" ;
    era:scope "local" ;

    rdfs:comment "ATO system version according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for atoSystemVersion

    sh:class geosparql:Concept ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Source: inferred from the nature of atoSystemVersion as it should uniquely identify the system version

    sh:message "atoSystemVersion: The CommonCharacteristicsSubset must have at most one ATO system version that is a Concept."@en ;
    # Source: inferred from the requirement of unique identification of the ATO system version

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:atoSystemVersion ;

    sh:severity sh:Violation .

era-sh:AtoSystemVersionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:atoSystemVersion ;
    era:rinfIndex "1.1.1.3.13.2" ;
    era:scope "local" ;

    rdfs:comment "Applicable when 'ATO Grade of Automation' is applicable."@en ;
    # Source: dependency note in ontology

    sh:message "atoSystemVersion: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined ATO system version when ATO Grade of Automation is applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:atoSystemVersion ?value } .
        FILTER EXISTS { $this era:atoGradeAutomation ?gradeValue . FILTER (gradeValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AuthorizedCountry a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:authorizedCountry ;
    era:scope "local" ;

    rdfs:comment "Indicates the country(ies) in where a vehicle type has been authorized to operate."@en ;
    # Source: ontology comment for authorizedCountry

    sh:class geosparql:Concept ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one authorized country for a vehicle type

    sh:message "authorizedCountry: The VehicleType must have at most one authorized country that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:authorizedCountry ;

    sh:severity sh:Violation .

era-sh:AuthorizedCountryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:authorizedCountry ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined and requires an authorized country."@en ;
    # Source: inferred from the nature of VehicleType needing an authorized country

    sh:message "authorizedCountry: This error is due to the VehicleType violating the rule: must have defined authorized country when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:authorizedCountry ?countryValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AxleBearingConditionMonitoring a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:axleBearingConditionMonitoring ;
    era:rinfIndex "4.9.2" ;
    era:scope "local" ;

    rdfs:comment "Axle bearing condition monitoring."@en ;
    # Source: ontology comment for axleBearingConditionMonitoring

    sh:class geosparql:Concept ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one axle bearing condition monitoring value for a VehicleType

    sh:message "axleBearingConditionMonitoring: The VehicleType must have at most one axle bearing condition monitoring value that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:axleBearingConditionMonitoring ;

    sh:severity sh:Violation .

era-sh:AxleBearingConditionMonitoringApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:axleBearingConditionMonitoring ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined and requires axle bearing condition monitoring."@en ;
    # Source: inferred from the nature of VehicleType needing monitoring characteristics

    sh:message "axleBearingConditionMonitoring: This error is due to the VehicleType violating the rule: must have defined axle bearing condition monitoring when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:axleBearingConditionMonitoring ?monitoringValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:BelongsTo a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:belongsTo ;
    era:scope "local" ;

    rdfs:comment "Indicates that an infrastructure element belongs to a certain subset that contains common characteristics."@en ;
    # Source: ontology comment for belongsTo

    sh:class era:CommonCharacteristicsSubset ;
    # Source: ontology range is http://data.europa.eu/949/CommonCharacteristicsSubset

    sh:maxCount 1 ;
    # Source: inferred from the nature of the belongsTo property, indicating that an InfrastructureElement can belong to only one CommonCharacteristicsSubset.

    sh:message "belongsTo: The InfrastructureElement must have at most one belongsTo reference that is a CommonCharacteristicsSubset."@en ;
    # Source: inferred from the definition of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a CommonCharacteristicsSubset (as an IRI)

    sh:path era:belongsTo ;

    sh:severity sh:Violation .

era-sh:BelongsToApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:belongsTo ;
    era:scope "local" ;

    rdfs:comment "Applicable when the InfrastructureElement is defined and requires a classification subset."@en ;
    # Source: inferred from the nature of InfrastructureElement needing classification

    sh:message "belongsTo: This error is due to the InfrastructureElement violating the rule: must have defined belongsTo when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:belongsTo ?subsetValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:BorderPointOf a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:borderPointOf ;
    era:scope "local" ;

    rdfs:comment "Relates the information that each country maintains on a border point, to the operational point that represents the general information on the border point."@en ;
    # Source: ontology comment for borderPointOf

    sh:class era:OperationalPoint ;
    # Source: ontology range is http://data.europa.eu/949/OperationalPoint

    sh:maxCount 1 ;
    # Source: inferred from the nature of borderPointOf, indicating that each operational point should relate to one border point

    sh:message "borderPointOf: The OperationalPoint must have at most one border point that is an OperationalPoint."@en ;
    # Source: inferred from the uniqueness requirement of border points

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference another operational point (as an IRI)

    sh:path era:borderPointOf ;

    sh:severity sh:Violation .

era-sh:BorderPointOfApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:borderPointOf ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint is defined as a border point."@en ;
    # Source: inferred from the nature of OperationalPoint requiring specific attributes for border points

    sh:message "borderPointOf: This error is due to the OperationalPoint violating the rule: must have defined border point when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:borderPointOf ?bpValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CantDeficiencyBasicSSP a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ; 
    era:affectedProperty era:cantDeficiencyBasicSSP ; 
    era:scope "local" ; 

    rdfs:comment "Essential information for railway undertakings with a worse (lower) tolerated cant deficiency than those for which the ETCS trackside provides SSP (Static Speed Profiles) in conjunction with parameter 'Other Cant Deficiency train categories for which the ETCS trackside is configured to provide SSP'."@en ; 
    # Source: ontology comment for cantDeficiencyBasicSSP

    sh:class geosparql:Concept ; 
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one cant deficiency value for a RunningTrack

    sh:message "cantDeficiencyBasicSSP: The RunningTrack must have at most one cant deficiency value that is a Concept."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:cantDeficiencyBasicSSP ; 

    sh:severity sh:Violation .

era-sh:CantDeficiencyBasicSSPApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ; 
    era:affectedProperty era:cantDeficiencyBasicSSP ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when the RunningTrack is defined and requires a cant deficiency."@en ; 
    # Source: inferred from the nature of RunningTrack needing cant deficiency

    sh:message "cantDeficiencyBasicSSP: This error is due to the RunningTrack violating the rule: must have defined cant deficiency when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:cantDeficiencyBasicSSP ?value } .
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:CarrierLinearElement a sh:PropertyShape ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:carrierLinearElement ;
    era:scope "local" ;

    rdfs:comment "The carrier linear element in relation to which the orientation is based on."@en ;
    # Source: ontology comment for carrierLinearElement

    sh:class era:LinearElement ;
    # Source: ontology range is http://data.europa.eu/949/LinearElement

    sh:maxCount 1 ;
    # Inferred: expected at most one carrier linear element associated with an orientation

    sh:message "carrierLinearElement: The Orientation must have at most one carrier linear element that is a LinearElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a LinearElement (as an IRI)

    sh:path era:carrierLinearElement ;

    sh:severity sh:Violation .

era-sh:CarrierLinearElementApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:carrierLinearElement ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Orientation is defined and requires a carrier linear element."@en ;
    # Source: inferred from the nature of Orientation needing a carrier linear element

    sh:message "carrierLinearElement: This error is due to the Orientation violating the rule: must have defined carrier linear element when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?orientationLabel WHERE {
        $this rdfs:label ?orientationLabel .
        FILTER NOT EXISTS { $this era:carrierLinearElement ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Category a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:category ;
    era:scope "local" ;

    rdfs:comment "(Deprecated) Vehicle category."@en ;
    # Source: ontology comment for category

    sh:class rdfs:Resource ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept, but more generally can be any resource

    sh:maxCount 1 ;
    # Inferred: expected at most one category for a VehicleType

    sh:message "category: The VehicleType must have at most one category that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:category ;

    sh:severity sh:Violation .

era-sh:CategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:category ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined and requires a category."@en ;
    # Source: inferred from the nature of VehicleType needing a category

    sh:message "category: This error is due to the VehicleType violating the rule: must have defined category when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:category ?categoryValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Certificate a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:certificate ;
    era:scope "local" ;

    rdfs:comment "For this Vehicle Type, the type or design examination certificate described in the relevant verification module as issued by Notified Bodies, supporting the EC Declaration(s) of Verification for the subsystems in scope of the type's authorisation by an authorizing entity."@en ;
    # Source: ontology comment for certificate

    sh:class era:Certificate ;
    # Source: ontology range is http://data.europa.eu/949/Certificate

    sh:maxCount 1 ;
    # Inferred: expected at most one certificate for a VehicleType

    sh:message "certificate: The VehicleType must have at most one certificate that is a Certificate."@en ;
    # Source: inferred from the nature of the property and its unique identification in the context

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Certificate (as an IRI)

    sh:path era:certificate ;

    sh:severity sh:Violation .

era-sh:CertificateApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:certificate ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined and requires a certificate."@en ;
    # Source: inferred from the nature of VehicleType needing a certificate

    sh:message "certificate: This error is due to the VehicleType violating the rule: must have defined certificate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:certificate ?certValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CompatibilityProcedureDocument a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:compatibilityProcedureDocument ;
    era:rinfIndex "1.1.1.1.2.4.4" ;
    era:scope "local" ;

    rdfs:comment "Document with the procedure(s) for static and dynamic route compatibility checks."@en ;
    # Source: ontology comment for compatibilityProcedureDocument

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Inferred: expected at most one compatibility procedure document for a CommonCharacteristicsSubset

    sh:message "compatibilityProcedureDocument: The CommonCharacteristicsSubset must have at most one compatibility procedure document that is a Document."@en ;
    # Source: inferred from the nature of the property and its unique identification in the context

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Document (as an IRI)

    sh:path era:compatibilityProcedureDocument ;

    sh:severity sh:Violation .

era-sh:CompatibilityProcedureDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:compatibilityProcedureDocument ;
    era:rinfIndex "1.1.1.1.2.4.4" ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined and requires a compatibility procedure document."@en ;
    # Source: inferred from the nature of CommonCharacteristicsSubset needing documentation for compatibility checks

    sh:message "compatibilityProcedureDocument: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined compatibility procedure document when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:compatibilityProcedureDocument ?docValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionalRegenerativeBrake a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionalRegenerativeBrake ;
    era:rinfIndex "1.1.1.2.2.4" ;
    era:scope "local" ;

    rdfs:comment "Indication whether regenerative braking is permitted, not permitted, or permitted under specific conditions."@en ;
    # Source: ontology comment for conditionalRegenerativeBrake

    sh:class xsd:string ;
    # Source: inferred from the data presentation which indicates a single selection from predefined values

    sh:maxCount 1 ;
    # Inferred: expected at most one value for conditional regenerative brake

    sh:message "conditionalRegenerativeBrake: The ContactLineSystem must have at most one conditional regenerative brake value that is a string indicating permission status."@en ;
    # Source: inferred from the definition and nature of the property

    sh:pattern "^(Y|N|NYA)$" ;
    # Inferred: value must be one of the predefined options: Y, N, or NYA

    sh:path era:conditionalRegenerativeBrake ;

    sh:severity sh:Violation .

era-sh:ConditionalRegenerativeBrakeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionalRegenerativeBrake ;
    era:scope "local" ;

    rdfs:comment "Applicable when 'not electrified' is not chosen in parameter 1.1.1.2.2.1.1."@en ;
    # Source: applicability note in ontology

    sh:message "conditionalRegenerativeBrake: This error is due to the ContactLineSystem violating the rule: must have defined conditional regenerative brake when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:conditionalRegenerativeBrake ?value } .
        FILTER EXISTS { $this era:electrificationStatus ?statusValue . FILTER (statusValue = "not electrified") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionsAppliedRegenerativeBraking a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionsAppliedRegenerativeBraking ;
    era:rinfIndex "1.1.1.2.2.4.1" ;
    era:scope "local" ;

    rdfs:comment "Name and/or reference of the document specifying the conditions applying in regards to regenerative braking."@en ;
    # Source: ontology comment for conditionsAppliedRegenerativeBraking

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Inferred: expected at most one conditions applied document for a ContactLineSystem

    sh:message "conditionsAppliedRegenerativeBraking: The ContactLineSystem must have at most one conditions applied regenerative braking document that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Document (as an IRI)

    sh:path era:conditionsAppliedRegenerativeBraking ;

    sh:severity sh:Violation .

era-sh:ConditionsAppliedRegenerativeBrakingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionsAppliedRegenerativeBraking ;
    era:scope "local" ;

    rdfs:comment "Mandatory when parameter 1.1.1.2.2.4 announces Conditions."@en ;
    # Source: dependencyNote in ontology

    sh:message "conditionsAppliedRegenerativeBraking: This error is due to the ContactLineSystem violating the rule: must have defined conditions applied regenerative braking when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:conditionsAppliedRegenerativeBraking ?docValue } .
        # Check if the condition for regenerative braking is announced
        FILTER EXISTS { $this era:permissionForRegenerativeBraking ?permissionValue . FILTER (permissionValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionsSwitchClassBSystems a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:conditionsSwitchClassBSystems ;
    era:rinfIndex "1.1.1.3.8.3" ;
    era:scope "local" ;

    rdfs:comment "Special technical conditions required to switch over between ERTMS/ETCS and Class B systems."@en ;
    # Source: ontology comment for conditionsSwitchClassBSystems

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Inferred: expected at most one conditions switch document for a CommonCharacteristicsSubset

    sh:message "conditionsSwitchClassBSystems: The CommonCharacteristicsSubset must have at most one conditions switch document that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Document (as an IRI)

    sh:path era:conditionsSwitchClassBSystems ;

    sh:severity sh:Violation .

era-sh:ConditionsSwitchClassBSystemsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:conditionsSwitchClassBSystems ;
    era:rinfIndex "1.1.1.3.8.3" ;
    era:scope "local" ;

    rdfs:comment "Applicable when at least two different classes of protection systems exist."@en ;
    # Source: dependencyNote in ontology

    sh:message "conditionsSwitchClassBSystems: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined conditions switch document when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:conditionsSwitchClassBSystems ?docValue } .
        # Check if at least two different classes of protection systems exist
        FILTER EXISTS { $this era:protectionSystems ?systemValue . FILTER (COUNT(DISTINCT ?systemValue) >= 2) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionsUseReflectivePlates a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:conditionsUseReflectivePlates ; 
    era:rinfIndex "1.1.1.1.7.12.1" ; 
    era:scope "local" ;

    rdfs:comment "Details of any conditions for using the reflective plates on freight corridors. Specific case for Portugal and Spain until 1.1.2025 and Belgium and France until 1.1.2026."@en ; 
    # Source: ontology comment for conditionsUseReflectivePlates

    sh:class geosparql:Concept ; 
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one conditions use reflective plates value for a CommonCharacteristicsSubset

    sh:message "conditionsUseReflectivePlates: The CommonCharacteristicsSubset must have at most one conditions use reflective plates value that is a Concept."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:conditionsUseReflectivePlates ; 

    sh:severity sh:Violation .

era-sh:ConditionsUseReflectivePlatesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:conditionsUseReflectivePlates ; 
    era:rinfIndex "1.1.1.1.7.12.1" ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined and requires conditions for the use of reflective plates."@en ; 
    # Source: inferred from the nature of CommonCharacteristicsSubset needing conditions for reflective plates

    sh:message "conditionsUseReflectivePlates: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined conditions for use of reflective plates when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:conditionsUseReflectivePlates ?value } .
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:ConnectedTo a sh:PropertyShape ;
    era:affectedClass era:Track ;
    era:affectedProperty era:connectedTo ;
    era:scope "local" ;

    rdfs:comment "Represents a bidirectional connection between two Track instances."@en ;
    # Source: ontology comment for connectedTo

    sh:class era:Track ;
    # Source: ontology range is http://data.europa.eu/949/Track

    sh:maxCount 1 ;
    # Inferred: expected at most one connection for a Track, since it represents a bidirectional relationship

    sh:message "connectedTo: The Track must have at most one connectedTo reference that is a Track."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference another Track (as an IRI)

    sh:path era:connectedTo ;

    sh:severity sh:Violation .

era-sh:ConnectedToIrreflexivity a sh:SPARQLConstraint ;
    era:affectedClass era:Track ;
    era:affectedProperty era:connectedTo ;
    era:scope "local" ;

    rdfs:comment "Enforces irreflexivity of connectedTo: a Track cannot be connected to itself."@en ;
    # Source: ontology declares owl:IrreflexiveProperty

    sh:message "connectedTo: The Track {?thisLabel} cannot have itself as a connection."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel WHERE {
        $this rdfs:label ?thisLabel .
        FILTER EXISTS { $this era:connectedTo $this } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ContactLineSystem a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:contactLineSystem ; 
    era:scope "local" ; 

    rdfs:comment "System that is used to transmit electrical energy to road or rail vehicles."@en ; 
    # Source: ontology comment for contactLineSystem

    sh:class era:ContactLineSystem ; 
    # Source: ontology range is http://data.europa.eu/949/ContactLineSystem

    sh:maxCount 1 ; 
    # Inferred: expected at most one contact line system for a CommonCharacteristicsSubset

    sh:message "contactLineSystem: The CommonCharacteristicsSubset must have at most one contact line system that is a ContactLineSystem."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a ContactLineSystem (as an IRI)

    sh:path era:contactLineSystem ; 

    sh:severity sh:Violation .

era-sh:ContactLineSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:contactLineSystem ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when there are different contact line system types present."@en ; 
    # Source: inferred from the note in the ontology

    sh:message "contactLineSystem: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined contact line system when applicable."@en ;

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:contactLineSystem ?value } .
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:ContactLineSystemType a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:contactLineSystemType ;
    era:scope "local" ;

    rdfs:comment "Indication of the type of the contact line system."@en ;
    # Source: ontology comment for contactLineSystemType

    sh:class rdfs:Resource ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept, but more generally can be any resource

    sh:maxCount 1 ;
    # Inferred: expected at most one type for a ContactLineSystem

    sh:message "contactLineSystemType: The ContactLineSystem must have at most one contact line system type that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:contactLineSystemType ;

    sh:severity sh:Violation .

era-sh:ContactLineSystemTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:contactLineSystemType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the type of contact line system is defined and requires specification."@en ;
    # Source: inferred from the nature of ContactLineSystem needing a defined type

    sh:message "contactLineSystemType: This error is due to the ContactLineSystem violating the rule: must have defined contact line system type when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:contactLineSystemType ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ContactStripMaterial a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contactStripMaterial ;
    era:rinfIndex "4.10.10" ;
    era:scope "local" ;

    rdfs:comment "Indication of which contact strip materials are permitted to be used."@en ;
    # Source: ontology comment for contactStripMaterial

    sh:class rdfs:Resource ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one contact strip material for a CommonCharacteristicsSubset

    sh:message "contactStripMaterial: The CommonCharacteristicsSubset must have at most one contact strip material that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:contactStripMaterial ;

    sh:severity sh:Violation .

era-sh:ContactStripMaterialApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contactStripMaterial ;
    era:rinfIndex "4.10.10" ;
    era:scope "local" ;

    rdfs:comment "Applicable only if 'Overhead contact line (OCL)' is selected in 1.1.1.2.2.1.1."@en ;
    # Source: dependencyNote in ontology

    sh:message "contactStripMaterial: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined contact strip material when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:contactStripMaterial ?value } .
        # Check if Overhead contact line (OCL) is selected
        FILTER EXISTS { $this era:overheadContactLine ?oclValue . FILTER (oclValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Contains a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contains ;
    era:scope "local" ;

    rdfs:comment "Indicates that a subset with common characteristics contains a certain infrastructure element."@en ;
    # Source: ontology comment for contains

    sh:class era:InfrastructureElement ;
    # Source: ontology range is http://data.europa.eu/949/InfrastructureElement

    sh:maxCount 1 ;
    # Inferred: expected at most one infrastructure element for a CommonCharacteristicsSubset

    sh:message "contains: The CommonCharacteristicsSubset must have at most one contains reference that is an InfrastructureElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an InfrastructureElement (as an IRI)

    sh:path era:contains ;

    sh:severity sh:Violation .

era-sh:ContainsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contains ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined and requires an infrastructure element."@en ;
    # Source: inferred from the nature of CommonCharacteristicsSubset needing to contain elements

    sh:message "contains: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined infrastructure element when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:contains ?elementValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DataGSMRNetwork a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:dataGSMRNetwork ;
    era:rinfIndex "4.13.2.11" ;
    era:scope "local" ;

    rdfs:comment "Data SIM Card GSM-R Home Network."@en ;
    # Source: ontology comment for dataGSMRNetwork

    sh:class geosparql:Concept ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one GSM-R network reference for a VehicleType

    sh:message "dataGSMRNetwork: The VehicleType must have at most one data GSM-R network value that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:dataGSMRNetwork ;

    sh:severity sh:Violation .

era-sh:DataGSMRNetworkApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:dataGSMRNetwork ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined and requires a GSM-R network specification."@en ;
    # Source: inferred from the nature of VehicleType needing GSM-R network information

    sh:message "dataGSMRNetwork: This error is due to the VehicleType violating the rule: must have defined data GSM-R network when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:dataGSMRNetwork ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DataRadioCompatible a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:dataRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.10" ;
    era:scope "local" ;

    rdfs:comment "Radio requirements used for demonstrating technical compatibility data."@en ;
    # Source: ontology comment for dataRadioCompatible

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various radio compatibility concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one data radio compatibility value for a VehicleType

    sh:message "dataRadioCompatible: The VehicleType must have at most one data radio compatible value that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:dataRadioCompatible ;

    sh:severity sh:Violation .

era-sh:DataRadioCompatibleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:dataRadioCompatible ;
    era:scope "local" ;

    rdfs:comment "Applicable when GSM-R and ETCS L2 are installed for this parameter to be applicable."@en ;
    # Source: dependencyNote in ontology

    sh:message "dataRadioCompatible: This error is due to the VehicleType violating the rule: must have defined data radio compatibility when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:dataRadioCompatible ?value } .
        # Check if GSM-R and ETCS L2 must be installed
        FILTER EXISTS { $this era:gsmRInstalled ?gsmValue . FILTER (gsmValue = "Y") } .
        FILTER EXISTS { $this era:etcsL2Installed ?etcsValue . FILTER (etcsValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DefinesSubset a sh:PropertyShape ;
    era:affectedClass era:InfrastructureManager ;
    era:affectedProperty era:definesSubset ;
    era:scope "local" ;

    rdfs:comment "(deprecated) not in use anymore. For the purposes of the register of infrastructure, each infrastructure manager may describe its railway network optionally via common characteristic subsets."@en ;
    # Source: ontology comment for definesSubset

    sh:class era:CommonCharacteristicsSubset ;
    # Source: ontology range is http://data.europa.eu/949/CommonCharacteristicsSubset

    sh:maxCount 1 ;
    # Inferred: expected at most one definesSubset reference for an InfrastructureManager, as it represents a specific subset of characteristics

    sh:message "definesSubset: The InfrastructureManager must have at most one definesSubset reference that is a CommonCharacteristicsSubset."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a CommonCharacteristicsSubset (as an IRI)

    sh:path era:definesSubset ;

    sh:severity sh:Violation .

era-sh:DefinesSubsetApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureManager ;
    era:affectedProperty era:definesSubset ;
    era:scope "local" ;

    rdfs:comment "Applicable when the InfrastructureManager is defining a subset of common characteristics."@en ;
    # Source: inferred from the nature of the definesSubset property

    sh:message "definesSubset: This error is due to the InfrastructureManager violating the rule: must have defined a subset when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?managerLabel WHERE {
        $this rdfs:label ?managerLabel .
        FILTER NOT EXISTS { $this era:definesSubset ?subsetValue } .
        # Check if defining a subset of common characteristics is applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DigitalSchematicOverview a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:digitalSchematicOverview ;
    era:rinfIndex "1.2.0.0.0.7.2" ;
    era:scope "local" ;

    rdfs:comment "Diagrammatic representation of the operational point in Well Known Text polyline."@en ;
    # Source: ontology comment for digitalSchematicOverview

    sh:datatype geosparql:wktLiteral ;
    # Source: ontology range is http://www.opengis.net/ont/geosparql#wktLiteral

    sh:maxCount 1 ;
    # Inferred: expected at most one digital schematic overview for an OperationalPoint

    sh:message "digitalSchematicOverview: The OperationalPoint must have at most one digital schematic overview that is a Well Known Text representation."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a WKT representation (as an IRI)

    sh:path era:digitalSchematicOverview ;

    sh:severity sh:Violation .

era-sh:DigitalSchematicOverviewApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:digitalSchematicOverview ;
    era:scope "local" ;

    rdfs:comment "Applicable when the operational point requires a digital schematic overview."@en ;
    # Source: inferred from the ontology and operational point requirements

    sh:message "digitalSchematicOverview: This error is due to the OperationalPoint violating the rule: must have defined digital schematic overview when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:digitalSchematicOverview ?value } .
        # Check if the operational point requires a digital schematic overview
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Direction a sh:PropertyShape ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:direction ;
    era:scope "local" ;

    rdfs:comment "The direction of the orientation of a railway element, in relation to the carrier linear element."@en ;
    # Source: ontology comment for direction

    sh:class rdfs:Resource ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept, which can be any resource

    sh:maxCount 1 ;
    # Inferred: expected at most one direction value for an Orientation

    sh:message "direction: The Orientation must have at most one direction value that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:direction ;

    sh:severity sh:Violation .

era-sh:DirectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:direction ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Orientation is defined and requires a direction specification."@en ;
    # Source: inferred from the nature of Orientation needing a defined direction

    sh:message "direction: This error is due to the Orientation violating the rule: must have defined direction when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?orientationLabel WHERE {
        $this rdfs:label ?orientationLabel .
        FILTER NOT EXISTS { $this era:direction ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DocumentRestrictionPositionContactLineSeparation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:documentRestrictionPositionContactLineSeparation ; 
    era:rinfIndex "1.1.1.2.5.5" ; 
    era:scope "local" ;

    rdfs:comment "Name and/or reference of the document specifying the restriction(s) related to the position of Multiple Traction unit(s) to comply with contact line separation."@en ; 
    # Source: ontology comment for documentRestrictionPositionContactLineSeparation

    sh:class era:Document ; 
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ; 
    # Inferred: expected at most one document reference for a CommonCharacteristicsSubset

    sh:message "documentRestrictionPositionContactLineSeparation: The CommonCharacteristicsSubset must have at most one document reference that is a Document."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a Document (as an IRI)

    sh:path era:documentRestrictionPositionContactLineSeparation ;

    sh:severity sh:Violation .

era-sh:DocumentRestrictionPositionContactLineSeparationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:documentRestrictionPositionContactLineSeparation ; 
    era:scope "local" ;

    rdfs:comment "Applicable when restrictions related to the position of Multiple Traction unit(s) are defined."@en ; 
    # Source: inferred from the ontology description and applicability of parameters

    sh:message "documentRestrictionPositionContactLineSeparation: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined document restriction when applicable."@en ;

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:documentRestrictionPositionContactLineSeparation ?value } .
        # Check if the parameter for contact line separation is applicable
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:DocumentRestrictionPowerConsumption a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:documentRestrictionPowerConsumption ;
    era:rinfIndex "1.1.1.2.5.4" ;
    era:scope "local" ;

    rdfs:comment "Name and/or reference of the document specifying the restriction(s) related to power consumption of specific electric traction unit(s)."@en ;
    # Source: ontology comment for documentRestrictionPowerConsumption

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Inferred: expected at most one document reference for a CommonCharacteristicsSubset

    sh:message "documentRestrictionPowerConsumption: The CommonCharacteristicsSubset must have at most one document reference that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Document (as an IRI)

    sh:path era:documentRestrictionPowerConsumption ;

    sh:severity sh:Violation .

era-sh:DocumentRestrictionPowerConsumptionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:documentRestrictionPowerConsumption ;
    era:scope "local" ;

    rdfs:comment "Applicable when restrictions related to power consumption are defined for electric traction units."@en ;
    # Source: inferred from the ontology description and applicability of parameters

    sh:message "documentRestrictionPowerConsumption: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined document restriction for power consumption when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:documentRestrictionPowerConsumption ?value } .
        # Check if the parameter for power consumption restrictions is applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBraking a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:eddyCurrentBraking ;
    era:scope "local" ;

    rdfs:comment "Indication of limitations on the use of eddy current brakes."@en ;
    # Source: ontology comment for eddyCurrentBraking

    sh:class rdfs:Resource ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one eddy current braking reference for a CommonCharacteristicsSubset

    sh:message "eddyCurrentBraking: The CommonCharacteristicsSubset must have at most one eddy current braking reference that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:eddyCurrentBraking ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:eddyCurrentBraking ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined and requires specification of eddy current braking."@en ;
    # Source: inferred from the nature of eddyCurrentBraking needing a defined reference

    sh:message "eddyCurrentBraking: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined eddy current braking when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:eddyCurrentBraking ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingConditionsDocument a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:eddyCurrentBrakingConditionsDocument ;
    era:rinfIndex "1.1.1.1.6.4" ;
    era:scope "local" ;

    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of eddy current brakes identified in 1.1.1.1.6.2."@en ;
    # Source: ontology comment for eddyCurrentBrakingConditionsDocument

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Inferred: expected at most one document reference for a CommonCharacteristicsSubset

    sh:message "eddyCurrentBrakingConditionsDocument: The CommonCharacteristicsSubset must have at most one eddy current braking conditions document that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Document (as an IRI)

    sh:path era:eddyCurrentBrakingConditionsDocument ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingConditionsDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:eddyCurrentBrakingConditionsDocument ;
    era:scope "local" ;

    rdfs:comment "Applicable when the use of eddy current brakes is allowed under conditions."@en ;
    # Source: applicability derived from RAG definition

    sh:message "eddyCurrentBrakingConditionsDocument: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined eddy current braking conditions document when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:eddyCurrentBrakingConditionsDocument ?value } .
        # Check if conditions for use of eddy current brakes are applicable
        FILTER EXISTS { $this era:eddyCurrentBraking ?brakingValue . FILTER (brakingValue = "allowed under conditions") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ElementA a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:elementA ;
    era:rinfIndex "1.1.1.0.1.2" ;
    era:scope "local" ;

    rdfs:comment "References the first topological element in an oriented relation. For example, it may indicate the object that corresponds to a section of line, an operational point or a track inside an operational point connected at start."@en ;
    # Source: ontology comment for elementA

    sh:class era:LinearElement ;
    # Source: ontology range is http://data.europa.eu/949/LinearElement

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for elementA in a NetRelation

    sh:message "elementA: The NetRelation must have at most one elementA reference that is a LinearElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a LinearElement (as an IRI)

    sh:path era:elementA ;

    sh:severity sh:Violation .

era-sh:ElementAApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:elementA ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetRelation is defined and requires a reference to the first topological element."@en ;
    # Source: inferred from the nature of NetRelation needing to reference elements

    sh:message "elementA: This error is due to the NetRelation violating the rule: must have defined elementA when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?relationLabel WHERE {
        $this rdfs:label ?relationLabel .
        FILTER NOT EXISTS { $this era:elementA ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ElementB a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:elementB ;
    era:rinfIndex "1.1.1.0.1.2" ;
    era:scope "local" ;

    rdfs:comment "References the second topological linear element in an oriented relation. For example, it may indicate the object that corresponds to a section of line, an operational point or a track inside an operational point connected at end."@en ;
    # Source: ontology comment for elementB

    sh:class era:LinearElement ;
    # Source: ontology range is http://data.europa.eu/949/LinearElement

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for elementB in a NetRelation

    sh:message "elementB: The NetRelation must have at most one elementB reference that is a LinearElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a LinearElement (as an IRI)

    sh:path era:elementB ;

    sh:severity sh:Violation .

era-sh:ElementBApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:elementB ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetRelation is defined and requires a reference to the second topological element."@en ;
    # Source: inferred from the nature of NetRelation needing to reference elements

    sh:message "elementB: This error is due to the NetRelation violating the rule: must have defined elementB when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?relationLabel WHERE {
        $this rdfs:label ?relationLabel .
        FILTER NOT EXISTS { $this era:elementB ?value } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EndCouplingType a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:endCouplingType ;
    era:rinfIndex "4.9.1" ;
    era:scope "local" ;

    rdfs:comment "Type of end coupling (indicating tensile and compressive forces)."@en ;
    # Source: ontology comment for endCouplingType

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various coupling concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one end coupling type value for a VehicleType

    sh:message "endCouplingType: The VehicleType must have at most one end coupling type value that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:endCouplingType ;

    sh:severity sh:Violation .

era-sh:EndCouplingTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:endCouplingType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a specification of the end coupling type."@en ;
    # Source: inferred from the nature of VehicleType needing to define coupling characteristics

    sh:message "endCouplingType: This error is due to the VehicleType violating the rule: must have defined end coupling type when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:endCouplingType ?value } .
        # Check if the VehicleType requires a defined end coupling type
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EndLocation a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:endLocation ;
    era:rinfIndex "1.1.1.1.8.4" ;
    era:scope "local" ;

    rdfs:comment "Geographical coordinates in decimal degrees and km of the line at the end of a tunnel."@en ;
    # Source: ontology comment for endLocation

    sh:datatype xsd:string ;
    # Inferred: the data presentation indicates a predefined CharacterString format

    sh:maxCount 1 ;
    # Inferred: expected at most one end location value for a Tunnel

    sh:message "endLocation: The Tunnel must have at most one end location value formatted as a predefined CharacterString representing geographical coordinates."@en ;
    # Source: inferred from the nature of the property and the RAG definition

    sh:pattern "^Latitude=(-?\\d+\\.\\d+) Longitude=(-?\\d+\\.\\d+) Kilometer=(-?\\d+\\.\\d+)$" ;
    # Inferred: the pattern matches the specified format of geographical coordinates and distance in km

    sh:path era:endLocation ;

    sh:severity sh:Violation .

era-sh:EndLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:endLocation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Tunnel is defined and requires an end location specification."@en ;
    # Source: inferred from the ontology and RAG definition

    sh:message "endLocation: This error is due to the Tunnel violating the rule: must have defined end location when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:endLocation ?value } .
        # Check if the Tunnel requires an end location specification
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EndsAt a sh:PropertyShape ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:endsAt ;
    era:scope "local" ;

    rdfs:comment "Specifies the ending coordinate of a linear reference."@en ;
    # Source: ontology comment for endsAt

    sh:class era:TopologicalCoordinate ;
    # Source: ontology range is http://data.europa.eu/949/TopologicalCoordinate

    sh:maxCount 1 ;
    # Inferred: expected at most one ending coordinate for a NetLinearReference

    sh:message "endsAt: The NetLinearReference must have at most one ending coordinate that is a TopologicalCoordinate."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a TopologicalCoordinate (as an IRI)

    sh:path era:endsAt ;

    sh:severity sh:Violation .

era-sh:EndsAtApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:endsAt ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetLinearReference is defined and requires an ending coordinate specification."@en ;
    # Source: inferred from the ontology and usage of linear references

    sh:message "endsAt: This error is due to the NetLinearReference violating the rule: must have defined ending coordinate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?referenceLabel WHERE {
        $this rdfs:label ?referenceLabel .
        FILTER NOT EXISTS { $this era:endsAt ?value } .
        # Check if the NetLinearReference requires a defined ending coordinate
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EnergySupplySystem a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystem ;
    era:rinfIndex "4.10.1" ;
    era:scope "local" ;

    rdfs:comment "Indication of the traction supply system (nominal voltage and frequency)."@en ;
    # Source: ontology comment for energySupplySystem

    sh:class rdfs:Resource ;
    # Source: ontology range is http://www.w3.org/2004/02/skos/core#Concept, which can be any resource

    sh:maxCount 1 ;
    # Inferred: expected at most one energy supply system value for a ContactLineSystem

    sh:message "energySupplySystem: The ContactLineSystem must have at most one energy supply system value that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:energySupplySystem ;

    sh:severity sh:Violation .

era-sh:EnergySupplySystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystem ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ContactLineSystem is defined and requires an energy supply system specification."@en ;
    # Source: inferred from the nature of ContactLineSystem needing a defined energy supply system

    sh:message "energySupplySystem: This error is due to the ContactLineSystem violating the rule: must have defined energy supply system when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:energySupplySystem ?value } .
        # Check if the ContactLineSystem requires an energy supply system specification
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboard a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:errorCorrectionsOnboard ;
    era:rinfIndex "1.1.1.3.1" ;
    era:scope "local" ;

    rdfs:comment "List of unacceptable errors impacting the IM network that are required to be solved in the on-board according to the TSI CCS point 7.2.10.3 specification maintenance point."@en ;
    # Source: ontology comment for errorCorrectionsOnboard

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one error corrections reference for a CommonCharacteristicsSubset

    sh:message "errorCorrectionsOnboard: The CommonCharacteristicsSubset must have at most one error corrections reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:errorCorrectionsOnboard ;

    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboardApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:errorCorrectionsOnboard ;
    era:scope "local" ;

    rdfs:comment "Applicable when error corrections are defined for the onboard systems."@en ;
    # Source: inferred from the ontology description and applicability of parameters

    sh:message "errorCorrectionsOnboard: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined error corrections when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:errorCorrectionsOnboard ?value } .
        # Check if the parameter for onboard error corrections is applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ETCS a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:etcs ;
    era:scope "local" ;

    rdfs:comment "European Train Control System (ETCS) application level supported by the track side equipment."@en ;
    # Source: ontology comment for etcs

    sh:class era:ETCS ;
    # Source: ontology range is http://data.europa.eu/949/ETCS

    sh:maxCount 1 ;
    # Inferred: expected at most one instance of ETCS per CommonCharacteristicsSubset

    sh:message "etcs: The CommonCharacteristicsSubset must have at most one ETCS reference that is an instance of ETCS."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an ETCS (as an IRI)

    sh:path era:etcs ;

    sh:severity sh:Violation .

era-sh:ETCSApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:etcs ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ETCS levels are defined for the CommonCharacteristicsSubset."@en ;
    # Source: inferred from the ontology description and applicability of parameters

    sh:message "etcs: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined ETCS levels when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:etcs ?value } .
        # Check if the parameter for ETCS levels is applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsBaseline a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsBaseline ;
    era:rinfIndex "1.1.1.3.2.2" ;
    era:scope "local" ;

    rdfs:comment "ETCS baseline installed lineside."@en ;
    # Source: ontology comment for etcsBaseline

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various ETCS baselines

    sh:maxCount 1 ;
    # Inferred: expected at most one ETCS baseline reference for an ETCS

    sh:message "etcsBaseline: The ETCS must have at most one ETCS baseline reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an ETCS baseline (as an IRI)

    sh:path era:etcsBaseline ;

    sh:severity sh:Violation .

era-sh:EtcsBaselineApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsBaseline ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ETCS is defined and requires a specification of the baseline."@en ;
    # Source: inferred from the nature of the ETCS needing to define baselines

    sh:message "etcsBaseline: This error is due to the ETCS violating the rule: must have defined ETCS baseline when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?etcsLabel WHERE {
        $this rdfs:label ?etcsLabel .
        FILTER NOT EXISTS { $this era:etcsBaseline ?value } .
        # Check if the ETCS requires a defined baseline
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsDegradedSituation a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsDegradedSituation ;
    era:rinfIndex "1.1.1.3.10.1" ;
    era:scope "local" ;

    rdfs:comment "ERTMS / ETCS application level for degraded situation related to the track side equipment."@en ;
    # Source: ontology comment for etcsDegradedSituation

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various ETCS situations

    sh:maxCount 1 ;
    # Inferred: expected at most one ETCS degraded situation for a RunningTrack

    sh:message "etcsDegradedSituation: The RunningTrack must have at most one ETCS degraded situation reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an ETCS situation (as an IRI)

    sh:path era:etcsDegradedSituation ;

    sh:severity sh:Violation .

era-sh:EtcsDegradedSituationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:etcsDegradedSituation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ETCS is installed and defines a degraded situation."@en ;
    # Source: applicability derived from RAG definition

    sh:message "etcsDegradedSituation: This error is due to the RunningTrack violating the rule: must have defined ETCS degraded situation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:etcsDegradedSituation ?value } .
        # Check if ETCS is installed and requires a degraded situation definition
        FILTER EXISTS { $this era:etcs ?etcsValue . FILTER (etcsValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ETCSEquipmentOnBoardLevel a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsEquipmentOnBoardLevel ;
    era:rinfIndex "4.13.1.1" ;
    era:scope "local" ;

    rdfs:comment "ETCS equipment on-board and its level."@en ;
    # Source: ontology comment for etcsEquipmentOnBoardLevel

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, can refer to various ETCS equipment levels

    sh:maxCount 1 ;
    # Inferred: expected at most one ETCS equipment level for a VehicleType

    sh:message "etcsEquipmentOnBoardLevel: The VehicleType must have at most one ETCS equipment on-board level reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:etcsEquipmentOnBoardLevel ;

    sh:severity sh:Violation .

era-sh:ETCSEquipmentOnBoardLevelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsEquipmentOnBoardLevel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a specification of the ETCS equipment on-board level."@en ;
    # Source: inferred from the nature of VehicleType needing to define ETCS characteristics

    sh:message "etcsEquipmentOnBoardLevel: This error is due to the VehicleType violating the rule: must have defined ETCS equipment on-board level when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:etcsEquipmentOnBoardLevel ?value } .
        # Check if the VehicleType requires a defined ETCS equipment on-board level
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsInfill a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsInfill ;
    era:rinfIndex "1.1.1.3.2.4" ;
    era:scope "local" ;

    rdfs:comment "Information about installed trackside equipment capable to transmit infill information by loop or GSM-R for level 1 installation."@en ;
    # Source: ontology comment for etcsInfill

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various infill concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one infill reference for a VehicleType

    sh:message "etcsInfill: The VehicleType must have at most one ETCS infill reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an infill concept (as an IRI)

    sh:path era:etcsInfill ;

    sh:severity sh:Violation .

era-sh:EtcsInfillApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsInfill ;
    era:scope "local" ;

    rdfs:comment "Applicable only when selected value for 1.1.1.3.2.1 is ‘1’."@en ;
    # Source: RAG applicability note

    sh:message "etcsInfill: This error is due to the VehicleType violating the rule: must have defined ETCS infill when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:etcsInfill ?value } .
        # Check if the VehicleType requires a defined ETCS infill
        FILTER EXISTS { $this era:etcs ?etcsValue . FILTER (etcsValue = "1") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsLevelType a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsLevelType ;
    era:rinfIndex "1.1.1.3.2.1" ;
    era:scope "local" ;

    rdfs:comment "ERTMS / ETCS application level related to the track side equipment."@en ;
    # Source: ontology comment for etcsLevelType

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various ETCS levels

    sh:maxCount 1 ;
    # Inferred: expected at most one ETCS level for an ETCS

    sh:message "etcsLevelType: The ETCS must have at most one ETCS level reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an ETCS level (as an IRI)

    sh:path era:etcsLevelType ;

    sh:severity sh:Violation .

era-sh:EtcsLevelTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsLevelType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ETCS is defined and requires a specification of the level."@en ;
    # Source: inferred from the nature of the ETCS needing to define levels

    sh:message "etcsLevelType: This error is due to the ETCS violating the rule: must have defined ETCS level when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?etcsLabel WHERE {
        $this rdfs:label ?etcsLabel .
        FILTER NOT EXISTS { $this era:etcsLevelType ?value } .
        # Check if the ETCS requires a defined level specification
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsMVersion a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsMVersion ;
    era:rinfIndex "1.1.1.3.2.10" ;
    era:scope "local" ;

    rdfs:comment "ETCS M_version according to SRS 7.5.1.9."@en ;
    # Source: ontology comment for etcsMVersion

    sh:class rdfs:Resource ;
    # Source: inferred from ontology range, can refer to various ETCS M_versions

    sh:maxCount 1 ;
    # Inferred: expected at most one ETCS M_version for an ETCS

    sh:message "etcsMVersion: The ETCS must have at most one ETCS M_version reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an ETCS M_version (as an IRI)

    sh:path era:etcsMVersion ;

    sh:severity sh:Violation .

era-sh:EtcsMVersionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsMVersion ;
    era:scope "local" ;

    rdfs:comment "Applicable only when selected value for 1.1.1.3.2.1 is ‘1’."@en ;
    # Source: RAG applicability note

    sh:message "etcsMVersion: This error is due to the ETCS violating the rule: must have defined ETCS M_version when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?etcsLabel WHERE {
        $this rdfs:label ?etcsLabel .
        FILTER NOT EXISTS { $this era:etcsMVersion ?value } .
        # Check if the ETCS requires a defined M_version
        FILTER EXISTS { $this era:etcsLevelType ?levelType . FILTER (levelType = "1") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsNationalPacket44Function a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:etcsNationalPacket44Function ;
    era:scope "local" ;

    rdfs:comment "Indication whether data for national applications is transmitted between track and train."@en ;
    # Source: ontology comment for etcsNationalPacket44Function

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for a national packet 44 function

    sh:message "etcsNationalPacket44Function: The CommonCharacteristicsSubset must have at most one ETCS national packet 44 function reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:etcsNationalPacket44Function ;

    sh:severity sh:Violation .

era-sh:EtcsNationalPacket44FunctionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:etcsNationalPacket44Function ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present and requires a national packet 44 function specification."@en ;
    # Source: inferred from the ontology and RAG applicability notes

    sh:message "etcsNationalPacket44Function: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined ETCS national packet 44 function when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:etcsNationalPacket44Function ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined national packet 44 function
        FILTER EXISTS { $this era:etcs ?etcsValue . FILTER (etcsValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsRestrictionsConditionsDoc a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:etcsRestrictionsConditionsDoc ;
    era:rinfIndex "1.1.1.3.2.6" ;
    era:scope "local" ;

    rdfs:comment "Indication of the document where restrictions or conditions due to partial compliance with the TSI CCS are described."@en ;
    # Source: ontology comment for etcsRestrictionsConditionsDoc

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:maxCount 1 ;
    # Inferred: expected at most one document reference for conditions or restrictions

    sh:message "etcsRestrictionsConditionsDoc: The CommonCharacteristicsSubset must have at most one ETCS restrictions conditions document reference that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a document (as an IRI)

    sh:path era:etcsRestrictionsConditionsDoc ;

    sh:severity sh:Violation .

era-sh:EtcsRestrictionsConditionsDocApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:etcsRestrictionsConditionsDoc ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present and requires a specification of restrictions or conditions."@en ;
    # Source: inferred from the ontology and RAG applicability notes

    sh:message "etcsRestrictionsConditionsDoc: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined ETCS restrictions conditions document when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:etcsRestrictionsConditionsDoc ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined restrictions conditions document
        FILTER EXISTS { $this era:etcs ?etcsValue . FILTER (etcsValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsSystemCompatibility a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsSystemCompatibility ;
    era:rinfIndex "1.1.1.3.2.9" ;
    era:scope "local" ;

    rdfs:comment "ETCS requirements used for demonstrating technical compatibility."@en ;
    # Source: ontology comment for etcsSystemCompatibility

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various ETCS compatibility concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one ETCS system compatibility reference for a VehicleType

    sh:message "etcsSystemCompatibility: The VehicleType must have at most one ETCS system compatibility reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an ETCS compatibility concept (as an IRI)

    sh:path era:etcsSystemCompatibility ;

    sh:severity sh:Violation .

era-sh:EtcsSystemCompatibilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsSystemCompatibility ;
    era:scope "local" ;

    rdfs:comment "Applicable only when selected value for 1.1.1.3.2.1 is not ‘N’."@en ;
    # Source: RAG applicability note

    sh:message "etcsSystemCompatibility: This error is due to the VehicleType violating the rule: must have defined ETCS system compatibility when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:etcsSystemCompatibility ?value } .
        # Check if the VehicleType requires a defined ETCS system compatibility
        FILTER EXISTS { $this era:etcsLevelType ?levelType . FILTER (levelType != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsTransmittedTrackConditions a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmittedTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12" ;
    era:scope "local" ;

    rdfs:comment "Transmittable track conditions by the CCS Subsystem, according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for etcsTransmittedTrackConditions

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various concepts related to transmitted track conditions

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for transmitted track conditions for an ETCS

    sh:message "etcsTransmittedTrackConditions: The ETCS must have at most one transmitted track conditions reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:etcsTransmittedTrackConditions ;

    sh:severity sh:Violation .

era-sh:EtcsTransmittedTrackConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmittedTrackConditions ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present and the conditions for transmission are defined."@en ;
    # Source: inferred from the ontology and RAG applicability notes

    sh:message "etcsTransmittedTrackConditions: This error is due to the ETCS violating the rule: must have defined transmitted track conditions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?etcsLabel WHERE {
        $this rdfs:label ?etcsLabel .
        FILTER NOT EXISTS { $this era:etcsTransmittedTrackConditions ?value } .
        # Check if the ETCS requires a defined transmitted track conditions
        FILTER EXISTS { $this era:etcs ?etcsValue . FILTER (etcsValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FireSafetyCategory a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:fireSafetyCategory ;
    era:rinfIndex "4.4.1" ;
    era:scope "local" ;

    rdfs:comment "Fire safety category for tunnels."@en ;
    # Source: ontology comment for fireSafetyCategory

    sh:class era:Concept ;
    # Source: inferred range from ontology as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one fire safety category for each VehicleType

    sh:message "fireSafetyCategory: The VehicleType must have at most one fire safety category reference that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a fire safety category (as an IRI)

    sh:path era:fireSafetyCategory ;

    sh:severity sh:Violation .

era-sh:FireSafetyCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:fireSafetyCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a specification of the fire safety category."@en ;
    # Source: inferred from the nature of VehicleType needing to define fire safety characteristics

    sh:message "fireSafetyCategory: This error is due to the VehicleType violating the rule: must have defined fire safety category when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:fireSafetyCategory ?value } .
        # Check if the VehicleType requires a defined fire safety category
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FreightCorridor a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:freightCorridor ;
    era:rinfIndex "1.2.1.0.2.3" ;
    era:scope "local" ;

    rdfs:comment "Indication whether the line is designated to a Railway Freight Corridor."@en ;
    # Source: ontology comment for freightCorridor

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various freight corridor concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one freight corridor reference for a RunningTrack

    sh:message "freightCorridor: The RunningTrack must have at most one freight corridor reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a freight corridor (as an IRI)

    sh:path era:freightCorridor ;

    sh:severity sh:Violation .

era-sh:FreightCorridorApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:freightCorridor ;
    era:scope "local" ;

    rdfs:comment "Applicable if the line is part of a Railway Freight Corridor (RFC)."@en ;
    # Source: applicability derived from RAG definition

    sh:message "freightCorridor: This error is due to the RunningTrack violating the rule: must have defined freight corridor when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:freightCorridor ?value } .
        # Check if the RunningTrack is part of a Railway Freight Corridor
        FILTER EXISTS { $this era:partOfRFC ?rfcValue . FILTER (rfcValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitation a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitation ;
    era:scope "local" ;

    rdfs:comment "Specific for route compatibility check on French network. The property is composed of two values: A boolean [Y/N] and a number N between 1 and 8."@en ;
    # Source: ontology comment for frenchTrainDetectionSystemLimitation

    sh:class era:Concept ;
    # Source: inferred range from ontology, as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one limitation reference for a TrainDetectionSystem

    sh:message "frenchTrainDetectionSystemLimitation: The TrainDetectionSystem must have at most one French train detection system limitation reference that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:frenchTrainDetectionSystemLimitation ;

    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the TrainDetectionSystem has specific limitations defined for the French network."@en ;
    # Source: inferred from the nature of TrainDetectionSystem needing to define limitations

    sh:message "frenchTrainDetectionSystemLimitation: This error is due to the TrainDetectionSystem violating the rule: must have defined French train detection system limitation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:frenchTrainDetectionSystemLimitation ?value } .
        # Check if the TrainDetectionSystem requires a defined French train detection system limitation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationNumber a sh:PropertyShape ;
    era:affectedClass era:FrenchTrainDetectionSystemLimitation ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationNumber ;
    era:scope "local" ;

    rdfs:comment "Part of the section with train detection limitation that indicates the type of train detection limitation. Specific for route compatibility check on French network."@en ;
    # Source: ontology comment for frenchTrainDetectionSystemLimitationNumber

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one limitation number for a FrenchTrainDetectionSystemLimitation

    sh:message "frenchTrainDetectionSystemLimitationNumber: The FrenchTrainDetectionSystemLimitation must have at most one reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a limitation number concept (as an IRI)

    sh:path era:frenchTrainDetectionSystemLimitationNumber ;

    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationNumberApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:FrenchTrainDetectionSystemLimitation ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationNumber ;
    era:scope "local" ;

    rdfs:comment "Applicable when the FrenchTrainDetectionSystemLimitation has specific limitations defined for the French network."@en ;
    # Source: inferred from the nature of FrenchTrainDetectionSystemLimitation needing to define limitation numbers

    sh:message "frenchTrainDetectionSystemLimitationNumber: This error is due to the FrenchTrainDetectionSystemLimitation violating the rule: must have defined French train detection system limitation number when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?limitationLabel WHERE {
        $this rdfs:label ?limitationLabel .
        FILTER NOT EXISTS { $this era:frenchTrainDetectionSystemLimitationNumber ?value } .
        # Check if the FrenchTrainDetectionSystemLimitation requires a defined limitation number
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FrequencyBandsForDetection a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frequencyBandsForDetection ;
    era:rinfIndex "1.1.1.3.4.2" ;
    era:scope "local" ;

    rdfs:comment "Bands of the frequency management of the train detection systems as defined in the TSI CCS."@en ;
    # Source: ontology comment for frequencyBandsForDetection

    sh:class rdfs:Resource ;
    # Source: inferred from ontology range, as it can refer to various frequency band concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one frequency band reference for a TrainDetectionSystem

    sh:message "frequencyBandsForDetection: The TrainDetectionSystem must have at most one frequency bands for detection reference that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a frequency band concept (as an IRI)

    sh:path era:frequencyBandsForDetection ;

    sh:severity sh:Violation .

era-sh:FrequencyBandsForDetectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:frequencyBandsForDetection ;
    era:scope "local" ;

    rdfs:comment "Applicable when the TrainDetectionSystem has specific frequency bands defined for detection."@en ;
    # Source: inferred from the nature of TrainDetectionSystem needing to define frequency bands

    sh:message "frequencyBandsForDetection: This error is due to the TrainDetectionSystem violating the rule: must have defined frequency bands for detection when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:frequencyBandsForDetection ?value } .
        # Check if the TrainDetectionSystem requires a defined frequency bands for detection
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GaugingProfile a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gaugingProfile ;
    era:scope "local" ;

    rdfs:comment "Gauges as defined in European standard or other local gauges, including lower or upper part."@en ;
    # Source: ontology comment for gaugingProfile

    sh:class geosparql:Concept ;
    # Source: inferred from ontology range as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one gauging profile reference for a CommonCharacteristicsSubset

    sh:message "gaugingProfile: The CommonCharacteristicsSubset must have at most one gauging profile reference that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a gauging profile (as an IRI)

    sh:path era:gaugingProfile ;

    sh:severity sh:Violation .

era-sh:GaugingProfileApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gaugingProfile ;
    era:scope "local" ;

    rdfs:comment "Applicable when the gauging profile must be defined for the CommonCharacteristicsSubset."@en ;
    # Source: inferred from RAG applicability note

    sh:message "gaugingProfile: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined gauging profile when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gaugingProfile ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined gauging profile
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GaugingTransversalDocument a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gaugingTransversalDocument ;
    era:scope "local" ;

    rdfs:comment "Electronic document available from the IM stored by the Agency with the transversal section of the particular points requiring specific checks due to deviations from gauging referred to in parameter 'Gauging'."@en ;
    # Source: ontology comment for gaugingTransversalDocument

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:minCount 1 ;
    # Inferred: at least one document reference is required for gauging checks

    sh:maxCount 10 ;
    # Inferred: can be repeated for multiple documents as per RAG stating Can be repeated: Y

    sh:message "gaugingTransversalDocument: The CommonCharacteristicsSubset must have at least one gauging transversal document reference that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a document (as an IRI)

    sh:path era:gaugingTransversalDocument ;

    sh:severity sh:Violation .

era-sh:GaugingTransversalDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gaugingTransversalDocument ;
    era:scope "local" ;

    rdfs:comment "Applicable when specific checks due to deviations from gauging are required."@en ;
    # Source: inferred from RAG applicability notes

    sh:message "gaugingTransversalDocument: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined gauging transversal document when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gaugingTransversalDocument ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined gauging transversal document
        FILTER EXISTS { $this era:deviationFromGauging ?deviationValue . FILTER (deviationValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmRActiveMobiles a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmRActiveMobiles ;
    era:rinfIndex "1.1.1.3.3.2" ;
    era:scope "local" ;

    rdfs:comment "Number of active GSM-R mobiles (EDOR) or simultaneous communication session on board for ETCS level 2 needed for radio block centre handovers without operational disruption."@en ;
    # Source: ontology comment for gsmRActiveMobiles

    sh:class era:Concept ;
    # Source: inferred range from ontology as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one active GSM-R mobiles reference for a CommonCharacteristicsSubset

    sh:message "gsmRActiveMobiles: The CommonCharacteristicsSubset must have at most one reference for the number of active GSM-R mobiles that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:gsmRActiveMobiles ;

    sh:severity sh:Violation .

era-sh:GsmRActiveMobilesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmRActiveMobiles ;
    era:scope "local" ;

    rdfs:comment "Applicable only when ETCS level 2 or 3 is selected for parameter 1.1.1.3.2.1."@en ;
    # Source: RAG applicability note

    sh:message "gsmRActiveMobiles: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined number of active GSM-R mobiles when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmRActiveMobiles ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined number of active GSM-R mobiles
        FILTER EXISTS { $this era:etcsLevelType ?levelType . FILTER (levelType IN ("2", "3")) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmRAdditionalInfo a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmRAdditionalInfo ;
    era:rinfIndex "1.1.1.3.3.3.1" ;
    era:scope "local" ;

    rdfs:comment "Any additional information on network characteristics or corresponding document available from the IM and stored by the Agency, e.g.; interference level, leading to the recommendation of additional on-board protection."@en ;
    # Source: ontology comment for gsmRAdditionalInfo

    sh:class era:Document ;
    # Source: ontology range is http://data.europa.eu/949/Document

    sh:minCount 1 ;
    # Inferred: at least one document reference is required for additional information

    sh:maxCount 10 ;
    # Inferred: can be repeated for multiple documents as per RAG stating Can be repeated: Y

    sh:message "gsmRAdditionalInfo: The CommonCharacteristicsSubset must have at least one reference for additional network information that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a document (as an IRI)

    sh:path era:gsmRAdditionalInfo ;

    sh:severity sh:Violation .

era-sh:GsmRAdditionalInfoApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmRAdditionalInfo ;
    era:scope "local" ;

    rdfs:comment "Applicable when GSM-R is installed and relevant additional information is available."@en ;
    # Source: inferred from the dependency note in the ontology

    sh:message "gsmRAdditionalInfo: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined additional GSM-R information when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmRAdditionalInfo ?value } .
        # Check if the CommonCharacteristicsSubset requires defined additional GSM-R information
        FILTER EXISTS { $this era:gsmRInstallation ?installationValue . FILTER (installationValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmROptionalFunctions a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmROptionalFunctions ;
    era:rinfIndex "1.1.1.3.3.3" ;
    era:scope "local" ;

    rdfs:comment "Use of optional GSM-R functions which might improve operation on the line. They are for information only and not for network access criteria."@en ;
    # Source: ontology comment for gsmROptionalFunctions

    sh:class era:Concept ;
    # Source: inferred range from ontology as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for optional GSM-R functions

    sh:message "gsmROptionalFunctions: The CommonCharacteristicsSubset must have at most one reference for optional GSM-R functions that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:gsmROptionalFunctions ;

    sh:severity sh:Violation .

era-sh:GsmROptionalFunctionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmROptionalFunctions ;
    era:scope "local" ;

    rdfs:comment "Applicable when GSM-R (parameter 1.1.1.3.3.1) is installed for this parameter to be applicable."@en ;
    # Source: dependency note in ontology

    sh:message "gsmROptionalFunctions: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined optional GSM-R functions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmROptionalFunctions ?value } .
        # Check if the CommonCharacteristicsSubset requires defined optional GSM-R functions
        FILTER EXISTS { $this era:gsmRInstallation ?installationValue . FILTER (installationValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmRRadioDataCommunication a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:gsmRRadioDataCommunication ;
    era:rinfIndex "4.13.2.7" ;
    era:scope "local" ;

    rdfs:comment "GSM-R Radio Data communication on board and its Baseline."@en ;
    # Source: ontology comment for gsmRRadioDataCommunication

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one GSM-R radio data communication reference for a VehicleType

    sh:message "gsmRRadioDataCommunication: The VehicleType must have at most one reference for GSM-R radio data communication that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a GSM-R radio data communication concept (as an IRI)

    sh:path era:gsmRRadioDataCommunication ;

    sh:severity sh:Violation .

era-sh:GsmRRadioDataCommunicationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:gsmRRadioDataCommunication ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires definition of GSM-R Radio Data communication."@en ;
    # Source: inferred from the nature of VehicleType needing to define communication characteristics

    sh:message "gsmRRadioDataCommunication: This error is due to the VehicleType violating the rule: must have defined GSM-R radio data communication when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:gsmRRadioDataCommunication ?value } .
        # Check if the VehicleType requires a defined GSM-R radio data communication
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmRVersion a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:gsmRVersion ;
    era:rinfIndex "4.13.2" ;
    era:scope "local" ;

    rdfs:comment "GSM-R version installed lineside."@en ;
    # Source: ontology comment for gsmRVersion

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology as it can refer to various GSM-R version concepts

    sh:maxCount 10 ;
    # Inferred: can be repeated for multiple versions as stated in RAG that it can have multiple values

    sh:message "gsmRVersion: The VehicleType must have at most ten references for GSM-R versions that are Resources."@en ;
    # Source: inferred from the nature of the property and RAG stating Can be repeated: Y

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a GSM-R version concept (as an IRI)

    sh:path era:gsmRVersion ;

    sh:severity sh:Violation .

era-sh:GsmRVersionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:gsmRVersion ;
    era:scope "local" ;

    rdfs:comment "Applicable if GSM-R is installed for this parameter to be applicable."@en ;
    # Source: dependency note in the ontology

    sh:message "gsmRVersion: This error is due to the VehicleType violating the rule: must have defined GSM-R version when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:gsmRVersion ?value } .
        # Check if the VehicleType requires a defined GSM-R version
        FILTER EXISTS { $this era:gsmRInstallation ?installationValue . FILTER (installationValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmrConstraintsOperateOnlyInCircuitSwitch a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmrConstraintsOperateOnlyInCircuitSwitch ;
    era:rinfIndex "1.2.1.1.2.12" ;
    era:scope "local" ;

    rdfs:comment "These constraints, where applicable, are meant to manage the limited number of circuit-switched radio connections that can be handled simultaneously by a Radio Block Center."@en ;
    # Source: ontology comment for gsmrConstraintsOperateOnlyInCircuitSwitch

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology as it can refer to various concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for GSM-R constraints operating only in circuit switch

    sh:message "gsmrConstraintsOperateOnlyInCircuitSwitch: The CommonCharacteristicsSubset must have at most one reference for GSM-R constraints that is a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:gsmrConstraintsOperateOnlyInCircuitSwitch ;

    sh:severity sh:Violation .

era-sh:GsmrConstraintsOperateOnlyInCircuitSwitchApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmrConstraintsOperateOnlyInCircuitSwitch ;
    era:scope "local" ;

    rdfs:comment "Applicable when GSM-R and ETCS L2 must be installed for this parameter to be applicable."@en ;
    # Source: dependency note in the ontology

    sh:message "gsmrConstraintsOperateOnlyInCircuitSwitch: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined GSM-R constraints when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmrConstraintsOperateOnlyInCircuitSwitch ?value } .
        # Check if the CommonCharacteristicsSubset requires defined GSM-R constraints
        FILTER EXISTS { $this era:gsmRInstallation ?installationValue . FILTER (installationValue = "Y") } .
        FILTER EXISTS { $this era:etcsLevelType ?levelType . FILTER (levelType IN ("2", "3")) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmrNetworkCoverage a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmrNetworkCoverage ;
    era:rinfIndex "1.1.1.3.3.5" ;
    era:scope "local" ;

    rdfs:comment "Name of the own GSM-R network and list of GSM-R networks which are covered by a roaming agreement (for CS services)."@en ;
    # Source: ontology comment for gsmrNetworkCoverage

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology, as it can refer to various concepts

    sh:maxCount 10 ;
    # Inferred: can be repeated for multiple GSM-R networks as per RAG stating Can be repeated: Y

    sh:message "gsmrNetworkCoverage: The CommonCharacteristicsSubset must have at most ten references for GSM-R networks covered by a roaming agreement that are Resources."@en ;
    # Source: inferred from the nature of the property and RAG stating Can be repeated: Y

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a GSM-R network concept (as an IRI)

    sh:path era:gsmrNetworkCoverage ;

    sh:severity sh:Violation .

era-sh:GsmrNetworkCoverageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gsmrNetworkCoverage ;
    era:scope "local" ;

    rdfs:comment "Applicable when GSM-R is installed and the parameter is relevant for the CommonCharacteristicsSubset."@en ;
    # Source: dependency note in the ontology

    sh:message "gsmrNetworkCoverage: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined GSM-R network coverage when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmrNetworkCoverage ?value } .
        # Check if the CommonCharacteristicsSubset requires defined GSM-R network coverage
        FILTER EXISTS { $this era:gsmRInstallation ?installationValue . FILTER (installationValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasAbstraction a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:hasAbstraction ;
    era:scope "local" ;

    rdfs:comment "Property that links a physical entity with its topological abstraction representation."@en ;
    # Source: ontology comment for hasAbstraction

    sh:class era:AbstractionRepresentation ; 
    # Inferred: expected to reference a specific class representing abstractions

    sh:maxCount 1 ;
    # Inferred: expected at most one abstraction reference for an InfrastructureElement

    sh:message "hasAbstraction: The InfrastructureElement must have at most one abstraction reference that is an AbstractionRepresentation."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an abstraction representation (as an IRI)

    sh:path era:hasAbstraction ;

    sh:severity sh:Violation .

era-sh:HasLRS a sh:PropertyShape ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:hasLRS ;
    era:scope "local" ;

    rdfs:comment "Specifies the linear referencing system to which the kilometre post is referenced. The linear referencing system is commonly the main railway line and it provides the framework for identifying the post's location along the railway line, using distance measurements rather than geographical coordinates."@en ;
    # Source: ontology comment for hasLRS

    sh:class era:LinearPositioningSystem ;
    # Source: ontology range is http://data.europa.eu/949/LinearPositioningSystem

    sh:maxCount 1 ;
    # Inferred: expected at most one linear referencing system reference for a KilometricPost

    sh:message "hasLRS: The KilometricPost must have at most one reference for the linear referencing system that is a LinearPositioningSystem."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a linear positioning system (as an IRI)

    sh:path era:hasLRS ;

    sh:severity sh:Violation .

era-sh:HasLrsCoordinate a sh:PropertyShape ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:hasLrsCoordinate ;
    era:scope "local" ;

    rdfs:comment "Specifies the LRS coordinate associated with a topological coordinate."@en ;
    # Source: ontology comment for hasLrsCoordinate

    sh:class era:LinearPositioningSystemCoordinate ;
    # Source: ontology range is http://data.europa.eu/949/LinearPositioningSystemCoordinate

    sh:minCount 1 ;
    # Inferred: at least one LRS coordinate must be specified for each NetPointReference

    sh:maxCount 1 ;
    # Inferred: can only have one LRS coordinate for a specific reference point

    sh:message "hasLrsCoordinate: The NetPointReference must have exactly one LRS coordinate that is a LinearPositioningSystemCoordinate."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an LRS coordinate (as an IRI)

    sh:path era:hasLrsCoordinate ;

    sh:severity sh:Violation .

era-sh:HasLrsCoordinateApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:hasLrsCoordinate ;
    era:scope "local" ;

    rdfs:comment "Applicable when a coordinate is required for defining the position of the NetPointReference."@en ;
    # Source: inferred from the need for coordinates in relation to topological positioning

    sh:message "hasLrsCoordinate: This error is due to the NetPointReference violating the rule: must have defined LRS coordinate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?pointLabel WHERE {
        $this rdfs:label ?pointLabel .
        FILTER NOT EXISTS { $this era:hasLrsCoordinate ?value } .
        # Check if the NetPointReference requires a defined LRS coordinate
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasOrganisationRole a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:hasOrganisationRole ;
    era:scope "local" ;

    rdfs:comment "Relates the Organisation role instance (the role played by an Organisation) with the specific role in the taxonomy of organisation roles."@en ;
    # Source: ontology comment for hasOrganisationRole

    sh:class rdfs:Concept ;
    # Source: inferred range from ontology as it refers to SKOS concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one organisation role reference for an OrganisationRole

    sh:message "hasOrganisationRole: The OrganisationRole must have at most one reference for the organisation role that is a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a concept (as an IRI)

    sh:path era:hasOrganisationRole ;

    sh:severity sh:Violation .

era-sh:HasOrganisationRoleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:hasOrganisationRole ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OrganisationRole is defined and requires a specific role in the taxonomy."@en ;
    # Source: inferred from the nature of OrganisationRole needing a defined role

    sh:message "hasOrganisationRole: This error is due to the OrganisationRole violating the rule: must have defined organisation role when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?roleLabel WHERE {
        $this rdfs:label ?roleLabel .
        FILTER NOT EXISTS { $this era:hasOrganisationRole ?value } .
        # Check if the OrganisationRole requires a defined organisation role
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasOrientation a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:hasOrientation ;
    era:scope "local" ;

    rdfs:comment "The orientation of the signal in relation to the carrier linear element. Possible values: Normal, Opposite, Both."@en ;
    # Source: ontology comment for hasOrientation

    sh:class era:Orientation ;
    # Source: ontology range is http://data.europa.eu/949/Orientation

    sh:maxCount 1 ;
    # Inferred: expected at most one orientation reference for a Signal

    sh:message "hasOrientation: The Signal must have at most one orientation that is an Orientation."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an orientation (as an IRI)

    sh:path era:hasOrientation ;

    sh:severity sh:Violation .

era-sh:HasOrientationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:hasOrientation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the orientation of the signal must be defined."@en ;
    # Source: inferred from the need for orientation in relation to signal properties

    sh:message "hasOrientation: This error is due to the Signal violating the rule: must have defined orientation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?signalLabel WHERE {
        $this rdfs:label ?signalLabel .
        FILTER NOT EXISTS { $this era:hasOrientation ?value } .
        # Check if the Signal requires a defined orientation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasPart a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:hasPart ;
    era:scope "local" ;

    rdfs:comment "Indicates that an infrastructure element is composed of one or more other (distinct) infrastructure elements. This property is used to represent part-whole relationships between infrastructure elements. An element cannot be a part of itself."@en ;
    # Source: ontology comment for hasPart

    sh:class era:InfrastructureElement ;
    # Source: inferred from ontology range as hasPart relates to InfrastructureElement

    sh:maxCount 1 ;
    # Inferred: expected at most one part to model part-whole structure, as per ontology definition

    sh:message "hasPart: The InfrastructureElement must have at most one hasPart reference that is an InfrastructureElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference another infrastructure element (as an IRI)

    sh:path era:hasPart ;

    sh:severity sh:Violation .

era-sh:HasPartIrreflexivity a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:hasPart ;
    era:scope "local" ;

    rdfs:comment "Enforces irreflexivity of hasPart: an element cannot be a part of itself."@en ;
    # Source: ontology declares owl:IrreflexiveProperty

    sh:message "hasPart: The InfrastructureElement {?thisLabel} cannot have itself as part."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel WHERE {
        $this rdfs:label ?thisLabel .
        FILTER EXISTS { $this era:hasPart $this } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasSchematicOverviewOPDigitalForm a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:hasSchematicOverviewOPDigitalForm ;
    era:rinfIndex "1.2.0.0.0.7" ;
    era:scope "local" ;

    rdfs:comment "The existence of a schematic overview of the operational point in digital form."@en ;
    # Source: ontology comment for hasSchematicOverviewOPDigitalForm

    sh:datatype xsd:boolean ;
    # Source: ontology range is xsd:boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one schematic overview reference for an OperationalPoint

    sh:message "hasSchematicOverviewOPDigitalForm: The OperationalPoint must have at most one reference for a schematic overview in digital form that is a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a schematic overview concept (as an IRI)

    sh:path era:hasSchematicOverviewOPDigitalForm ;

    sh:severity sh:Violation .

era-sh:HasSchematicOverviewOPDigitalFormApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:hasSchematicOverviewOPDigitalForm ;
    era:scope "local" ;

    rdfs:comment "Applicable when the operational point requires a schematic overview in digital form."@en ;
    # Source: inferred from the nature of OperationalPoint needing a schematic overview

    sh:message "hasSchematicOverviewOPDigitalForm: This error is due to the OperationalPoint violating the rule: must have defined schematic overview in digital form when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:hasSchematicOverviewOPDigitalForm ?value } .
        # Check if the OperationalPoint requires a defined schematic overview in digital form
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasSequence a sh:PropertyShape ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:hasSequence ;
    era:scope "local" ;

    rdfs:comment "The ordered sequence of topological linear elements which create a linear net reference."@en ;
    # Source: ontology comment for hasSequence

    sh:class rdf:List ;
    # Source: inferred range from ontology as hasSequence is expected to be a list of elements

    sh:minCount 1 ;
    # Inferred: at least one sequence element must be present for a valid linear reference

    sh:message "hasSequence: The NetLinearReference must have at least one sequence defined as a List."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a list of topological elements (as an IRI)

    sh:path era:hasSequence ;

    sh:severity sh:Violation .

era-sh:HasSequenceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:hasSequence ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetLinearReference requires a defined sequence of elements."@en ;
    # Source: inferred from the need for sequences in relation to linear references

    sh:message "hasSequence: This error is due to the NetLinearReference violating the rule: must have defined sequence when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?referenceLabel WHERE {
        $this rdfs:label ?referenceLabel .
        FILTER NOT EXISTS { $this era:hasSequence ?value } .
        # Check if the NetLinearReference requires a defined sequence
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasTopoCoordinate a sh:PropertyShape ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:hasTopoCoordinate ;
    era:scope "local" ;

    rdfs:comment "Specifies the topological coordinate of a network point reference."@en ;
    # Source: ontology comment for hasTopoCoordinate

    sh:class era:TopologicalCoordinate ;
    # Source: ontology range is era:TopologicalCoordinate

    sh:maxCount 1 ;
    # Inferred: expected at most one topological coordinate for a NetPointReference

    sh:message "hasTopoCoordinate: The NetPointReference must have at most one topological coordinate that is a TopologicalCoordinate."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a topological coordinate (as an IRI)

    sh:path era:hasTopoCoordinate ;

    sh:severity sh:Violation .

era-sh:HasTopoCoordinateApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetPointReference ;
    era:affectedProperty era:hasTopoCoordinate ;
    era:scope "local" ;

    rdfs:comment "Applicable when a topological coordinate is required for defining the position of the NetPointReference."@en ;
    # Source: inferred from the need for coordinates in relation to topological positioning

    sh:message "hasTopoCoordinate: This error is due to the NetPointReference violating the rule: must have defined topological coordinate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?pointLabel WHERE {
        $this rdfs:label ?pointLabel .
        FILTER NOT EXISTS { $this era:hasTopoCoordinate ?value } .
        # Check if the NetPointReference requires a defined topological coordinate
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorDirection a sh:PropertyShape ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorDirection ;
    era:rinfIndex "1.1.1.1.7.9" ;
    era:scope "local" ;

    rdfs:comment "Direction of measurement of trackside HABD, specific for the French, Italian and Swedish networks."@en ;
    # Source: ontology comment for hotAxleBoxDetectorDirection

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology as it can refer to predefined concepts

    sh:maxCount 1 ;
    # Inferred: expected at most one direction value for a HABD

    sh:message "hotAxleBoxDetectorDirection: The HABD must have at most one direction value that is a predefined concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a predefined concept (as an IRI)

    sh:path era:hotAxleBoxDetectorDirection ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorDirectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorDirection ;
    era:scope "local" ;

    rdfs:comment "Applicable if trackside HABD is not TSI compliant, direction of measurement of trackside hot axle box detector."@en ;
    # Source: dependency note in the ontology

    sh:message "hotAxleBoxDetectorDirection: This error is due to the HABD violating the rule: must have defined direction of measurement when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?habdLabel WHERE {
        $this rdfs:label ?habdLabel .
        FILTER NOT EXISTS { $this era:hotAxleBoxDetectorDirection ?value } .
        # Check if the HABD requires a defined direction of measurement
        FILTER EXISTS { $this era:tsiCompliance ?tsiValue . FILTER (tsiValue = "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:InCountry a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:inCountry ;
    era:scope "local" ;

    rdfs:comment "Indicates the country in which an entity resides."@en ;
    # Source: ontology comment for inCountry

    sh:class geosparql:Feature ; 
    # Inferred: expected to reference a geographic feature representing a country

    sh:maxCount 1 ;
    # Inferred: expected at most one country reference for a CommonCharacteristicsSubset

    sh:message "inCountry: The CommonCharacteristicsSubset must have at most one inCountry reference that is a Feature."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a geographic feature (as an IRI)

    sh:path era:inCountry ;

    sh:severity sh:Violation .

era-sh:InCountryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:inCountry ;
    era:scope "local" ;

    rdfs:comment "Applicable when a CommonCharacteristicsSubset is defined and requires a specific country."@en ;
    # Source: inferred from the nature of CommonCharacteristicsSubset needing a defined country

    sh:message "inCountry: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined inCountry when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:inCountry ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined country
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Includes a sh:PropertyShape ;
    era:affectedClass era:NetAreaReference ;
    era:affectedProperty era:includes ;
    era:scope "local" ;

    rdfs:comment "List of linear references included in a network area reference."@en ;
    # Source: ontology comment for includes

    sh:class rdf:List ;
    # Source: inferred range from ontology as includes is expected to be a list of linear references

    sh:minCount 1 ;
    # Inferred: at least one linear reference must be included for a valid NetAreaReference

    sh:message "includes: The NetAreaReference must have at least one reference defined as a List."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a list of linear references (as an IRI)

    sh:path era:includes ;

    sh:severity sh:Violation .

era-sh:IncludesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetAreaReference ;
    era:affectedProperty era:includes ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetAreaReference requires a defined list of linear references."@en ;
    # Source: inferred from the need for linear references in relation to the area reference

    sh:message "includes: This error is due to the NetAreaReference violating the rule: must have defined includes when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?referenceLabel WHERE {
        $this rdfs:label ?referenceLabel .
        FILTER NOT EXISTS { $this era:includes ?value } .
        # Check if the NetAreaReference requires a defined list of linear references
    }
    """ ;

    sh:severity sh:Violation .

era-sh:InfrastructureManager a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:infrastructureManager ; 
    era:scope "local" ;

    rdfs:comment "Relates a subset with common characteristics with its Infrastructure Manager (IM), represented by an instance of OrganisationRole."@en ;
    # Source: ontology comment for infrastructureManager

    sh:class era:OrganisationRole ; 
    # Source: ontology range is http://data.europa.eu/949/OrganisationRole

    sh:maxCount 1 ; 
    # Inferred: expected at most one infrastructure manager reference for a CommonCharacteristicsSubset

    sh:message "infrastructureManager: The CommonCharacteristicsSubset must have at most one infrastructure manager reference that is an OrganisationRole."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference an OrganisationRole (as an IRI)

    sh:path era:infrastructureManager ;

    sh:severity sh:Violation .

era-sh:InfrastructureManagerApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:infrastructureManager ; 
    era:scope "local" ;

    rdfs:comment "Applicable when a CommonCharacteristicsSubset is defined and requires a specific Infrastructure Manager."@en ;
    # Source: inferred from the nature of CommonCharacteristicsSubset needing an Infrastructure Manager

    sh:message "infrastructureManager: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined infrastructure manager when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:infrastructureManager ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined infrastructure manager
    }
    """ ;

    sh:severity sh:Violation .

era-sh:InfrastructureMgr a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:infrastructureMgr ;
    era:scope "local" ;

    rdfs:comment "(deprecated) not in use. Relates any feature implemented in the European railway infrastructure with its infrastructure manager."@en ;
    # Source: ontology comment for infrastructureMgr

    sh:class era:InfrastructureManager ;
    # Source: inferred range from ontology as it relates to InfrastructureManager

    sh:maxCount 1 ;
    # Inferred: expected at most one infrastructure manager reference for an InfrastructureElement

    sh:message "infrastructureMgr: The InfrastructureElement must have at most one infrastructure manager reference that is an InfrastructureManager."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an InfrastructureManager (as an IRI)

    sh:path era:infrastructureMgr ;

    sh:severity sh:Violation .

era-sh:InfrastructureMgrApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:infrastructureMgr ;
    era:scope "local" ;

    rdfs:comment "Applicable when an InfrastructureElement is defined and requires a specific Infrastructure Manager."@en ;
    # Source: inferred from the nature of InfrastructureElement needing a defined Infrastructure Manager

    sh:message "infrastructureMgr: This error is due to the InfrastructureElement violating the rule: must have defined infrastructure manager when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:infrastructureMgr ?value } .
        # Check if the InfrastructureElement requires a defined infrastructure manager
    }
    """ ;

    sh:severity sh:Violation .

era-sh:InstructionsSwitchRadioSystems a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:instructionsSwitchRadioSystems ;
    era:scope "local" ;

    rdfs:comment "Name and/or reference of the document specifying the Special instructions to switch over between different radio systems."@en ;
    # Source: ontology comment for instructionsSwitchRadioSystems

    sh:class era:Document ;
    # Source: inferred from ontology range as instructionsSwitchRadioSystems relates to Document

    sh:maxCount 1 ;
    # Inferred: expected at most one instructions reference for a CommonCharacteristicsSubset

    sh:message "instructionsSwitchRadioSystems: The CommonCharacteristicsSubset must have at most one reference for instructions that is a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a document (as an IRI)

    sh:path era:instructionsSwitchRadioSystems ;

    sh:severity sh:Violation .

era-sh:InstructionsSwitchRadioSystemsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:instructionsSwitchRadioSystems ;
    era:scope "local" ;

    rdfs:comment "Applicable when at least two different radio systems exist."@en ;
    # Source: dependency note in the ontology

    sh:message "instructionsSwitchRadioSystems: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined instructions for switching radio systems when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:instructionsSwitchRadioSystems ?value } .
        # Check if the CommonCharacteristicsSubset requires defined instructions for switching radio systems
        FILTER EXISTS { $this era:hasRadioSystems ?radioValue . FILTER (radioValue >= 2) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:IsPartOf a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:isPartOf ;
    era:scope "local" ;

    rdfs:comment "Indicates that an infrastructure element is a part of another (distinct) infrastructure element. An element cannot be part of itself. This property is the inverse of era:hasPart."@en ;
    # Source: ontology comment for isPartOf

    sh:class era:InfrastructureElement ;
    # Source: inferred from ontology range as isPartOf relates to InfrastructureElement

    sh:maxCount 1 ;
    # Inferred: expected at most one parent element for the part-whole relationship

    sh:message "isPartOf: The InfrastructureElement must have at most one isPartOf reference that is an InfrastructureElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference another infrastructure element (as an IRI)

    sh:path era:isPartOf ;

    sh:severity sh:Violation .

era-sh:IsPartOfIrreflexivity a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:isPartOf ;
    era:scope "local" ;

    rdfs:comment "Enforces irreflexivity of isPartOf: an element cannot be part of itself."@en ;
    # Source: ontology declares owl:IrreflexiveProperty

    sh:message "isPartOf: The InfrastructureElement {?thisLabel} cannot be part of itself."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?thisLabel WHERE {
        $this rdfs:label ?thisLabel .
        FILTER EXISTS { $this era:isPartOf $this } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:KmPost a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystemCoordinate ;
    era:affectedProperty era:kmPost ;
    era:scope "local" ;

    rdfs:comment "The closest kilometric post on the line, used as a reference by the LRS coordinate."@en ;
    # Source: ontology comment for kmPost

    sh:class era:KilometricPost ;
    # Source: ontology range is era:KilometricPost

    sh:maxCount 1 ;
    # Inferred: expected at most one kilometric post reference for a LinearPositioningSystemCoordinate

    sh:message "kmPost: The LinearPositioningSystemCoordinate must have at most one reference for a KilometricPost."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a kilometric post (as an IRI)

    sh:path era:kmPost ;

    sh:severity sh:Violation .

era-sh:KmPostApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearPositioningSystemCoordinate ;
    era:affectedProperty era:kmPost ;
    era:scope "local" ;

    rdfs:comment "Applicable when a LinearPositioningSystemCoordinate requires a reference to a kilometric post."@en ;
    # Source: inferred from the nature of LinearPositioningSystemCoordinate requiring a reference to a kilometric post

    sh:message "kmPost: This error is due to the LinearPositioningSystemCoordinate violating the rule: must have defined kmPost when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?coordinateLabel WHERE {
        $this rdfs:label ?coordinateLabel .
        FILTER NOT EXISTS { $this era:kmPost ?value } .
        # Check if the LinearPositioningSystemCoordinate requires a defined kilometric post
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LegacyRadioSystem a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:legacyRadioSystem ;
    era:scope "local" ;

    rdfs:comment "Indication of radio legacy systems installed."@en ;
    # Source: ontology comment for legacyRadioSystem

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology as it can refer to any resource

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for legacy radio system

    sh:message "legacyRadioSystem: The CommonCharacteristicsSubset must have at most one legacy radio system reference that is a valid resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a legacy radio system (as an IRI)

    sh:path era:legacyRadioSystem ;

    sh:severity sh:Violation .

era-sh:LegacyRadioSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:legacyRadioSystem ;
    era:scope "local" ;

    rdfs:comment "Applicable when a CommonCharacteristicsSubset requires a defined legacy radio system."@en ;
    # Source: inferred from the need for legacy radio systems in relation to common characteristics

    sh:message "legacyRadioSystem: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined legacy radio system when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:legacyRadioSystem ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined legacy radio system
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LineCategory a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:lineCategory ;
    era:rinfIndex "1.1.1.1.2.2" ;
    era:scope "local" ;

    rdfs:comment "Classification of a line according to the TSI INF."@en ;
    # Source: ontology comment for lineCategory

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology as lineCategory can refer to predefined concepts

    sh:minCount 1 ;
    # Inferred: at least one category must be defined for a RunningTrack

    sh:message "lineCategory: The RunningTrack must have at least one line category defined as a valid TSI category."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid category (as an IRI)

    sh:path era:lineCategory ;

    sh:severity sh:Violation .

era-sh:LineCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:lineCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when a RunningTrack requires a defined line category for classification."@en ;
    # Source: inferred from the nature of RunningTrack needing a defined line category

    sh:message "lineCategory: This error is due to the RunningTrack violating the rule: must have defined line category when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:lineCategory ?value } .
        # Check if the RunningTrack requires a defined line category
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LineNationalId a sh:PropertyShape ;
    era:affectedClass era:LineReference ; 
    era:affectedProperty era:lineNationalId ; 
    era:rinfIndex "1.1.0.0.0.2" ; 
    era:scope "local" ; 

    rdfs:comment "Unique line identification or unique line number within Member State."@en ; 
    # Source: ontology comment for lineNationalId

    sh:datatype xsd:string ; 
    # Inferred: based on the nature of the line identification as a character string

    sh:maxCount 1 ; 
    # Inferred: expected at most one national line ID for each LineReference

    sh:message "lineNationalId: The LineReference must have at most one line national ID defined as a string."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a literal (as a character string)

    sh:path era:lineNationalId ; 

    sh:severity sh:Violation . 

era-sh:LineNationalIdApplicability a sh:SPARQLConstraint ; 
    era:affectedClass era:LineReference ; 
    era:affectedProperty era:lineNationalId ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when a LineReference requires a defined national line identification."@en ; 
    # Source: inferred from the nature of LineReference needing a national line ID

    sh:message "lineNationalId: This error is due to the LineReference violating the rule: must have defined line national ID when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?lineLabel WHERE {
        $this rdfs:label ?lineLabel .
        FILTER NOT EXISTS { $this era:lineNationalId ?value } .
        # Check if the LineReference requires a defined national line ID
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:LineReference a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:lineReference ;
    era:scope "local" ;

    rdfs:comment "Indicates a relationship with a national railway line at a specific kilometer point."@en ;
    # Source: ontology comment for lineReference

    sh:class era:LineReference ;
    # Source: inferred range from ontology as lineReference relates to LineReference

    sh:maxCount 1 ;
    # Inferred: expected at most one line reference for an InfrastructureElement

    sh:message "lineReference: The InfrastructureElement must have at most one lineReference defined as a LineReference."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a LineReference (as an IRI)

    sh:path era:lineReference ;

    sh:severity sh:Violation .

era-sh:LineReferenceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:lineReference ;
    era:scope "local" ;

    rdfs:comment "Applicable when an InfrastructureElement requires a defined line reference."@en ;
    # Source: inferred from the nature of InfrastructureElement needing a defined line reference

    sh:message "lineReference: This error is due to the InfrastructureElement violating the rule: must have defined lineReference when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:lineReference ?value } .
        # Check if the InfrastructureElement requires a defined line reference
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LineReferenceTunnelEnd a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lineReferenceTunnelEnd ;
    era:rinfIndex "1.1.1.1.8.4" ;
    era:scope "local" ;

    rdfs:comment "Geographical coordinates in decimal degrees and km of the line at the end of a tunnel."@en ;
    # Source: ontology comment for lineReferenceTunnelEnd

    sh:class era:NetPointReference ;
    # Source: inferred range from ontology as lineReferenceTunnelEnd relates to NetPointReference

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for the end of a tunnel

    sh:message "lineReferenceTunnelEnd: The Tunnel must have at most one line reference indicating the end of the tunnel defined as a NetPointReference."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a NetPointReference (as an IRI)

    sh:path era:lineReferenceTunnelEnd ;

    sh:severity sh:Violation .

era-sh:LineReferenceTunnelEndApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lineReferenceTunnelEnd ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Tunnel requires a defined line reference at the end."@en ;
    # Source: inferred from the need for line references in relation to the tunnel

    sh:message "lineReferenceTunnelEnd: This error is due to the Tunnel violating the rule: must have defined lineReferenceTunnelEnd when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:lineReferenceTunnelEnd ?value } .
        # Check if the Tunnel requires a defined line reference at the end
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LineReferenceTunnelStart a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lineReferenceTunnelStart ;
    era:rinfIndex "1.1.1.1.8.3" ;
    era:scope "local" ;

    rdfs:comment "Geographical coordinates in decimal degrees and km of the line at the beginning of a tunnel."@en ;
    # Source: ontology comment for lineReferenceTunnelStart

    sh:class era:NetPointReference ;
    # Source: inferred range from ontology as lineReferenceTunnelStart relates to NetPointReference

    sh:maxCount 1 ;
    # Inferred: expected at most one reference for the start of a tunnel

    sh:message "lineReferenceTunnelStart: The Tunnel must have at most one line reference indicating the start of the tunnel defined as a NetPointReference."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a NetPointReference (as an IRI)

    sh:path era:lineReferenceTunnelStart ;

    sh:severity sh:Violation .

era-sh:LineReferenceTunnelStartApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lineReferenceTunnelStart ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Tunnel requires a defined line reference at the start."@en ;
    # Source: inferred from the need for line references in relation to the tunnel

    sh:message "lineReferenceTunnelStart: This error is due to the Tunnel violating the rule: must have defined lineReferenceTunnelStart when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:lineReferenceTunnelStart ?value } .
        # Check if the Tunnel requires a defined line reference at the start
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndication a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:linesideDistanceIndication ;
    era:rinfIndex "1.1.1.0.0.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
    # Source: ontology comment for linesideDistanceIndication

    sh:class era:LinesideDistanceIndication ;
    # Source: inferred from ontology range which defines the type of lineside distance indication

    sh:maxCount 1 ;
    # Inferred: expected at most one lineside distance indication reference for a CommonCharacteristicsSubset

    sh:message "linesideDistanceIndication: The CommonCharacteristicsSubset must have at most one reference for a LinesideDistanceIndication."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a LinesideDistanceIndication (as an IRI)

    sh:path era:linesideDistanceIndication ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:linesideDistanceIndication ;
    era:scope "local" ;

    rdfs:comment "Applicable when a CommonCharacteristicsSubset requires a defined lineside distance indication."@en ;
    # Source: inferred from the nature of CommonCharacteristicsSubset needing a lineside distance indication

    sh:message "linesideDistanceIndication: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined lineside distance indication when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:linesideDistanceIndication ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined lineside distance indication
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationAppearance a sh:PropertyShape ;
    era:affectedClass era:LinesideDistanceIndication ;
    era:affectedProperty era:linesideDistanceIndicationAppearance ;
    era:scope "local" ;

    rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
    # Source: ontology comment for linesideDistanceIndicationAppearance

    sh:class geosparql:Concept ;
    # Source: inferred from ontology range which defines the type of lineside distance indication appearance

    sh:maxCount 1 ;
    # Inferred: expected at most one lineside distance indication appearance reference for a LinesideDistanceIndication

    sh:message "linesideDistanceIndicationAppearance: The LinesideDistanceIndication must have at most one reference for a LinesideDistanceIndicationAppearance."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a LinesideDistanceIndicationAppearance (as an IRI)

    sh:path era:linesideDistanceIndicationAppearance ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationAppearanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinesideDistanceIndication ;
    era:affectedProperty era:linesideDistanceIndicationAppearance ;
    era:scope "local" ;

    rdfs:comment "Applicable when a LinesideDistanceIndication requires a defined lineside distance indication appearance."@en ;
    # Source: inferred from the nature of LinesideDistanceIndication needing a lineside distance indication appearance

    sh:message "linesideDistanceIndicationAppearance: This error is due to the LinesideDistanceIndication violating the rule: must have defined lineside distance indication appearance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?indicationLabel WHERE {
        $this rdfs:label ?indicationLabel .
        FILTER NOT EXISTS { $this era:linesideDistanceIndicationAppearance ?value } .
        # Check if the LinesideDistanceIndication requires a defined lineside distance indication appearance
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationPositioning a sh:PropertyShape ;
    era:affectedClass era:LinesideDistanceIndication ;
    era:affectedProperty era:linesideDistanceIndicationPositioning ;
    era:scope "local" ;

    rdfs:comment "Indication of the side along the track where the lineside indication is positioned (left or right, or both sides)."@en ;
    # Source: ontology comment for linesideDistanceIndicationPositioning

    sh:class sh:Concept ;
    # Source: inferred from ontology range as it relates to a concept defined in SKOS

    sh:maxCount 1 ;
    # Inferred: expected at most one positioning reference for a LinesideDistanceIndication

    sh:message "linesideDistanceIndicationPositioning: The LinesideDistanceIndication must have at most one reference for a lineside distance indication positioning."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a positioning concept (as an IRI)

    sh:path era:linesideDistanceIndicationPositioning ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationPositioningApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinesideDistanceIndication ;
    era:affectedProperty era:linesideDistanceIndicationPositioning ;
    era:scope "local" ;

    rdfs:comment "Applicable when a LinesideDistanceIndication requires a defined lineside distance indication positioning."@en ;
    # Source: inferred from the nature of LinesideDistanceIndication needing a positioning indication

    sh:message "linesideDistanceIndicationPositioning: This error is due to the LinesideDistanceIndication violating the rule: must have defined lineside distance indication positioning when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?indicationLabel WHERE {
        $this rdfs:label ?indicationLabel .
        FILTER NOT EXISTS { $this era:linesideDistanceIndicationPositioning ?value } .
        # Check if the LinesideDistanceIndication requires a defined lineside distance indication positioning
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LinkedToPrimaryLocation a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:linkedToPrimaryLocation ;
    era:scope "local" ;

    rdfs:comment "Relates a subsidiary location with a primary location."@en ;
    # Source: ontology comment for linkedToPrimaryLocation

    sh:class era:PrimaryLocation ;
    # Source: ontology range is era:PrimaryLocation

    sh:maxCount 1 ;
    # Inferred: expected at most one primary location reference for a SubsidiaryLocation

    sh:message "linkedToPrimaryLocation: The SubsidiaryLocation must have at most one reference to a PrimaryLocation."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a primary location (as an IRI)

    sh:path era:linkedToPrimaryLocation ;

    sh:severity sh:Violation .

era-sh:LinkedToPrimaryLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:linkedToPrimaryLocation ;
    era:scope "local" ;

    rdfs:comment "Applicable when a SubsidiaryLocation requires a reference to a PrimaryLocation."@en ;
    # Inferred: the need for a primary location reference in the context of subsidiary locations

    sh:message "linkedToPrimaryLocation: This error is due to the SubsidiaryLocation violating the rule: must have defined linkedToPrimaryLocation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsidiaryLabel WHERE {
        $this rdfs:label ?subsidiaryLabel .
        FILTER NOT EXISTS { $this era:linkedToPrimaryLocation ?value } .
        # Check if the SubsidiaryLocation requires a defined linkedToPrimaryLocation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LoadCapabilityLineCategory a sh:PropertyShape ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilityLineCategory ;
    era:scope "local" ;

    rdfs:comment "Part of the load capability of a track that corresponds to the line category of the load model."@en ;
    # Source: ontology comment for loadCapabilityLineCategory

    sh:class rdfs:Resource ;
    # Source: inferred range from ontology as it can refer to any load capability concept

    sh:minCount 1 ;
    # Inferred: at least one load capability line category must be defined for a LoadCapability

    sh:message "loadCapabilityLineCategory: The LoadCapability must have at least one load capability line category defined as a valid concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a load capability line category (as an IRI)

    sh:path era:loadCapabilityLineCategory ;

    sh:severity sh:Violation .

era-sh:LoadCapabilityLineCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilityLineCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when a LoadCapability requires a defined load capability line category."@en ;
    # Source: inferred from the need for load capability line categories in relation to load capability

    sh:message "loadCapabilityLineCategory: This error is due to the LoadCapability violating the rule: must have defined load capability line category when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?loadCapabilityLabel WHERE {
        $this rdfs:label ?loadCapabilityLabel .
        FILTER NOT EXISTS { $this era:loadCapabilityLineCategory ?value } .
        # Check if the LoadCapability requires a defined load capability line category
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LocalRulesOrRestrictionsDoc a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:localRulesOrRestrictionsDoc ;
    era:rinfIndex "1.1.1.4.2" ;
    era:scope "local" ;

    rdfs:comment "Electronic document available from the IM stored by the Agency providing additional information regarding the rules or restrictions of a strictly local nature."@en ;
    # Source: ontology comment for localRulesOrRestrictionsDoc

    sh:class era:Document ;
    # Source: inferred range from ontology as localRulesOrRestrictionsDoc relates to Document

    sh:minCount 1 ;
    # Inferred: at least one document must be provided if the corresponding parameter is 'Yes'

    sh:message "localRulesOrRestrictionsDoc: The InfrastructureElement must have at least one local rules or restrictions document defined as a Document."@en ;
    # Source: inferred from the nature of the property and its applicability

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Document (as an IRI)

    sh:path era:localRulesOrRestrictionsDoc ;

    sh:severity sh:Violation .

era-sh:LocalRulesOrRestrictionsDocApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:localRulesOrRestrictionsDoc ;
    era:scope "local" ;

    rdfs:comment "Applicable when the parameter 'Existence of rules and restrictions of a strictly local nature' is 'Yes'."@en ;
    # Source: inferred from the dependency note in the ontology

    sh:message "localRulesOrRestrictionsDoc: This error is due to the InfrastructureElement violating the rule: must have defined local rules or restrictions document when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER EXISTS { $this era:localRulesOrRestrictionsDoc ?doc } .
        FILTER NOT EXISTS { $this era:localRulesOrRestrictionsDoc ?value } .
        # Check if the InfrastructureElement requires a defined local rules or restrictions document
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LrsMethod a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lrsMethod ;
    era:scope "local" ;

    rdfs:comment "The preferred line referencing system."@en ;
    # Source: ontology comment for lrsMethod

    sh:class geosparql:Concept ;
    # Source: inferred range from ontology as lrsMethod relates to a Concept in SKOS

    sh:maxCount 1 ;
    # Inferred: expected at most one line referencing system for each LinearPositioningSystem

    sh:message "lrsMethod: The LinearPositioningSystem must have at most one line referencing system defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Concept (as an IRI)

    sh:path era:lrsMethod ;

    sh:severity sh:Violation .

era-sh:LrsMethodApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lrsMethod ;
    era:scope "local" ;

    rdfs:comment "Applicable when a LinearPositioningSystem requires a defined line referencing system."@en ;
    # Source: inferred from the nature of LinearPositioningSystem needing a defined lrsMethod

    sh:message "lrsMethod: This error is due to the LinearPositioningSystem violating the rule: must have defined lrsMethod when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:lrsMethod ?value } .
        # Check if the LinearPositioningSystem requires a defined lrsMethod
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MNvcontact a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:mNvcontact ;
    era:scope "local" ;

    rdfs:comment "On-Board system reaction when T_NVCONTACT expires according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for mNvcontact

    sh:class era:Concept ;
    # Source: inferred range from ontology as mNvcontact relates to a Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one mNvcontact value for a CommonCharacteristicsSubset

    sh:message "mNvcontact: The CommonCharacteristicsSubset must have at most one mNvcontact value defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a Concept (as an IRI)

    sh:path era:mNvcontact ;

    sh:severity sh:Violation .

era-sh:MNvcontactApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:mNvcontact ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present; a value has to be provided."@en ;
    # Source: dependency note indicates requirement for value when ETCS is present

    sh:message "mNvcontact: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined mNvcontact when ETCS is present."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:mNvcontact ?value } .
        FILTER EXISTS { $this era:etcsPresent ?etcsValue . FILTER(?etcsValue = "Y") } .
        # Check if the CommonCharacteristicsSubset requires a defined mNvcontact when ETCS is present
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MagneticBraking a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:magneticBraking ; 
    era:rinfIndex "1.1.1.1.6.3" ; 
    era:scope "local" ;

    rdfs:comment "Indication of limitations on the use of magnetic brakes."@en ; 
    # Source: ontology comment for magneticBraking

    sh:in ("allowed" "allowed under conditions" "allowed only for emergency brake" "not allowed") ; 
    # Source: RAG data presentation specifies allowed values

    sh:maxCount 1 ; 
    # Inferred: expected at most one magnetic braking condition for a CommonCharacteristicsSubset

    sh:message "magneticBraking: The CommonCharacteristicsSubset must have at most one magnetic braking condition defined from the allowed options."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid magnetic braking condition (as an IRI)

    sh:path era:magneticBraking ; 

    sh:severity sh:Violation .

era-sh:MagneticBrakingApplicability a sh:SPARQLConstraint ; 
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:magneticBraking ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined magnetic braking condition."@en ; 
    # Source: inferred from the nature of magnetic braking requirements

    sh:message "magneticBraking: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined magneticBraking when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:magneticBraking ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined magnetic braking condition
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:MagneticBrakingConditionsDocument a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:magneticBrakingConditionsDocument ;
    era:rinfIndex "1.1.1.1.6.5" ;
    era:scope "local" ;

    rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of magnetic brakes identified in 1.1.1.1.6.3."@en ;
    # Source: ontology comment for magneticBrakingConditionsDocument

    sh:class era:Document ;
    # Source: inferred range from ontology as magneticBrakingConditionsDocument relates to Document

    sh:minCount 1 ;
    # Inferred: at least one document must be provided if the corresponding parameter is 'Yes'

    sh:message "magneticBrakingConditionsDocument: The CommonCharacteristicsSubset must have at least one magnetic braking conditions document defined as a Document."@en ;
    # Source: inferred from the nature of the property and its applicability

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Document (as an IRI)

    sh:path era:magneticBrakingConditionsDocument ;

    sh:severity sh:Violation .

era-sh:MagneticBrakingConditionsDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:magneticBrakingConditionsDocument ;
    era:scope "local" ;

    rdfs:comment "Applicable if the use of magnetic brakes is 'allowed under conditions' or 'allowed under conditions only for emergency brake'."@en ;
    # Source: inferred from the dependency note indicating conditions for magnetic brakes

    sh:message "magneticBrakingConditionsDocument: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined magneticBrakingConditionsDocument when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:magneticBrakingConditionsDocument ?value } .
        FILTER EXISTS { $this era:magneticBraking ?brakingCondition .
                       FILTER(?brakingCondition IN ("allowed under conditions", "allowed only for emergency brake")) } .
        # Check if the CommonCharacteristicsSubset requires a defined magneticBrakingConditionsDocument when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Manufacturer a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:manufacturer ;
    era:scope "local" ;

    rdfs:comment "Vehicle manufacturer company."@en ;
    # Source: ontology comment for manufacturer

    sh:class era:OrganisationRole ;
    # Source: inferred from ontology range which defines the type of manufacturer

    sh:maxCount 1 ;
    # Inferred: expected at most one manufacturer reference for a VehicleType

    sh:message "manufacturer: The VehicleType must have at most one reference for a manufacturer defined as an OrganisationRole."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference an OrganisationRole (as an IRI)

    sh:path era:manufacturer ;

    sh:severity sh:Violation .

era-sh:ManufacturerApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:manufacturer ;
    era:scope "local" ;

    rdfs:comment "Applicable when a VehicleType requires a defined manufacturer."@en ;
    # Source: inferred from the need for a manufacturer in the context of VehicleType

    sh:message "manufacturer: This error is due to the VehicleType violating the rule: must have defined manufacturer when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:manufacturer ?value } .
        # Check if the VehicleType requires a defined manufacturer
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ManufacturingCountry a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:manufacturingCountry ;
    era:scope "local" ;

    rdfs:comment "Indicates the country in which a vehicle or vehicle type is manufactured."@en ;
    # Source: ontology comment for manufacturingCountry

    sh:class rdfs:Concept ;
    # Source: inferred from ontology range which defines the type of manufacturing country as a concept

    sh:maxCount 1 ;
    # Inferred: expected at most one manufacturing country reference for a Vehicle

    sh:message "manufacturingCountry: The Vehicle must have at most one reference for a manufacturing country defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid country concept (as an IRI)

    sh:path era:manufacturingCountry ;

    sh:severity sh:Violation .

era-sh:ManufacturingCountryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:manufacturingCountry ;
    era:scope "local" ;

    rdfs:comment "Applicable when a Vehicle requires a defined manufacturing country."@en ;
    # Source: inferred from the need for a manufacturing country in the context of Vehicle

    sh:message "manufacturingCountry: This error is due to the Vehicle violating the rule: must have defined manufacturing country when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:manufacturingCountry ?value } .
        # Check if the Vehicle requires a defined manufacturing country
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxSandingOutput a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maxSandingOutput ;
    era:rinfIndex "1.1.1.3.7.17" ;
    era:scope "local" ;

    rdfs:comment "Maximum amount of sand accepted on the track within value of sanding output for 30s, given in grams."@en ;
    # Source: ontology comment for maxSandingOutput

    sh:class sh:Concept ;
    # Source: inferred from ontology range as it relates to a concept defined in SKOS

    sh:maxCount 1 ;
    # Inferred: expected at most one max sanding output reference for a TrainDetectionSystem

    sh:message "maxSandingOutput: The TrainDetectionSystem must have at most one reference for max sanding output defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid concept (as an IRI)

    sh:path era:maxSandingOutput ;

    sh:severity sh:Violation .

era-sh:MaxSandingOutputApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maxSandingOutput ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is ‘track circuit’ and when selection for parameter 1.1.1.3.7.18 is “yes”."@en ;
    # Source: RAG applicability note

    sh:message "maxSandingOutput: This error is due to the TrainDetectionSystem violating the rule: must have defined maxSandingOutput when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maxSandingOutput ?value } .
        FILTER EXISTS { $this era:trackCircuitOption ?trackCircuitValue .
                       FILTER(?trackCircuitValue = "Y") } .
        FILTER EXISTS { $this era:sandingOverrideRequired ?overrideValue .
                       FILTER(?overrideValue = "Y") } .
        # Check if the TrainDetectionSystem requires a defined maxSandingOutput when conditions are met
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinAxleLoadVehicleCategory a sh:PropertyShape ;
    era:affectedClass era:MinAxleLoadVehicleCategory ;
    era:affectedProperty era:minAxleLoadVehicleCategory ;
    era:rinfIndex "1.1.1.3.7.11.1" ;
    era:scope "local" ;

    rdfs:comment "Represents the category of vehicle which is amended by value of minimum permitted axle load [tons]."@en ;
    # Source: ontology comment for minAxleLoadVehicleCategory

    sh:class sh:Concept ;
    # Source: inferred range from ontology as it relates to a Concept in SKOS

    sh:maxCount 1 ;
    # Inferred: expected at most one category reference for a MinAxleLoadVehicleCategory

    sh:message "minAxleLoadVehicleCategory: The MinAxleLoadVehicleCategory must have at most one reference defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid category concept (as an IRI)

    sh:path era:minAxleLoadVehicleCategory ;

    sh:severity sh:Violation .

era-sh:MinAxleLoadVehicleCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinAxleLoadVehicleCategory ;
    era:affectedProperty era:minAxleLoadVehicleCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the parameter indicates the need for a defined minimum axle load vehicle category."@en ;
    # Source: inferred from RAG applicability notes

    sh:message "minAxleLoadVehicleCategory: This error is due to the MinAxleLoadVehicleCategory violating the rule: must have defined minAxleLoadVehicleCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?categoryLabel WHERE {
        $this rdfs:label ?categoryLabel .
        FILTER NOT EXISTS { $this era:minAxleLoadVehicleCategory ?value } .
        # Check if the MinAxleLoadVehicleCategory requires a defined category when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinVehicleImpedance a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:minVehicleImpedance ;
    era:rinfIndex "1.1.1.3.4.2.2" ;
    era:scope "local" ;

    rdfs:comment "Impedance as defined in the specification referenced in Appendix A-1, index [D]. Mandatory only for track circuits."@en ;
    # Source: ontology comment for minVehicleImpedance

    sh:class era:MinVehicleImpedance ;
    # Source: ontology range indicates it must be an instance of MinVehicleImpedance

    sh:maxCount 1 ;
    # Inferred: expected at most one minVehicleImpedance value for a TrainDetectionSystem

    sh:message "minVehicleImpedance: The TrainDetectionSystem must have at most one reference for minVehicleImpedance defined as an instance of MinVehicleImpedance."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid MinVehicleImpedance (as an IRI)

    sh:path era:minVehicleImpedance ;

    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:minVehicleImpedance ;
    era:scope "local" ;

    rdfs:comment "Applicable only for track circuits."@en ;
    # Source: dependency note indicates requirement for value when applicable

    sh:message "minVehicleImpedance: This error is due to the TrainDetectionSystem violating the rule: must have defined minVehicleImpedance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:minVehicleImpedance ?value } .
        FILTER EXISTS { $this era:trackCircuit ?trackCircuitValue .
                       FILTER(?trackCircuitValue = "Y") } .
        # Check if the TrainDetectionSystem requires a defined minVehicleImpedance when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceVoltages a sh:PropertyShape ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleImpedanceVoltages ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Minimum vehicle impedance voltages applicable as defined in the specification."@en ;
    # Source: ontology comment for minVehicleImpedanceVoltages

    sh:class era:Concept ;
    # Source: inferred range from ontology as minVehicleImpedanceVoltages relates to a Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one minimum vehicle impedance voltage for a MinVehicleImpedance

    sh:message "minVehicleImpedanceVoltages: The MinVehicleImpedance must have at most one reference for minimum vehicle impedance voltages defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Concept (as an IRI)

    sh:path era:minVehicleImpedanceVoltages ;

    sh:severity sh:Violation .

era-sh:MinVehicleImpedanceVoltagesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleImpedanceVoltages ;
    era:scope "local" ;

    rdfs:comment "Applicable when the minimum vehicle impedance is defined."@en ;
    # Source: inferred from the need for a defined minimum vehicle impedance voltages

    sh:message "minVehicleImpedanceVoltages: This error is due to the MinVehicleImpedance violating the rule: must have defined minVehicleImpedanceVoltages when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?impedanceLabel WHERE {
        $this rdfs:label ?impedanceLabel .
        FILTER NOT EXISTS { $this era:minVehicleImpedanceVoltages ?value } .
        # Check if the MinVehicleImpedance requires a defined minimum vehicle impedance voltages
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumVerticalRadius a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:minimumVerticalRadius ;
    era:rinfIndex "1.2.2.0.3.3" ;
    era:scope "local" ;

    rdfs:comment "Radius of the smallest vertical curve expressed in metres."@en ;
    # Source: ontology comment for minimumVerticalRadius

    sh:class era:MinimumVerticalRadius ;
    # Source: inferred range from ontology as minimumVerticalRadius relates to MinimumVerticalRadius class

    sh:maxCount 1 ;
    # Inferred: expected at most one minimum vertical radius value for a CommonCharacteristicsSubset

    sh:message "minimumVerticalRadius: The CommonCharacteristicsSubset must have at most one minimum vertical radius defined as a MinimumVerticalRadius."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid MinimumVerticalRadius (as an IRI)

    sh:path era:minimumVerticalRadius ;

    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:minimumVerticalRadius ;
    era:scope "local" ;

    rdfs:comment "Applicable when the minimum vertical radius is required for the defined characteristics subset."@en ;
    # Source: inferred from the nature of the parameter requiring a defined minimum vertical radius

    sh:message "minimumVerticalRadius: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined minimumVerticalRadius when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:minimumVerticalRadius ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined minimumVerticalRadius when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NationalLine a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:nationalLine ;
    era:rinfIndex "1.1.0.0.0.2" ;
    era:scope "local" ;

    rdfs:comment "Indicates a relationship with a national railway line at a specific kilometer point. Each Section of Line can belong to only one national line."@en ;
    # Source: ontology comment for nationalLine

    sh:class era:LinearPositioningSystem ;
    # Source: inferred from ontology range which defines the type of national line

    sh:maxCount 1 ;
    # Inferred: expected at most one national line reference for a SectionOfLine

    sh:message "nationalLine: The SectionOfLine must have at most one national line reference defined as a LinearPositioningSystem."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid LinearPositioningSystem (as an IRI)

    sh:path era:nationalLine ;

    sh:severity sh:Violation .

era-sh:NationalLineApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:nationalLine ;
    era:scope "local" ;

    rdfs:comment "Applicable when a Section of Line requires a defined national line."@en ;
    # Source: inferred from the need for a national line in the context of SectionOfLine

    sh:message "nationalLine: This error is due to the SectionOfLine violating the rule: must have defined nationalLine when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:nationalLine ?value } .
        # Check if the SectionOfLine requires a defined nationalLine
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Navigability a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:navigability ;
    era:rinfIndex "1.1.1.0.1.2" ;
    era:scope "local" ;

    rdfs:comment "Indicates the navigation possibilities between two related topological linear elements."@en ;
    # Source: ontology comment for navigability

    sh:in ("AB" "BA" "Both" "None") ;
    # Source: inferred from the scope note in ontology which describes navigability options

    sh:maxCount 1 ;
    # Inferred: expected at most one navigability condition for a NetRelation

    sh:message "navigability: The NetRelation must have at most one navigability condition defined from the allowed options."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid navigability condition (as an IRI)

    sh:path era:navigability ;

    sh:severity sh:Violation .

era-sh:NavigabilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:navigability ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetRelation requires a defined navigability condition."@en ;
    # Source: inferred from the nature of navigability requirements

    sh:message "navigability: This error is due to the NetRelation violating the rule: must have defined navigability when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?relationLabel WHERE {
        $this rdfs:label ?relationLabel .
        FILTER NOT EXISTS { $this era:navigability ?value } .
        # Check if the NetRelation requires a defined navigability condition
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NetReference a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:netReference ;
    era:scope "local" ;

    rdfs:comment "The reference that a physical infrastructure element has on the topology. It may be used to define the positioning or a representation as a point, line or area."@en ;
    # Source: ontology comment for netReference

    sh:class era:NetBasicReference ;
    # Source: inferred from ontology range which defines the type of net reference

    sh:maxCount 1 ;
    # Inferred: expected at most one net reference for an InfrastructureElement

    sh:message "netReference: The InfrastructureElement must have at most one net reference defined as a NetBasicReference."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid NetBasicReference (as an IRI)

    sh:path era:netReference ;

    sh:severity sh:Violation .

era-sh:NetReferenceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:netReference ;
    era:scope "local" ;

    rdfs:comment "Applicable when an InfrastructureElement requires a defined net reference."@en ;
    # Source: inferred from the context of InfrastructureElement needing a net reference

    sh:message "netReference: This error is due to the InfrastructureElement violating the rule: must have defined netReference when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:netReference ?value } .
        # Check if the InfrastructureElement requires a defined netReference
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NotApplicable a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;  # Assuming the domain is InfrastructureElement based on the ontology
    era:affectedProperty era:notApplicable ;
    era:scope "local" ;

    rdfs:comment "Reference to a property that is not applicable."@en ;
    # Source: ontology comment for notApplicable

    sh:datatype xsd:boolean ;  # Inferred: typically represents applicability status as a boolean
    # Source: common practice in defining applicability properties

    sh:maxCount 1 ;  # Inferred: expected at most one notApplicable reference
    # Source: typical behavior for properties indicating a single applicability status

    sh:message "notApplicable: The InfrastructureElement must have at most one notApplicable reference indicating that the property is not applicable."@en ;
    # Source: inferred from the nature of the property

    sh:path era:notApplicable ;

    sh:severity sh:Violation .

era-sh:NotApplicableApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;  # Assuming the applicability is relevant for InfrastructureElement
    era:affectedProperty era:notApplicable ;
    era:scope "local" ;

    rdfs:comment "Applicable when certain parameters do not exist, indicating that the notApplicable property should be used."@en ;
    # Source: inferred from RAG applicability rules

    sh:message "notApplicable: This error is due to the InfrastructureElement violating the rule: must have defined notApplicable when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:notApplicable ?value } .
        # Check if the InfrastructureElement requires a defined notApplicable when certain parameters do not exist
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NotYetAvailable a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;  # Assuming the domain is InfrastructureElement based on the ontology
    era:affectedProperty era:notYetAvailable ;
    era:scope "local" ;

    rdfs:comment "Reference to a property that is not provided."@en ;
    # Source: ontology comment for notYetAvailable

    sh:datatype xsd:boolean ;  # Inferred: typically represents availability status as a boolean
    # Reasoning: common practice in defining availability properties

    sh:maxCount 1 ;  # Inferred: expected at most one notYetAvailable reference
    # Reasoning: typical behavior for properties indicating a single availability status

    sh:message "notYetAvailable: The InfrastructureElement must have at most one notYetAvailable reference indicating that the property is not available."@en ;
    # Reasoning: inferred from the nature of the property

    sh:path era:notYetAvailable ;

    sh:severity sh:Violation .

era-sh:NotYetAvailableApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;  # Assuming the applicability is relevant for InfrastructureElement
    era:affectedProperty era:notYetAvailable ;
    era:scope "local" ;

    rdfs:comment "Applicable when certain parameters are not yet available, indicating that the notYetAvailable property should be used."@en ;
    # Reasoning: inferred from RAG applicability rules

    sh:message "notYetAvailable: This error is due to the InfrastructureElement violating the rule: must have defined notYetAvailable when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:notYetAvailable ?value } .
        # Check if the InfrastructureElement requires a defined notYetAvailable when certain parameters are not available
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OfParameter a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:ofParameter ;
    era:scope "local" ;

    rdfs:comment "Indicates the parameter (object or datatype property) for which an applicability is being defined."@en ;
    # Source: ontology comment for ofParameter

    sh:class era:ParameterApplicability ;
    # Source: inferred from ontology range as it relates to ParameterApplicability

    sh:maxCount 1 ;
    # Inferred: expected at most one ofParameter reference for a ParameterApplicability

    sh:message "ofParameter: The ParameterApplicability must have at most one reference defined for ofParameter."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid ParameterApplicability (as an IRI)

    sh:path era:ofParameter ;

    sh:severity sh:Violation .

era-sh:OfParameterApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:ofParameter ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ParameterApplicability requires a defined ofParameter."@en ;
    # Source: inferred from the nature of applicability rules

    sh:message "ofParameter: This error is due to the ParameterApplicability violating the rule: must have defined ofParameter when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?applicabilityLabel WHERE {
        $this rdfs:label ?applicabilityLabel .
        FILTER NOT EXISTS { $this era:ofParameter ?value } .
        # Check if the ParameterApplicability requires a defined ofParameter when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OnElement a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:onElement ;
    era:scope "local" ;

    rdfs:comment "Specifies the linear element a section belongs to."@en ;
    # Source: ontology comment for onElement

    sh:class era:LinearElement ;
    # Source: inferred from ontology range which defines the type of linear element

    sh:maxCount 1 ;
    # Inferred: expected at most one reference to a linear element for a LinearElementSection

    sh:message "onElement: The LinearElementSection must have at most one reference defined as a LinearElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid LinearElement (as an IRI)

    sh:path era:onElement ;

    sh:severity sh:Violation .

era-sh:OnElementApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:onElement ;
    era:scope "local" ;

    rdfs:comment "Applicable when the LinearElementSection requires a defined linear element."@en ;
    # Source: inferred from the context of LinearElementSection needing a linear element

    sh:message "onElement: This error is due to the LinearElementSection violating the rule: must have defined onElement when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:onElement ?value } .
        # Check if the LinearElementSection requires a defined onElement when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OnLinearElement a sh:PropertyShape ;
    era:affectedClass era:TopologicalCoordinate ;
    era:affectedProperty era:onLinearElement ;
    era:scope "local" ;

    rdfs:comment "Specifies the linear element a coordinate is associated with."@en ;
    # Source: ontology comment for onLinearElement

    sh:class era:LinearElement ;
    # Source: ontology range indicates it must be an instance of LinearElement

    sh:maxCount 1 ;
    # Inferred: expected at most one onLinearElement reference for a TopologicalCoordinate

    sh:message "onLinearElement: The TopologicalCoordinate must have at most one reference defined as a LinearElement."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid LinearElement (as an IRI)

    sh:path era:onLinearElement ;

    sh:severity sh:Violation .

era-sh:OpEnd a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opEnd ;
    era:rinfIndex "1.1.0.0.0.4" ;
    era:scope "local" ;

    rdfs:comment "Operational point at the end of section of line (kilometres increasing from start OP to the end OP)."@en ;
    # Source: ontology comment for opEnd

    sh:class era:OperationalPoint ;
    # Source: inferred range from ontology as opEnd relates to OperationalPoint

    sh:maxCount 1 ;
    # Inferred: expected at most one operational point at the end of each section of line

    sh:message "opEnd: The SectionOfLine must have at most one operational point at the end defined as an OperationalPoint."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid OperationalPoint (as an IRI)

    sh:path era:opEnd ;

    sh:severity sh:Violation .

era-sh:OpEndApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opEnd ;
    era:scope "local" ;

    rdfs:comment "Applicable when each Section of Line must have an operational point at the end."@en ;
    # Source: inferred from the need for an end operational point in the context of SectionOfLine

    sh:message "opEnd: This error is due to the SectionOfLine violating the rule: must have defined opEnd when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:opEnd ?value } .
        # Check if the SectionOfLine requires a defined opEnd
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpInfoPerCountry a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opInfoPerCountry ;
    era:scope "local" ;

    rdfs:comment "Relates an operational point that represents the general information of a border point to the information that each country maintains for the border point."@en ;
    # Source: ontology comment for opInfoPerCountry

    sh:class era:OperationalPoint ;
    # Source: inferred from ontology range which defines the type of operational point

    sh:maxCount 1 ;
    # Inferred: expected at most one operational point information per country for each OperationalPoint

    sh:message "opInfoPerCountry: The OperationalPoint must have at most one opInfoPerCountry defined as an OperationalPoint."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid OperationalPoint (as an IRI)

    sh:path era:opInfoPerCountry ;

    sh:severity sh:Violation .

era-sh:OpInfoPerCountryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opInfoPerCountry ;
    era:scope "local" ;

    rdfs:comment "Applicable when an OperationalPoint represents a border point that requires country-specific information."@en ;
    # Source: inferred from the nature of operational points that are border points requiring specific information

    sh:message "opInfoPerCountry: This error is due to the OperationalPoint violating the rule: must have defined opInfoPerCountry when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:opInfoPerCountry ?value } .
        # Check if the OperationalPoint requires a defined opInfoPerCountry
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpName a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opName ;
    era:rinfIndex "1.2.0.0.0.1" ;
    era:scope "local" ;

    rdfs:comment "Name normally related to the town or village or to traffic control purpose."@en ;
    # Source: ontology comment for opName

    sh:datatype xsd:string ;
    # Source: ontology range indicates the property is a string

    sh:maxCount 1 ;
    # Inferred: expected at most one name for each OperationalPoint

    sh:message "opName: The OperationalPoint must have at most one opName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:path era:opName ;

    sh:severity sh:Violation .

era-sh:OpNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opName ;
    era:scope "local" ;

    rdfs:comment "Applicable when an OperationalPoint requires a defined name."@en ;
    # Source: inferred from the importance of having a name for operational points

    sh:message "opName: This error is due to the OperationalPoint violating the rule: must have defined opName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:opName ?value } .
        # Check if the OperationalPoint requires a defined opName
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpStart a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opStart ;
    era:rinfIndex "1.1.0.0.0.3" ;
    era:scope "local" ;

    rdfs:comment "Operational point at the start of section of line (kilometres increasing from start OP to the end OP)."@en ;
    # Source: ontology comment for opStart

    sh:class era:OperationalPoint ;
    # Source: inferred range from ontology as opStart relates to OperationalPoint

    sh:maxCount 1 ;
    # Inferred: expected at most one operational point at the start of each section of line

    sh:message "opStart: The SectionOfLine must have at most one operational point at the start defined as an OperationalPoint."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid OperationalPoint (as an IRI)

    sh:path era:opStart ;

    sh:severity sh:Violation .

era-sh:OpStartApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:opStart ;
    era:scope "local" ;

    rdfs:comment "Applicable when each Section of Line must have an operational point at the start."@en ;
    # Source: inferred from the need for a start operational point in the context of SectionOfLine

    sh:message "opStart: This error is due to the SectionOfLine violating the rule: must have defined opStart when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:opStart ?value } .
        # Check if the SectionOfLine requires a defined opStart
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpType a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opType ;
    era:rinfIndex "1.2.0.0.0.4" ;
    era:scope "local" ;

    rdfs:comment "Type of facility in relation to the dominating operational functions. Each existing case has to be approximated to the one of the above defined types by including size, importance and dominating functions."@en ;
    # Source: RAG definition of opType

    sh:class rdfs:Resource ;  # Inferred: expected to be a concept from the SKOS concept scheme
    # Source: ontology indicates range is skos:Concept

    sh:maxCount 1 ;  # Inferred: expected at most one type for each OperationalPoint
    # Source: RAG states "only one type for one OP is permitted"

    sh:message "opType: The OperationalPoint must have at most one opType defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;  # Implied: expected to reference a valid SKOS concept (as an IRI)
    
    sh:path era:opType ;

    sh:severity sh:Violation .

era-sh:OpTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opType ;
    era:scope "local" ;

    rdfs:comment "Applicable when an OperationalPoint requires a defined type."@en ;
    # Source: inferred from the context of OperationalPoint needing a type

    sh:message "opType: This error is due to the OperationalPoint violating the rule: must have defined opType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:opType ?value } .
        # Check if the OperationalPoint requires a defined opType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpTypeGaugeChangeover a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opTypeGaugeChangeover ;
    era:scope "local" ;

    rdfs:comment "Type of track gauge changeover facility."@en ;
    # Source: ontology comment for opTypeGaugeChangeover

    sh:datatype xsd:string ;
    # Source: ontology range indicates the property is a string

    sh:maxCount 1 ;
    # Inferred: expected at most one gauge changeover type for each OperationalPoint

    sh:message "opTypeGaugeChangeover: The OperationalPoint must have at most one opTypeGaugeChangeover defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:path era:opTypeGaugeChangeover ;

    sh:severity sh:Violation .

era-sh:OpTypeGaugeChangeoverApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opTypeGaugeChangeover ;
    era:scope "local" ;

    rdfs:comment "Applicable when an OperationalPoint requires a defined type of gauge changeover facility."@en ;
    # Source: inferred from the need for gauge changeover definition in operational contexts

    sh:message "opTypeGaugeChangeover: This error is due to the OperationalPoint violating the rule: must have defined opTypeGaugeChangeover when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:opTypeGaugeChangeover ?value } .
        # Check if the OperationalPoint requires a defined opTypeGaugeChangeover
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OperatingLanguage a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:operatingLanguage ;
    era:scope "local" ;

    rdfs:comment "The language or languages used in daily operation by infrastructure manager and published in its Network Statement, for the communication of operational or safety related messages between the staff of the infrastructure manager and the railway undertaking."@en ;
    # Source: ontology comment for operatingLanguage

    sh:class geosparql:Concept ; 
    # Source: inferred from ontology range which indicates the property relates to a Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one operating language for each InfrastructureElement

    sh:message "operatingLanguage: The InfrastructureElement must have at most one operating language defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Concept (as an IRI)

    sh:path era:operatingLanguage ;

    sh:severity sh:Violation .

era-sh:OperatingLanguageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:operatingLanguage ;
    era:scope "local" ;

    rdfs:comment "Applicable when the InfrastructureElement requires a defined operating language."@en ;
    # Source: inferred from the context of InfrastructureElement needing an operating language

    sh:message "operatingLanguage: This error is due to the InfrastructureElement violating the rule: must have defined operatingLanguage when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:operatingLanguage ?value } .
        # Check if the InfrastructureElement requires a defined operatingLanguage
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OperationalRegimeType a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:operationalRegimeType ;
    era:rinfIndex "1.1.0.0.1.3" ;
    era:scope "local" ;

    rdfs:comment "Specifies the operational regime type for a section of line."@en ;
    # Source: ontology comment for operationalRegimeType

    sh:class geosparql:Concept ; 
    # Source: inferred from ontology range which indicates the property relates to a Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one operational regime type for each SectionOfLine

    sh:message "operationalRegimeType: The SectionOfLine must have at most one operational regime type defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Concept (as an IRI)

    sh:path era:operationalRegimeType ;

    sh:severity sh:Violation .

era-sh:OperationalRegimeTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:operationalRegimeType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SectionOfLine requires a defined operational regime type."@en ;
    # Source: inferred from the context of SectionOfLine needing an operational regime type

    sh:message "operationalRegimeType: This error is due to the SectionOfLine violating the rule: must have defined operationalRegimeType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:operationalRegimeType ?value } .
        # Check if the SectionOfLine requires a defined operationalRegimeType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OperationalRestriction a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:operationalRestriction ;
    era:scope "local" ;

    rdfs:comment "Indicates an operational restriction of vehicle or wagon. Parking brake type (if the vehicle is fitted with it)."@en ;
    # Source: ontology comment for operationalRestriction

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one operational restriction for each Vehicle

    sh:message "operationalRestriction: The Vehicle must have at most one operational restriction defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid operational restriction (as an IRI)

    sh:path era:operationalRestriction ;

    sh:severity sh:Violation .

era-sh:OperationalRestrictionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:operationalRestriction ;
    era:scope "local" ;

    rdfs:comment "Applicable when a Vehicle requires a defined operational restriction."@en ;
    # Source: inferred from the context of Vehicle needing operational restrictions for safe operation

    sh:message "operationalRestriction: This error is due to the Vehicle violating the rule: must have defined operationalRestriction when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:operationalRestriction ?value } .
        # Check if the Vehicle requires a defined operationalRestriction
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Orientation a sh:PropertyShape ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:orientation ;
    era:scope "local" ;

    rdfs:comment "The orientation of the object in relation to the carrier linear element. Possible values: Normal, Opposite, Both."@en ;
    # Source: ontology comment for orientation

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one orientation for each Orientation instance

    sh:message "orientation: The Orientation must have at most one orientation defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid orientation concept (as an IRI)

    sh:path era:orientation ;

    sh:severity sh:Violation .

era-sh:OrientationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:orientation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Orientation requires a defined orientation value."@en ;
    # Source: inferred from the context of Orientation needing an orientation value

    sh:message "orientation: This error is due to the Orientation violating the rule: must have defined orientation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?orientationLabel WHERE {
        $this rdfs:label ?orientationLabel .
        FILTER NOT EXISTS { $this era:orientation ?value } .
        # Check if the Orientation requires a defined orientation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OsmClass a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:osmClass ; 
    era:scope "local" ;

    rdfs:comment "(deprecated) not in use anymore"@en ; 
    # Source: ontology comment for osmClass

    sh:class geosparql:Concept ; 
    # Source: inferred from ontology range indicating it relates to a SKOS concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one osmClass for each CommonCharacteristicsSubset

    sh:message "osmClass: The CommonCharacteristicsSubset must have at most one osmClass defined as a Concept."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid SKOS concept (as an IRI)

    sh:path era:osmClass ;

    sh:severity sh:Violation . 

era-sh:OsmClassApplicability a sh:SPARQLConstraint ; 
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:osmClass ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined osmClass."@en ; 
    # Source: inferred from the context of CommonCharacteristicsSubset needing an osmClass

    sh:message "osmClass: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined osmClass when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:osmClass ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined osmClass
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OtherCantDeficiencyBasicSSP a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherCantDeficiencyBasicSSP ;
    era:scope "local" ;

    rdfs:comment "Essential information for drivers of trains with a worse (lower) tolerated cant deficiency than those for which the ETCS trackside provides SSP in conjunction with parameter 'Cant Deficiency used for the basic SSP'."@en ;
    # Source: ontology comment for otherCantDeficiencyBasicSSP

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one value for each RunningTrack

    sh:message "otherCantDeficiencyBasicSSP: The RunningTrack must have at most one otherCantDeficiencyBasicSSP defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid concept (as an IRI)

    sh:path era:otherCantDeficiencyBasicSSP ;

    sh:severity sh:Violation .

era-sh:OtherCantDeficiencyBasicSSPApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherCantDeficiencyBasicSSP ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack requires a defined other cant deficiency basic SSP."@en ;
    # Source: inferred from the context of RunningTrack needing this information

    sh:message "otherCantDeficiencyBasicSSP: This error is due to the RunningTrack violating the rule: must have defined otherCantDeficiencyBasicSSP when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:otherCantDeficiencyBasicSSP ?value } .
        # Check if the RunningTrack requires a defined otherCantDeficiencyBasicSSP
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OtherPantographHead a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:otherPantographHead ;
    era:rinfIndex "1.1.1.2.3.2" ;
    era:scope "local" ;

    rdfs:comment "Indication of pantograph heads which are allowed to be used."@en ;
    # Source: ontology comment for otherPantographHead

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one pantograph head for each CommonCharacteristicsSubset

    sh:message "otherPantographHead: The CommonCharacteristicsSubset must have at most one other pantograph head defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid pantograph head concept (as an IRI)

    sh:path era:otherPantographHead ;

    sh:severity sh:Violation .

era-sh:OtherPantographHeadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:otherPantographHead ;
    era:scope "local" ;

    rdfs:comment "Applicable only if 'Overhead contact line (OCL)' is selected in the corresponding parameter."@en ;
    # Source: inferred from the applicability note in RAG

    sh:message "otherPantographHead: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined otherPantographHead when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:otherPantographHead ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined otherPantographHead
        # This is based on the applicability condition related to Overhead contact line (OCL)
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OtherTrainProtection a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherTrainProtection ;
    era:rinfIndex "1.1.1.3.10.2" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of other system than ETCS for degraded situation."@en ;
    # Source: ontology comment for otherTrainProtection

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one other train protection for each RunningTrack

    sh:message "otherTrainProtection: The RunningTrack must have at most one other train protection defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid concept (as an IRI)

    sh:path era:otherTrainProtection ;

    sh:severity sh:Violation .

era-sh:OtherTrainProtectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:otherTrainProtection ;
    era:scope "local" ;

    rdfs:comment "Applicable when for parameter 1.1.1.3.10.1 'none' was selected."@en ;
    # Source: dependency note from ontology

    sh:message "otherTrainProtection: This error is due to the RunningTrack violating the rule: must have defined otherTrainProtection when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:otherTrainProtection ?value } .
        # Check if the RunningTrack requires a defined otherTrainProtection
        # This is based on the applicability condition related to parameter 1.1.1.3.10.1
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParameterApplicability a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:parameterApplicability ;
    era:scope "local" ;

    rdfs:comment "Relates an infrastructure element or a common characteristics subset with the applicability of a certain parameter."@en ;
    # Source: ontology comment for parameterApplicability

    sh:class era:ParameterApplicability ;
    # Source: ontology range indicates the property is of type ParameterApplicability

    sh:maxCount 1 ;
    # Inferred: expected at most one applicability reference for each InfrastructureElement

    sh:message "parameterApplicability: The InfrastructureElement must have at most one parameter applicability defined as a ParameterApplicability."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid ParameterApplicability (as an IRI)

    sh:path era:parameterApplicability ;

    sh:severity sh:Violation .

era-sh:ParameterApplicabilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:parameterApplicability ;
    era:scope "local" ;

    rdfs:comment "Applicable when the InfrastructureElement requires a defined parameter applicability."@en ;
    # Source: inferred from the context of InfrastructureElement needing parameter applicability

    sh:message "parameterApplicability: This error is due to the InfrastructureElement violating the rule: must have defined parameter applicability when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:parameterApplicability ?value } .
        # Check if the InfrastructureElement requires a defined parameter applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParameterValueType a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValueType ;
    era:scope "local" ;

    rdfs:comment "In the case of a change in the value of a parameter, there needs to be an information on the type of the new value. The 'Value type' will have different possible options: 'nominal', 'planned temporary restriction', 'permanent restriction', 'planned temporary closure'."@en ;
    # Source: ontology comment for parameterValueType

    sh:class rdfs:Resource ; 
    # Inferred: expected to reference a valid concept (as an IRI)

    sh:maxCount 1 ; 
    # Inferred: expected at most one value type for each ParameterApplicability

    sh:message "parameterValueType: The ParameterApplicability must have at most one parameter value type defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid value type concept (as an IRI)

    sh:path era:parameterValueType ;

    sh:severity sh:Violation .

era-sh:ParameterValueTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValueType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ParameterApplicability requires a defined parameter value type."@en ;
    # Source: inferred from the context of ParameterApplicability needing a value type

    sh:message "parameterValueType: This error is due to the ParameterApplicability violating the rule: must have defined parameterValueType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?applicabilityLabel WHERE {
        $this rdfs:label ?applicabilityLabel .
        FILTER NOT EXISTS { $this era:parameterValueType ?value } .
        # Check if the ParameterApplicability requires a defined parameterValueType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeType a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrakeType ;
    era:scope "local" ;

    rdfs:comment "Parking brake type (if the vehicle is fitted with it)."@en ;
    # Source: ontology comment for parkingBrakeType

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicating it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one parking brake type for each VehicleType

    sh:message "parkingBrakeType: The VehicleType must have at most one parking brake type defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid parking brake type concept (as an IRI)

    sh:path era:parkingBrakeType ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrakeType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a defined parking brake type."@en ;
    # Source: inferred from the context of VehicleType needing a parking brake type

    sh:message "parkingBrakeType: This error is due to the VehicleType violating the rule: must have defined parkingBrakeType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:parkingBrakeType ?value } .
        # Check if the VehicleType requires a defined parkingBrakeType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PassesThroughTunnel a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:passesThroughTunnel ;
    era:scope "local" ;

    rdfs:comment "References a tunnel that a track goes through."@en ;
    # Source: ontology comment for passesThroughTunnel

    sh:class era:Tunnel ;
    # Source: inferred from ontology range indicating the property relates to a Tunnel

    sh:maxCount 1 ;
    # Inferred: expected at most one tunnel reference for each RunningTrack

    sh:message "passesThroughTunnel: The RunningTrack must have at most one tunnel that it passes through defined as a Tunnel."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Tunnel (as an IRI)

    sh:path era:passesThroughTunnel ;

    sh:severity sh:Violation .

era-sh:PassesThroughTunnelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:passesThroughTunnel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack requires a defined tunnel it passes through."@en ;
    # Source: inferred from the context of RunningTrack needing this information

    sh:message "passesThroughTunnel: This error is due to the RunningTrack violating the rule: must have defined passesThroughTunnel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:passesThroughTunnel ?value } .
        # Check if the RunningTrack requires a defined passesThroughTunnel
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PlatformEdge a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:platformEdge ;
    era:scope "local" ;

    rdfs:comment "Reference to a related platform edge."@en ;
    # Source: ontology comment for platformEdge

    sh:class era:PlatformEdge ;
    # Source: ontology range indicates it must be an instance of PlatformEdge

    sh:maxCount 1 ; 
    # Inferred: expected at most one platform edge for each RunningTrack

    sh:message "platformEdge: The RunningTrack must have at most one platform edge defined as a PlatformEdge."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid platform edge (as an IRI)

    sh:path era:platformEdge ;

    sh:severity sh:Violation .

era-sh:PlatformEdgeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:platformEdge ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack requires a defined platform edge."@en ;
    # Source: inferred from the context of RunningTrack needing platform edge information

    sh:message "platformEdge: This error is due to the RunningTrack violating the rule: must have defined platformEdge when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:platformEdge ?value } .
        # Check if the RunningTrack requires a defined platformEdge
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PlatformHeight a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:platformHeight ; 
    era:rinfIndex "1.2.1.0.6.5" ; 
    era:scope "local" ;

    rdfs:comment "Distance between the upper surface of platform and running surface of the neighbouring track. It is the nominal value expressed in millimetres."@en ;
    # Source: ontology comment for platformHeight

    sh:datatype xsd:integer ; 
    # Source: ontology range indicates it must be an integer value

    sh:maxCount 1 ; 
    # Inferred: expected at most one platform height for each CommonCharacteristicsSubset

    sh:message "platformHeight: The CommonCharacteristicsSubset must have at most one platform height defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid height concept (as an IRI)

    sh:path era:platformHeight ;

    sh:severity sh:Violation .

era-sh:PlatformHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:platformHeight ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the platform height is required to be defined."@en ;
    # Source: inferred from the context of platform height needing a defined value

    sh:message "platformHeight: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined platformHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:platformHeight ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined platformHeight
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PreviousVehicleType a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:previousVehicleType ;
    era:scope "local" ;

    rdfs:comment "Denotes the previous VehicleType."@en ;
    # Source: ontology comment for previousVehicleType

    sh:class era:VehicleType ;
    # Source: ontology range indicates it must be an instance of VehicleType

    sh:maxCount 1 ;
    # Inferred: expected at most one previous vehicle type for each VehicleType

    sh:message "previousVehicleType: The VehicleType must have at most one previous vehicle type defined as a VehicleType."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid VehicleType (as an IRI)

    sh:path era:previousVehicleType ;

    sh:severity sh:Violation . 

era-sh:PreviousVehicleTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:previousVehicleType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a defined previous vehicle type."@en ;
    # Source: inferred from the context of VehicleType needing a previous vehicle type

    sh:message "previousVehicleType: This error is due to the VehicleType violating the rule: must have defined previousVehicleType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:previousVehicleType ?value } .
        # Check if the VehicleType requires a defined previousVehicleType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PrimaryLocation a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:primaryLocation ;
    era:rinfIndex "1.2.0.0.0.3" ;
    era:scope "local" ;

    rdfs:comment "Primary location code developed for information exchange in accordance with the TSIs relating to the telematics applications subsystem."@en ;
    # Source: ontology comment for primaryLocation

    sh:class era:PrimaryLocation ;
    # Source: ontology range indicates it must be an instance of PrimaryLocation

    sh:maxCount 1 ;
    # Inferred: expected at most one primary location for each InfrastructureElement

    sh:message "primaryLocation: The InfrastructureElement must have at most one primary location defined as a PrimaryLocation."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid PrimaryLocation (as an IRI)

    sh:path era:primaryLocation ;

    sh:severity sh:Violation .

era-sh:PrimaryLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:primaryLocation ;
    era:scope "local" ;

    rdfs:comment "Applicable only in case when a primary location exists."@en ;
    # Source: dependency note from ontology

    sh:message "primaryLocation: This error is due to the InfrastructureElement violating the rule: must have defined primaryLocation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:primaryLocation ?value } .
        # Check if the InfrastructureElement requires a defined primaryLocation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ProfileNumberSemiTrailers a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:profileNumberSemiTrailers ;
    era:rinfIndex "1.1.1.1.3.5" ;
    era:scope "local" ;

    rdfs:comment "Coding for combined transport for semi-trailers (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    # Source: ontology comment for profileNumberSemiTrailers

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicating it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one profile number for each CommonCharacteristicsSubset

    sh:message "profileNumberSemiTrailers: The CommonCharacteristicsSubset must have at most one profile number for semi-trailers defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid profile number concept (as an IRI)

    sh:path era:profileNumberSemiTrailers ;

    sh:severity sh:Violation .

era-sh:ProfileNumberSemiTrailersApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:profileNumberSemiTrailers ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined profile number for semi-trailers."@en ;
    # Source: inferred from the applicability note in RAG

    sh:message "profileNumberSemiTrailers: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined profileNumberSemiTrailers when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:profileNumberSemiTrailers ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined profileNumberSemiTrailers
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ProfileNumberSwapBodies a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:profileNumberSwapBodies ;
    era:rinfIndex "1.1.1.1.3.4" ;
    era:scope "local" ;

    rdfs:comment "Coding for combined transport with swap bodies (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    # Source: ontology comment for profileNumberSwapBodies

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicating it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one profile number for swap bodies for each CommonCharacteristicsSubset

    sh:message "profileNumberSwapBodies: The CommonCharacteristicsSubset must have at most one profile number for swap bodies defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid profile number concept (as an IRI)

    sh:path era:profileNumberSwapBodies ;

    sh:severity sh:Violation .

era-sh:ProfileNumberSwapBodiesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:profileNumberSwapBodies ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined profile number for swap bodies."@en ;
    # Source: inferred from the applicability note in RAG

    sh:message "profileNumberSwapBodies: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined profileNumberSwapBodies when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:profileNumberSwapBodies ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined profileNumberSwapBodies
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ProtectionLegacySystem a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:protectionLegacySystem ; 
    era:rinfIndex "4.13.1.5" ; 
    era:scope "local" ;

    rdfs:comment "Indication of which class B system is installed."@en ;
    # Source: ontology comment for protectionLegacySystem

    sh:class rdfs:Resource ; 
    # Source: inferred from ontology range indicating it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one protection legacy system for each CommonCharacteristicsSubset

    sh:message "protectionLegacySystem: The CommonCharacteristicsSubset must have at most one protection legacy system defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid protection legacy system (as an IRI)

    sh:path era:protectionLegacySystem ;

    sh:severity sh:Violation .

era-sh:ProtectionLegacySystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:protectionLegacySystem ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined protection legacy system."@en ;
    # Source: inferred from the context of protection legacy system needing to be defined

    sh:message "protectionLegacySystem: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined protectionLegacySystem when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:protectionLegacySystem ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined protectionLegacySystem
    }
    """ ;

    sh:severity sh:Violation .

era-sh:QNvdriverAdhes a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:qNvdriverAdhes ;
    era:scope "local" ;

    rdfs:comment "Qualifier determining whether the driver is allowed to modify the adhesion factor used by the ETCS on-board to calculate the braking curves."@en ;
    # Source: ontology comment for qNvdriverAdhes

    sh:class rdfs:Resource ; 
    # Inferred: expected to reference a valid concept (as an IRI)

    sh:maxCount 1 ; 
    # Inferred: expected at most one value for each CommonCharacteristicsSubset

    sh:message "qNvdriverAdhes: The CommonCharacteristicsSubset must have at most one qNvdriverAdhes defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid qNvdriverAdhes concept (as an IRI)

    sh:path era:qNvdriverAdhes ;

    sh:severity sh:Violation .

era-sh:QNvdriverAdhesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:qNvdriverAdhes ;
    era:scope "local" ;

    rdfs:comment "Applicable when the qNvdriverAdhes is required to be defined."@en ;
    # Source: inferred from the context of qNvdriverAdhes needing a defined value

    sh:message "qNvdriverAdhes: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined qNvdriverAdhes when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:qNvdriverAdhes ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined qNvdriverAdhes
    }
    """ ;

    sh:severity sh:Violation .

era-sh:QNvemrrls a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:qNvemrrls ;
    era:scope "local" ;

    rdfs:comment "Qualifier defining whether the application of the emergency brake for reasons other than a trip can be revoked as soon as the conditions for it have disappeared or after the train has come to a complete standstill."@en ;
    # Source: ontology comment for qNvemrrls

    sh:class era:Concept ; 
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one value for each CommonCharacteristicsSubset

    sh:message "qNvemrrls: The CommonCharacteristicsSubset must have at most one qNvemrrls defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid qNvemrrls concept (as an IRI)

    sh:path era:qNvemrrls ;

    sh:severity sh:Violation .

era-sh:QNvemrrlsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:qNvemrrls ;
    era:scope "local" ;

    rdfs:comment "Applicable when the qNvemrrls is required to be defined."@en ;
    # Source: inferred from the context of qNvemrrls needing a defined value

    sh:message "qNvemrrls: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined qNvemrrls when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:qNvemrrls ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined qNvemrrls
    }
    """ ;

    sh:severity sh:Violation .

era-sh:QuieterRoutesExemptedCountry a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:quieterRoutesExemptedCountry ;
    era:scope "local" ;

    rdfs:comment "Country where a vehicle may operate without noise restrictions."@en ;
    # Source: ontology comment for quieterRoutesExemptedCountry

    sh:class geosparql:Concept ;
    # Source: ontology range indicates it must be an instance of a Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one exempted country for each Vehicle

    sh:message "quieterRoutesExemptedCountry: The Vehicle must have at most one exempted country defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid country concept (as an IRI)

    sh:path era:quieterRoutesExemptedCountry ;

    sh:severity sh:Violation .

era-sh:QuieterRoutesExemptedCountryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:quieterRoutesExemptedCountry ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Vehicle requires a defined exempted country."@en ;
    # Source: inferred from the context of Vehicle needing this information

    sh:message "quieterRoutesExemptedCountry: This error is due to the Vehicle violating the rule: must have defined quieterRoutesExemptedCountry when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:quieterRoutesExemptedCountry ?value } .
        # Check if the Vehicle requires a defined quieterRoutesExemptedCountry
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RailInclination a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ; 
    era:affectedProperty era:railInclination ; 
    era:rinfIndex "1.1.1.1.4.3" ; 
    era:scope "local" ;

    rdfs:comment "An angle defining the inclination of the head of a rail relative to the running surface."@en ;
    # Source: ontology comment for railInclination

    sh:datatype xsd:integer ; 
    # Source: ontology range indicates it must be an integer value

    sh:maxCount 1 ; 
    # Inferred: expected at most one rail inclination for each RunningTrack

    sh:message "railInclination: The RunningTrack must have at most one rail inclination defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid inclination concept (as an IRI)

    sh:path era:railInclination ;

    sh:severity sh:Violation .

era-sh:RailInclinationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ; 
    era:affectedProperty era:railInclination ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the rail inclination is required to be defined."@en ;
    # Source: inferred from the context of rail inclination needing to be defined

    sh:message "railInclination: This error is due to the RunningTrack violating the rule: must have defined railInclination when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:railInclination ?value } .
        # Check if the RunningTrack requires a defined railInclination
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ReasonsEtcsRadioBlockCenterReject a sh:PropertyShape ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:reasonsEtcsRadioBlockCenterReject ;
    era:rinfIndex "1.1.1.3.2.15" ; 
    era:scope "local" ;

    rdfs:comment "List of reasons for which an ETCS Radio Block Center can reject a train."@en ;
    # Source: ontology comment for reasonsEtcsRadioBlockCenterReject

    sh:class geosparql:Concept ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one reason for each RadioBlockCenter

    sh:message "reasonsEtcsRadioBlockCenterReject: The RadioBlockCenter must have at most one reason for rejection defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid reason concept (as an IRI)

    sh:path era:reasonsEtcsRadioBlockCenterReject ;

    sh:severity sh:Violation .

era-sh:ReasonsEtcsRadioBlockCenterRejectApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:reasonsEtcsRadioBlockCenterReject ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RadioBlockCenter requires defined reasons for rejection."@en ;
    # Source: inferred from the context of rejection reasons needing to be defined

    sh:message "reasonsEtcsRadioBlockCenterReject: This error is due to the RadioBlockCenter violating the rule: must have defined reasonsEtcsRadioBlockCenterReject when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?blockCenterLabel WHERE {
        $this rdfs:label ?blockCenterLabel .
        FILTER NOT EXISTS { $this era:reasonsEtcsRadioBlockCenterReject ?value } .
        # Check if the RadioBlockCenter requires a defined reasonsEtcsRadioBlockCenterReject
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ReferenceBorderPoint a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:referenceBorderPoint ;
    era:scope "local" ;

    rdfs:comment "Relates an operational point that is a border point with an instance of the list of reference border points that are specified in the RINF Application Guide."@en ;
    # Source: ontology comment for referenceBorderPoint

    sh:class era:ReferenceBorderPoint ;
    # Source: ontology range indicates it must be an instance of ReferenceBorderPoint

    sh:maxCount 1 ;
    # Inferred: expected at most one reference border point for each OperationalPoint

    sh:message "referenceBorderPoint: The OperationalPoint must have at most one reference border point defined as a ReferenceBorderPoint."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid ReferenceBorderPoint (as an IRI)

    sh:path era:referenceBorderPoint ;

    sh:severity sh:Violation .

era-sh:ReferenceBorderPointApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:referenceBorderPoint ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint requires a defined reference border point."@en ;
    # Source: inferred from the context of OperationalPoint needing a reference border point

    sh:message "referenceBorderPoint: This error is due to the OperationalPoint violating the rule: must have defined reference border point when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?operationalPointLabel WHERE {
        $this rdfs:label ?operationalPointLabel .
        FILTER NOT EXISTS { $this era:referenceBorderPoint ?value } .
        # Check if the OperationalPoint requires a defined reference border point
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Role a sh:PropertyShape ;
    era:affectedClass era:Body ;
    era:affectedProperty era:role ;
    era:scope "local" ;

    rdfs:comment "Indicates the relationship of a Body to the organisation roles that it can play."@en ;
    # Source: ontology comment for role

    sh:class era:OrganisationRole ;
    # Source: ontology range indicates it must be an instance of OrganisationRole

    sh:maxCount 1 ;
    # Inferred: expected at most one role for each Body, as roles are typically singular in context

    sh:message "role: The Body must have at most one role defined as an OrganisationRole."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid OrganisationRole (as an IRI)

    sh:path era:role ;

    sh:severity sh:Violation .

era-sh:RoleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Body ;
    era:affectedProperty era:role ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Body requires a defined role."@en ;
    # Source: inferred from the context of Body needing a defined role

    sh:message "role: This error is due to the Body violating the rule: must have defined role when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?bodyLabel WHERE {
        $this rdfs:label ?bodyLabel .
        FILTER NOT EXISTS { $this era:role ?value } .
        # Check if the Body requires a defined role
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RoleOf a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:roleOf ;
    era:scope "local" ;

    rdfs:comment "Indicates the corresponding Body that plays a certain organisation role."@en ;
    # Source: ontology comment for roleOf

    sh:class era:Body ;
    # Source: ontology range indicates it must be an instance of Body

    sh:maxCount 1 ;
    # Inferred: expected at most one roleOf for each OrganisationRole, as roles are typically singular in context

    sh:message "roleOf: The OrganisationRole must have at most one roleOf defined as a Body."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Body (as an IRI)

    sh:path era:roleOf ;

    sh:severity sh:Violation .

era-sh:RoleOfApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:roleOf ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OrganisationRole requires a defined roleOf."@en ;
    # Source: inferred from the context of OrganisationRole needing a defined roleOf

    sh:message "roleOf: This error is due to the OrganisationRole violating the rule: must have defined roleOf when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?roleLabel WHERE {
        $this rdfs:label ?roleLabel .
        FILTER NOT EXISTS { $this era:roleOf ?value } .
        # Check if the OrganisationRole requires a defined roleOf
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RollingStockFireCategory a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:rollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.10" ;
    era:scope "local" ;

    rdfs:comment "Categorisation how a passenger train with a fire on board will continue to operate for a defined time period."@en ;
    # Source: ontology comment for rollingStockFireCategory

    sh:class rdfs:Resource ; 
    # Inferred: expected to reference a valid concept (as an IRI)

    sh:maxCount 1 ; 
    # Inferred: expected at most one fire category for each CommonCharacteristicsSubset

    sh:message "rollingStockFireCategory: The CommonCharacteristicsSubset must have at most one rollingStockFireCategory defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid rolling stock fire category (as an IRI)

    sh:path era:rollingStockFireCategory ;

    sh:severity sh:Violation .

era-sh:RollingStockFireCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:rollingStockFireCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the rollingStockFireCategory is required to be defined."@en ;
    # Source: inferred from the context of rollingStockFireCategory needing to be defined

    sh:message "rollingStockFireCategory: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined rollingStockFireCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:rollingStockFireCategory ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined rollingStockFireCategory
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SafeConsistLengthInformationNecessary a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:safeConsistLengthInformationNecessary ;
    era:rinfIndex "1.1.1.3.2.11" ; 
    era:scope "local" ;

    rdfs:comment "Indication whether safe consist train length information from on-board is required to access the line for safety reasons and the required safety integrity level."@en ;
    # Source: ontology comment for safeConsistLengthInformationNecessary

    sh:class rdfs:Resource ; 
    # Inferred: expected to reference a valid concept (as an IRI)

    sh:maxCount 1 ; 
    # Inferred: expected at most one safe consist length information necessary for each CommonCharacteristicsSubset

    sh:message "safeConsistLengthInformationNecessary: The CommonCharacteristicsSubset must have at most one safe consist length information necessary defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid safe consist length information necessary concept (as an IRI)

    sh:path era:safeConsistLengthInformationNecessary ;

    sh:severity sh:Violation .

era-sh:SafeConsistLengthInformationNecessaryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:safeConsistLengthInformationNecessary ;
    era:scope "local" ;

    rdfs:comment "Applicable when the safe consist length information is required to be defined."@en ;
    # Source: inferred from the context of safe consist length information needing to be defined

    sh:message "safeConsistLengthInformationNecessary: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined safeConsistLengthInformationNecessary when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:safeConsistLengthInformationNecessary ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined safeConsistLengthInformationNecessary
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SchematicOverviewOP a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:schematicOverviewOP ;
    era:rinfIndex "1.2.0.0.0.7.1" ;
    era:scope "local" ;

    rdfs:comment "Document providing the schematic overview of the operational point."@en ;
    # Source: ontology comment for schematicOverviewOP

    sh:datatype xsd:anyURI ;
    # Source: ontology range indicates it must be a valid URI

    sh:maxCount 1 ;
    # Inferred: expected at most one schematic overview for each OperationalPoint

    sh:message "schematicOverviewOP: The OperationalPoint must have at most one schematic overview defined as a URI."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid schematic overview (as an IRI)

    sh:path era:schematicOverviewOP ;

    sh:severity sh:Violation .

era-sh:SchematicOverviewOPApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:schematicOverviewOP ;
    era:scope "local" ;

    rdfs:comment "Applicable when the schematic overview is required to be defined."@en ;
    # Source: inferred from the context of schematic overview needing to be defined

    sh:message "schematicOverviewOP: This error is due to the OperationalPoint violating the rule: must have defined schematic overview when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:schematicOverviewOP ?value } .
        # Check if the OperationalPoint requires a defined schematic overview
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Side a sh:PropertyShape ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:side ;
    era:scope "local" ;

    rdfs:comment "Indication of the position of the signal in relation to the track in the running direction from the origin of the referencing system (e.g., direction of the main line)."@en ;
    # Source: ontology comment for side

    sh:class geosparql:Concept ; 
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one side for each Orientation

    sh:message "side: The Orientation must have at most one side defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid side concept (as an IRI)

    sh:path era:side ;

    sh:severity sh:Violation .

era-sh:SideApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Orientation ;
    era:affectedProperty era:side ;
    era:scope "local" ;

    rdfs:comment "Applicable when the side is required to be defined."@en ;
    # Source: inferred from the context of side needing to be defined

    sh:message "side: This error is due to the Orientation violating the rule: must have defined side when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?orientationLabel WHERE {
        $this rdfs:label ?orientationLabel .
        FILTER NOT EXISTS { $this era:side ?value } .
        # Check if the Orientation requires a defined side
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Siding a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:siding ;
    era:scope "local" ;

    rdfs:comment "Reference to a related siding."@en ;
    # Source: ontology comment for siding

    sh:class era:Siding ;
    # Source: ontology range indicates it must be an instance of Siding

    sh:maxCount 1 ;
    # Inferred: expected at most one siding for each OperationalPoint

    sh:message "siding: The OperationalPoint must have at most one siding defined as a Siding."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid siding (as an IRI)

    sh:path era:siding ;

    sh:severity sh:Violation .

era-sh:SidingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:siding ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint requires a defined siding."@en ;
    # Source: inferred from the context of OperationalPoint needing a siding

    sh:message "siding: This error is due to the OperationalPoint violating the rule: must have defined siding when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:siding ?value } .
        # Check if the OperationalPoint requires a defined siding
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SignalOrientation a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalOrientation ;
    era:rinfIndex "1.1.1.3.14.3" ;
    era:scope "local" ;

    rdfs:comment "Relative position to the line of reference, given in km and indication if the signal refers to normal or opposite track direction."@en ;
    # Source: ontology comment for signalOrientation

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one signal orientation for each Signal

    sh:message "signalOrientation: The Signal must have at most one signal orientation defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid signal orientation concept (as an IRI)

    sh:path era:signalOrientation ;

    sh:severity sh:Violation .

era-sh:SignalOrientationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalOrientation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the signal orientation is required to be defined."@en ;
    # Source: inferred from the context of signal orientation needing to be defined

    sh:message "signalOrientation: This error is due to the Signal violating the rule: must have defined signal orientation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?signalLabel WHERE {
        $this rdfs:label ?signalLabel .
        FILTER NOT EXISTS { $this era:signalOrientation ?value } .
        # Check if the Signal requires a defined signalOrientation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SignalType a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalType ;
    era:rinfIndex "1.1.1.3.14.2" ;
    era:scope "local" ;

    rdfs:comment "Signalling information for Route Book compilation. This list shall include fixed signals that protect danger points."@en ;
    # Source: ontology comment for signalType

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one signal type for each Signal

    sh:message "signalType: The Signal must have at most one signal type defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid signal type concept (as an IRI)

    sh:path era:signalType ;

    sh:severity sh:Violation .

era-sh:SignalTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the signal type is required to be defined."@en ;
    # Source: inferred from the context of signal type needing to be defined

    sh:message "signalType: This error is due to the Signal violating the rule: must have defined signal type when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?signalLabel WHERE {
        $this rdfs:label ?signalLabel .
        FILTER NOT EXISTS { $this era:signalType ?value } .
        # Check if the Signal requires a defined signal type
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SnowIceHailConditions a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:snowIceHailConditions ;
    era:scope "local" ;

    rdfs:comment "Snow, ice and hail conditions."@en ;
    # Source: ontology comment for snowIceHailConditions

    sh:class geosparql:Concept ;
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ;
    # Inferred: expected at most one snow, ice, or hail condition for each VehicleType

    sh:message "snowIceHailConditions: The VehicleType must have at most one snowIceHailConditions defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid snow, ice, or hail condition concept (as an IRI)

    sh:path era:snowIceHailConditions ;

    sh:severity sh:Violation .

era-sh:SnowIceHailConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:snowIceHailConditions ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires defined snow, ice, or hail conditions."@en ;
    # Source: inferred from the context of VehicleType needing to define snow, ice, or hail conditions

    sh:message "snowIceHailConditions: This error is due to the VehicleType violating the rule: must have defined snowIceHailConditions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:snowIceHailConditions ?value } .
        # Check if the VehicleType requires defined snowIceHailConditions
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SolNature a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:solNature ;
    era:rinfIndex "1.1.0.0.0.6" ;
    era:scope "local" ;

    rdfs:comment "Kind of Section of Line expressing size of presented data which depends on fact whether it connects OPs generated by division of a big node into several OPs or not."@en ;
    # Source: ontology comment for solNature

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one nature for each SectionOfLine

    sh:message "solNature: The SectionOfLine must have at most one solNature defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid solNature concept (as an IRI)

    sh:path era:solNature ;

    sh:severity sh:Violation .

era-sh:SolNatureApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:solNature ;
    era:scope "local" ;

    rdfs:comment "Applicable when the solNature is required to be defined."@en ;
    # Source: inferred from the context of SectionOfLine needing a defined solNature

    sh:message "solNature: This error is due to the SectionOfLine violating the rule: must have defined solNature when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:solNature ?value } .
        # Check if the SectionOfLine requires a defined solNature
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SpecialAreaType a sh:PropertyShape ;
    era:affectedClass era:SpecialArea ;
    era:affectedProperty era:specialAreaType ;
    era:scope "local" ;

    rdfs:comment "Indicates the special area or location types such as safe areas and restricted area types."@en ;
    # Source: ontology comment for specialAreaType

    sh:class geosparql:Concept ;
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ;
    # Inferred: expected at most one special area type for each SpecialArea

    sh:message "specialAreaType: The SpecialArea must have at most one specialAreaType defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid special area type concept (as an IRI)

    sh:path era:specialAreaType ;

    sh:severity sh:Violation .

era-sh:SpecialAreaTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SpecialArea ;
    era:affectedProperty era:specialAreaType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SpecialArea requires a defined specialAreaType."@en ;
    # Source: inferred from the context of SpecialArea needing a defined specialAreaType

    sh:message "specialAreaType: This error is due to the SpecialArea violating the rule: must have defined specialAreaType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?areaLabel WHERE {
        $this rdfs:label ?areaLabel .
        FILTER NOT EXISTS { $this era:specialAreaType ?value } .
        # Check if the SpecialArea requires a defined specialAreaType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SpecialTunnelArea a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:specialTunnelArea ;
    era:scope "local" ;

    rdfs:comment "Relates a tunnel with a special area or location."@en ;
    # Source: ontology comment for specialTunnelArea

    sh:class era:SpecialTunnelArea ;
    # Source: ontology range indicates it must be an instance of SpecialTunnelArea

    sh:maxCount 1 ;
    # Inferred: expected at most one special tunnel area for each Tunnel

    sh:message "specialTunnelArea: The Tunnel must have at most one specialTunnelArea defined as a SpecialTunnelArea."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid special tunnel area concept (as an IRI)

    sh:path era:specialTunnelArea ;

    sh:severity sh:Violation .

era-sh:SpecialTunnelAreaApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:specialTunnelArea ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Tunnel requires a defined specialTunnelArea."@en ;
    # Source: inferred from the context of Tunnel needing to define specialTunnelArea

    sh:message "specialTunnelArea: This error is due to the Tunnel violating the rule: must have defined specialTunnelArea when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:specialTunnelArea ?value } .
        # Check if the Tunnel requires a defined specialTunnelArea
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StandardCombinedTransportContainers a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:standardCombinedTransportContainers ;
    era:rinfIndex "1.1.1.1.3.8" ;
    era:scope "local" ;

    rdfs:comment "Coding for combined transport for containers (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    # Source: ontology comment for standardCombinedTransportContainers

    sh:class rdfs:Resource ; 
    # Inferred: expected to reference a valid concept (as an IRI)

    sh:maxCount 1 ; 
    # Inferred: expected at most one standard combined transport container for each CommonCharacteristicsSubset

    sh:message "standardCombinedTransportContainers: The CommonCharacteristicsSubset must have at most one standard combined transport container defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid standard combined transport container concept (as an IRI)

    sh:path era:standardCombinedTransportContainers ;

    sh:severity sh:Violation .

era-sh:StandardCombinedTransportContainersApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:standardCombinedTransportContainers ;
    era:scope "local" ;

    rdfs:comment "Applicable when the standard combined transport containers are required to be defined."@en ;
    # Source: inferred from the context of standard combined transport containers needing to be defined

    sh:message "standardCombinedTransportContainers: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined standardCombinedTransportContainers when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:standardCombinedTransportContainers ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined standard combined transport containers
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StandardCombinedTransportRollerUnits a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:standardCombinedTransportRollerUnits ;
    era:rinfIndex "1.1.1.1.3.9" ;
    era:scope "local" ;

    rdfs:comment "Coding for combined transport for roller units (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
    # Source: ontology comment for standardCombinedTransportRollerUnits

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one standard combined transport roller unit for each CommonCharacteristicsSubset

    sh:message "standardCombinedTransportRollerUnits: The CommonCharacteristicsSubset must have at most one standard combined transport roller unit defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid standard combined transport roller unit concept (as an IRI)

    sh:path era:standardCombinedTransportRollerUnits ;

    sh:severity sh:Violation .

era-sh:StandardCombinedTransportRollerUnitsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:standardCombinedTransportRollerUnits ;
    era:scope "local" ;

    rdfs:comment "Applicable when the standard combined transport roller units are required to be defined."@en ;
    # Source: inferred from the context of standard combined transport roller units needing to be defined

    sh:message "standardCombinedTransportRollerUnits: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined standard combined transport roller units when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:standardCombinedTransportRollerUnits ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined standard combined transport roller units
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StartLocation a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:startLocation ;
    era:rinfIndex "1.1.1.1.8.3" ;
    era:scope "local" ;

    rdfs:comment "Geographical coordinates in decimal degrees and km of the line at the beginning of a tunnel."@en ;
    # Source: ontology comment for startLocation

    sh:datatype xsd:string ;
    # Inferred: based on data presentation format which is a predefined character string

    sh:maxCount 1 ;
    # Inferred: expected at most one start location for each Tunnel

    sh:message "startLocation: The Tunnel must have at most one start location defined as a valid geographical coordinate string."@en ;

    sh:path era:startLocation ;

    sh:severity sh:Violation .

era-sh:StartLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:startLocation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the start location is required to be defined for the Tunnel."@en ;
    # Source: inferred from the context of Tunnel needing a defined start location

    sh:message "startLocation: This error is due to the Tunnel violating the rule: must have defined start location when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:startLocation ?value } .
        # Check if the Tunnel requires a defined start location
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StartsAt a sh:PropertyShape ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:startsAt ;
    era:scope "local" ;

    rdfs:comment "Specifies the starting coordinate of a linear reference."@en ;
    # Source: ontology comment for startsAt

    sh:class era:TopologicalCoordinate ;
    # Source: ontology range indicates it must be an instance of TopologicalCoordinate

    sh:maxCount 1 ;
    # Inferred: expected at most one starting coordinate for each NetLinearReference

    sh:message "startsAt: The NetLinearReference must have at most one starting coordinate defined as a TopologicalCoordinate."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid starting coordinate (as an IRI)

    sh:path era:startsAt ;

    sh:severity sh:Violation .

era-sh:StartsAtCoordinatesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetLinearReference ;
    era:affectedProperty era:startsAt ;
    era:scope "local" ;

    rdfs:comment "Applicable when the NetLinearReference requires a defined starting coordinate."@en ;
    # Source: inferred from the context of NetLinearReference needing a starting coordinate

    sh:message "startsAt: This error is due to the NetLinearReference violating the rule: must have defined starting coordinate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?referenceLabel WHERE {
        $this rdfs:label ?referenceLabel .
        FILTER NOT EXISTS { $this era:startsAt ?value } .
        # Check if the NetLinearReference requires a defined starting coordinate
    }
    """ ;

    sh:severity sh:Violation .

era-sh:State a sh:PropertyShape ;
    era:affectedClass era:Certificate ;
    era:affectedProperty era:state ;
    era:scope "local" ;

    rdfs:comment "Denoting the state of the certificate. Can be in one of the following: Amended, New, Suspended, Withdrawn."@en ;
    # Source: ontology comment for state

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one state for each Certificate

    sh:message "state: The Certificate must have at most one state defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid state concept (as an IRI)

    sh:path era:state ;

    sh:severity sh:Violation .

era-sh:StateApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Certificate ;
    era:affectedProperty era:state ;
    era:scope "local" ;

    rdfs:comment "Applicable when the state of the Certificate is required to be defined."@en ;
    # Source: inferred from the context of certificate needing a defined state

    sh:message "state: This error is due to the Certificate violating the rule: must have defined state when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?certificateLabel WHERE {
        $this rdfs:label ?certificateLabel .
        FILTER NOT EXISTS { $this era:state ?value } .
        # Check if the Certificate requires a defined state
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SubCategory a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:subCategory ;
    era:scope "local" ;

    rdfs:comment "(Deprecated) Vehicle subcategory."@en ;
    # Source: ontology comment for subCategory

    sh:class rdfs:Resource ; 
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ; 
    # Inferred: expected at most one subcategory for each VehicleType

    sh:message "subCategory: The VehicleType must have at most one subCategory defined as a Resource."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid subcategory concept (as an IRI)

    sh:path era:subCategory ;

    sh:severity sh:Violation .

era-sh:SubCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:subCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a defined subCategory."@en ;
    # Source: inferred from the context of VehicleType needing to define subCategory

    sh:message "subCategory: This error is due to the VehicleType violating the rule: must have defined subCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:subCategory ?value } .
        # Check if the VehicleType requires defined subCategory
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SubsetOf a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:subsetOf ;
    era:scope "local" ;

    rdfs:comment "Relates a subset with common characteristics with another subset with common characteristics."@en ;
    # Source: ontology comment for subsetOf

    sh:class era:CommonCharacteristicsSubset ;
    # Source: ontology range indicates it must be a valid CommonCharacteristicsSubset

    sh:maxCount 1 ; 
    # Inferred: expected at most one subset relation for each CommonCharacteristicsSubset

    sh:message "subsetOf: The CommonCharacteristicsSubset must have at most one subsetOf relation defined as a CommonCharacteristicsSubset."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid subset (as an IRI)

    sh:path era:subsetOf ;

    sh:severity sh:Violation .

era-sh:SubsetOfApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:subsetOf ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined subsetOf relationship."@en ;
    # Source: inferred from the context of CommonCharacteristicsSubset needing to define subsetOf

    sh:message "subsetOf: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined subsetOf when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:subsetOf ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined subsetOf
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SubsidiaryLocationType a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationType ;
    era:scope "local" ;

    rdfs:comment "Indicates the subsidiary location type that belongs to a taxonomy."@en ;
    # Source: ontology comment for subsidiaryLocationType

    sh:class geosparql:Concept ; 
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one subsidiary location type for each SubsidiaryLocation

    sh:message "subsidiaryLocationType: The SubsidiaryLocation must have at most one subsidiaryLocationType defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid subsidiary location type concept (as an IRI)

    sh:path era:subsidiaryLocationType ;

    sh:severity sh:Violation .

era-sh:SubsidiaryLocationTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the subsidiary location type is required to be defined."@en ;
    # Source: inferred from the context of SubsidiaryLocation needing a defined subsidiaryLocationType

    sh:message "subsidiaryLocationType: This error is due to the SubsidiaryLocation violating the rule: must have defined subsidiaryLocationType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsidiaryLocationLabel WHERE {
        $this rdfs:label ?subsidiaryLocationLabel .
        FILTER NOT EXISTS { $this era:subsidiaryLocationType ?value } .
        # Check if the SubsidiaryLocation requires a defined subsidiaryLocationType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SupportedPlatformHeight a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:supportedPlatformHeight ;
    era:scope "local" ;

    rdfs:comment "Platform height for which the vehicle is designed."@en ;
    # Source: ontology comment for supportedPlatformHeight

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid concept

    sh:maxCount 1 ;
    # Inferred: expected at most one supported platform height for each VehicleType

    sh:message "supportedPlatformHeight: The VehicleType must have at most one supportedPlatformHeight defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid supported platform height concept (as an IRI)

    sh:path era:supportedPlatformHeight ;

    sh:severity sh:Violation .

era-sh:SupportedPlatformHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:supportedPlatformHeight ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a defined supportedPlatformHeight."@en ;
    # Source: inferred from the context of VehicleType needing to define supportedPlatformHeight

    sh:message "supportedPlatformHeight: This error is due to the VehicleType violating the rule: must have defined supportedPlatformHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:supportedPlatformHeight ?value } .
        # Check if the VehicleType requires a defined supportedPlatformHeight
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TdsFrenchTrainDetectionSystemLimitation a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsFrenchTrainDetectionSystemLimitation ;
    era:rinfIndex "1.1.1.3.7.1.4" ;
    era:scope "local" ;

    rdfs:comment "Specific for route compatibility check on French network. Sections with various conditions related to train detection limitations."@en ;
    # Source: ontology comment for tdsFrenchTrainDetectionSystemLimitation

    sh:class era:FrenchTrainDetectionSystemLimitation ;
    # Source: ontology range indicates it must be an instance of FrenchTrainDetectionSystemLimitation

    sh:maxCount 1 ;
    # Inferred: expected at most one limitation for each TrainDetectionSystem

    sh:message "tdsFrenchTrainDetectionSystemLimitation: The TrainDetectionSystem must have at most one tdsFrenchTrainDetectionSystemLimitation defined as a FrenchTrainDetectionSystemLimitation."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid French train detection system limitation concept (as an IRI)

    sh:path era:tdsFrenchTrainDetectionSystemLimitation ;

    sh:severity sh:Violation .

era-sh:TdsFrenchTrainDetectionSystemLimitationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsFrenchTrainDetectionSystemLimitation ;
    era:scope "local" ;

    rdfs:comment "Applicable only on running tracks in France."@en ;
    # Source: dependencyNote in ontology

    sh:message "tdsFrenchTrainDetectionSystemLimitation: This error is due to the TrainDetectionSystem violating the rule: must have defined tdsFrenchTrainDetectionSystemLimitation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trainDetectionLabel WHERE {
        $this rdfs:label ?trainDetectionLabel .
        FILTER NOT EXISTS { $this era:tdsFrenchTrainDetectionSystemLimitation ?value } .
        # Check if the TrainDetectionSystem requires a defined tdsFrenchTrainDetectionSystemLimitation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TdsMaximumMagneticField a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsMaximumMagneticField ;
    era:rinfIndex "1.1.1.3.4.2.3" ;
    era:scope "local" ;

    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. It should be provided in 3 directions."@en ;
    # Source: ontology comment for tdsMaximumMagneticField

    sh:class era:MaximumMagneticField ; 
    # Source: ontology range indicates it must be a valid MaximumMagneticField concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one maximum magnetic field for each TrainDetectionSystem

    sh:message "tdsMaximumMagneticField: The TrainDetectionSystem must have at most one maximum magnetic field defined as a MaximumMagneticField."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid maximum magnetic field concept (as an IRI)

    sh:path era:tdsMaximumMagneticField ;

    sh:severity sh:Violation .

era-sh:TdsMaximumMagneticFieldApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsMaximumMagneticField ;
    era:scope "local" ;

    rdfs:comment "Applicable for train detection systems based on axle counters."@en ;
    # Source: ontology defines it as mandatory for train detection systems based on axle counters

    sh:message "tdsMaximumMagneticField: This error is due to the TrainDetectionSystem violating the rule: must have defined maximum magnetic field when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trainDetectionLabel WHERE {
        $this rdfs:label ?trainDetectionLabel .
        FILTER NOT EXISTS { $this era:tdsMaximumMagneticField ?value } .
        # Check if the TrainDetectionSystem requires a defined maximum magnetic field
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TdsMinAxleLoadVehicleCategory a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsMinAxleLoadVehicleCategory ;
    era:rinfIndex "1.1.1.3.7.11.1" ;
    era:scope "local" ;

    rdfs:comment "Indication of load given in tons depending on the category of vehicle."@en ;
    # Source: ontology comment for tdsMinAxleLoadVehicleCategory

    sh:class era:MinAxleLoadVehicleCategory ;
    # Source: ontology range indicates it must be an instance of MinAxleLoadVehicleCategory

    sh:maxCount 1 ;
    # Inferred: expected at most one minimum axle load category for each TrainDetectionSystem

    sh:message "tdsMinAxleLoadVehicleCategory: The TrainDetectionSystem must have at most one minimum axle load vehicle category defined as a MinAxleLoadVehicleCategory."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid minimum axle load vehicle category concept (as an IRI)

    sh:path era:tdsMinAxleLoadVehicleCategory ;

    sh:severity sh:Violation .

era-sh:TdsMinAxleLoadVehicleCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tdsMinAxleLoadVehicleCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the selected option for parameter 1.1.1.3.7.1.1 is ‘track circuit’ or ‘wheel detector’."@en ;
    # Source: RAG explanation on applicability

    sh:message "tdsMinAxleLoadVehicleCategory: This error is due to the TrainDetectionSystem violating the rule: must have defined minimum axle load vehicle category when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trainDetectionLabel WHERE {
        $this rdfs:label ?trainDetectionLabel .
        FILTER NOT EXISTS { $this era:tdsMinAxleLoadVehicleCategory ?value } .
        # Check if the TrainDetectionSystem requires a defined minimum axle load vehicle category
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TemperatureRange a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:temperatureRange ;
    era:rinfIndex "1.1.1.1.2.6" ;
    era:scope "local" ;

    rdfs:comment "Temperature range for unrestricted access to the line according to European standard."@en ;
    # Source: ontology comment for temperatureRange

    sh:class rdfs:Resource ;
    # Source: ontology range indicates it must be a valid concept or resource

    sh:maxCount 1 ;
    # Inferred: expected at most one temperature range for each CommonCharacteristicsSubset

    sh:message "temperatureRange: The CommonCharacteristicsSubset must have at most one temperature range defined as a valid concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid temperature range concept (as an IRI)

    sh:path era:temperatureRange ;

    sh:severity sh:Violation .

era-sh:TemperatureRangeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:temperatureRange ;
    era:scope "local" ;

    rdfs:comment "Applicable when the temperature range is required to be defined for the CommonCharacteristicsSubset."@en ;
    # Source: inferred from the context of CommonCharacteristicsSubset needing a defined temperature range

    sh:message "temperatureRange: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined temperature range when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:temperatureRange ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined temperature range
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TenClassification a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tenClassification ;
    era:scope "local" ;

    rdfs:comment "Indication of the part of the trans-European network the infrastructure element belongs to."@en ;
    # Source: ontology comment for tenClassification

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one TEN classification for each CommonCharacteristicsSubset

    sh:message "tenClassification: The CommonCharacteristicsSubset must have at most one tenClassification defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid TEN classification concept (as an IRI)

    sh:path era:tenClassification ;

    sh:severity sh:Violation .

era-sh:TenClassificationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tenClassification ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset requires a defined TEN classification."@en ;
    # Source: inferred from the context of CommonCharacteristicsSubset needing to define tenClassification

    sh:message "tenClassification: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined tenClassification when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:tenClassification ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined tenClassification
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityTSIReference a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityTSIReference ;
    era:scope "local" ;

    rdfs:comment "Reference case of a TSI thermal capacity."@en ;
    # Source: ontology comment for thermalCapacityTSIReference

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ; 
    # Inferred: expected at most one thermal capacity TSI reference for each VehicleType

    sh:message "thermalCapacityTSIReference: The VehicleType must have at most one thermalCapacityTSIReference defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid thermal capacity TSI reference concept (as an IRI)

    sh:path era:thermalCapacityTSIReference ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityTSIReferenceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityTSIReference ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType requires a defined thermal capacity TSI reference."@en ;
    # Source: inferred from the context of VehicleType needing to define thermalCapacityTSIReference

    sh:message "thermalCapacityTSIReference: This error is due to the VehicleType violating the rule: must have defined thermalCapacityTSIReference when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:thermalCapacityTSIReference ?value } .
        # Check if the VehicleType requires defined thermalCapacityTSIReference
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Track a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:track ;
    era:scope "local" ;

    rdfs:comment "Reference to a related railway track."@en ;
    # Source: ontology comment for track

    sh:class era:RunningTrack ;
    # Source: ontology range indicates it must be a RunningTrack

    sh:maxCount 1 ;
    # Inferred: expected at most one track reference per OperationalPoint

    sh:message "track: The OperationalPoint must have at most one track defined as a RunningTrack."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid RunningTrack (as an IRI)

    sh:path era:track ;

    sh:severity sh:Violation .

era-sh:TrackApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:track ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint requires a defined track."@en ;
    # Source: inferred from the context of OperationalPoint needing a defined track

    sh:message "track: This error is due to the OperationalPoint violating the rule: must have defined track when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?operationalPointLabel WHERE {
        $this rdfs:label ?operationalPointLabel .
        FILTER NOT EXISTS { $this era:track ?value } .
        # Check if the OperationalPoint requires a defined track
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrackDirection a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackDirection ;
    era:scope "local" ;

    rdfs:comment "The normal running direction is: N - same direction as in SoL, O - opposite direction to as in SoL, B - both directions."@en ;
    # Source: ontology comment for trackDirection

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one track direction for each RunningTrack

    sh:message "trackDirection: The RunningTrack must have at most one trackDirection defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid track direction concept (as an IRI)

    sh:path era:trackDirection ;

    sh:severity sh:Violation .

era-sh:TrackDirectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackDirection ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack requires a defined trackDirection."@en ;
    # Source: inferred from the context of RunningTrack needing a defined trackDirection

    sh:message "trackDirection: This error is due to the RunningTrack violating the rule: must have defined trackDirection when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:trackDirection ?value } .
        # Check if the RunningTrack requires a defined trackDirection
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrackLoadCapability a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackLoadCapability ;
    era:rinfIndex "1.1.1.1.2.4" ;
    era:scope "local" ;

    rdfs:comment "Relates the track with the class LoadCapability. A combination of the line category and speed at the weakest point of the track."@en ;
    # Source: ontology comment for trackLoadCapability

    sh:class era:LoadCapability ; 
    # Source: ontology range indicates it must be an instance of LoadCapability

    sh:maxCount 1 ; 
    # Inferred: expected at most one load capability for each RunningTrack

    sh:message "trackLoadCapability: The RunningTrack must have at most one trackLoadCapability defined as a LoadCapability."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ; 
    # Implied: expected to reference a valid LoadCapability (as an IRI)

    sh:path era:trackLoadCapability ;

    sh:severity sh:Violation .

era-sh:TrackLoadCapabilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackLoadCapability ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack requires a defined trackLoadCapability."@en ;
    # Source: inferred from the context of RunningTrack needing to define trackLoadCapability

    sh:message "trackLoadCapability: This error is due to the RunningTrack violating the rule: must have defined trackLoadCapability when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:trackLoadCapability ?value } .
        # Check if the RunningTrack requires a defined trackLoadCapability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrackPhaseInfo a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackPhaseInfo ;
    era:scope "local" ;

    rdfs:comment "Indication of required several information on phase separation."@en ;
    # Source: ontology comment for trackPhaseInfo

    sh:class era:PhaseInfo ;
    # Source: ontology range indicates it must be an instance of PhaseInfo

    sh:maxCount 1 ;
    # Inferred: expected at most one track phase info for each RunningTrack

    sh:message "trackPhaseInfo: The RunningTrack must have at most one trackPhaseInfo defined as a PhaseInfo."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid PhaseInfo (as an IRI)

    sh:path era:trackPhaseInfo ;

    sh:severity sh:Violation .

era-sh:TrackPhaseInfoApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackPhaseInfo ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Phase separation is defined as 'Y' in the related parameter."@en ;
    # Source: dependencyNote in ontology indicating applicability based on phase separation

    sh:message "trackPhaseInfo: This error is due to the RunningTrack violating the rule: must have defined trackPhaseInfo when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:trackPhaseInfo ?value } .
        # Check if the RunningTrack requires a defined trackPhaseInfo based on phase separation applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrackRaisedPantographsDistanceAndSpeed a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackRaisedPantographsDistanceAndSpeed ;
    era:rinfIndex "1.1.1.2.3.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minimum spacing centre line to centre line of adjacent pantograph heads, expressed in metres, at the given speed."@en ;
    # Source: ontology comment for trackRaisedPantographsDistanceAndSpeed

    sh:class era:RaisedPantographsDistanceAndSpeed ;
    # Source: ontology range indicates it must be an instance of RaisedPantographsDistanceAndSpeed

    sh:maxCount 1 ;
    # Inferred: expected at most one set of raised pantographs distance and speed for each RunningTrack

    sh:message "trackRaisedPantographsDistanceAndSpeed: The RunningTrack must have at most one trackRaisedPantographsDistanceAndSpeed defined as a RaisedPantographsDistanceAndSpeed."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid RaisedPantographsDistanceAndSpeed concept (as an IRI)

    sh:path era:trackRaisedPantographsDistanceAndSpeed ;

    sh:severity sh:Violation .

era-sh:TrackRaisedPantographsDistanceAndSpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackRaisedPantographsDistanceAndSpeed ;
    era:scope "local" ;

    rdfs:comment "Applicable only if 'Overhead contact line (OCL)' is selected in the related parameters."@en ;
    # Source: dependencyNote in ontology

    sh:message "trackRaisedPantographsDistanceAndSpeed: This error is due to the RunningTrack violating the rule: must have defined trackRaisedPantographsDistanceAndSpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:trackRaisedPantographsDistanceAndSpeed ?value } .
        # Check if the RunningTrack requires a defined trackRaisedPantographsDistanceAndSpeed when OCL is selected
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrackSystemSeparationInfo a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:trackSystemSeparationInfo ;
    era:rinfIndex "1.1.1.2.4.2.2" ;
    era:scope "local" ;

    rdfs:comment "Indication of required several information on system separation."@en ;
    # Source: ontology comment for trackSystemSeparationInfo

    sh:class era:SystemSeparationInfo ;
    # Source: ontology range indicates it must be an instance of SystemSeparationInfo

    sh:maxCount 1 ;
    # Inferred: expected at most one system separation info for each CommonCharacteristicsSubset

    sh:message "trackSystemSeparationInfo: The CommonCharacteristicsSubset must have at most one trackSystemSeparationInfo defined as a SystemSeparationInfo."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid SystemSeparationInfo (as an IRI)

    sh:path era:trackSystemSeparationInfo ;

    sh:severity sh:Violation .

era-sh:TrackSystemSeparationInfoApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:trackSystemSeparationInfo ;
    era:scope "local" ;

    rdfs:comment "Applicable when the existence of system separation is indicated."@en ;
    # Source: dependencyNote in ontology indicates applicability based on the indication of system separation

    sh:message "trackSystemSeparationInfo: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined trackSystemSeparationInfo when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:trackSystemSeparationInfo ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined trackSystemSeparationInfo based on the indication of system separation
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TracksideHABD a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tracksideHabd ;
    era:scope "local" ;

    rdfs:comment "Link between the running track and the HABD, covering the RINF parameters 1.1.1.1.7.(5-9)."@en ;
    # Source: ontology comment for tracksideHabd

    sh:class era:HABD ;
    # Source: ontology range indicates it must be an instance of HABD

    sh:maxCount 1 ;
    # Inferred: expected at most one trackside HABD for each RunningTrack

    sh:message "tracksideHabd: The RunningTrack must have at most one trackside HABD defined as a HABD."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid HABD (as an IRI)

    sh:path era:tracksideHabd ;

    sh:severity sh:Violation .

era-sh:TracksideHABDApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:tracksideHabd ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack requires a defined trackside HABD."@en ;
    # Source: inferred from the context of RunningTrack needing to define trackside HABD

    sh:message "tracksideHabd: This error is due to the RunningTrack violating the rule: must have defined trackside HABD when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:tracksideHabd ?value } .
        # Check if the RunningTrack requires a defined trackside HABD
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystem a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:trainDetectionSystem ;
    era:scope "local" ;

    rdfs:comment "Technical characteristics of the train detection systems installed in the section of line."@en ;
    # Source: ontology comment for trainDetectionSystem

    sh:class era:TrainDetectionSystem ;
    # Source: ontology range indicates it must be an instance of TrainDetectionSystem

    sh:maxCount 1 ;
    # Inferred: expected at most one train detection system for each CommonCharacteristicsSubset

    sh:message "trainDetectionSystem: The CommonCharacteristicsSubset must have at most one trainDetectionSystem defined as a TrainDetectionSystem."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid TrainDetectionSystem (as an IRI)

    sh:path era:trainDetectionSystem ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:trainDetectionSystem ;
    era:scope "local" ;

    rdfs:comment "Applicable when there are different train detection systems present."@en ;
    # Source: inferred from the context of CommonCharacteristicsSubset needing to define train detection systems

    sh:message "trainDetectionSystem: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined trainDetectionSystem when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:trainDetectionSystem ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined trainDetectionSystem
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheck a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheck ;
    era:rinfIndex "1.1.1.3.7.1.2" ; 
    era:scope "local" ;

    rdfs:comment "Reference to the technical specification of train detection system, in accordance with the specification referenced in Appendix A-1, index [D]."@en ;
    # Source: ontology comment for trainDetectionSystemSpecificCheck

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one specific check for each TrainDetectionSystem

    sh:message "trainDetectionSystemSpecificCheck: The TrainDetectionSystem must have at most one trainDetectionSystemSpecificCheck defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid train detection system specific check concept (as an IRI)

    sh:path era:trainDetectionSystemSpecificCheck ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheck ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the parameter 'Type of train detection system' is applicable."@en ;
    # Source: dependencyNote in ontology indicating applicability based on type of train detection system

    sh:message "trainDetectionSystemSpecificCheck: This error is due to the TrainDetectionSystem violating the rule: must have defined trainDetectionSystemSpecificCheck when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:trainDetectionSystemSpecificCheck ?value } .
        # Check if the TrainDetectionSystem requires defined trainDetectionSystemSpecificCheck based on type applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckDocument a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheckDocument ;
    era:scope "local" ;

    rdfs:comment "Electronic document from the IM stored by the Agency with precise values in accordance with TSI CCS Article 13 for the specific check to be performed for train detection systems."@en ;
    # Source: ontology comment for trainDetectionSystemSpecificCheckDocument

    sh:class era:Document ;
    # Source: ontology range indicates it must be an instance of Document

    sh:maxCount 1 ;
    # Inferred: expected at most one specific check document for each TrainDetectionSystem

    sh:message "trainDetectionSystemSpecificCheckDocument: The TrainDetectionSystem must have at most one trainDetectionSystemSpecificCheckDocument defined as a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Document (as an IRI)

    sh:path era:trainDetectionSystemSpecificCheckDocument ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemSpecificCheckDocumentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemSpecificCheckDocument ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the parameter 'Type of train detection system' is applicable."@en ;
    # Source: dependencyNote in ontology indicating applicability based on the type of train detection system

    sh:message "trainDetectionSystemSpecificCheckDocument: This error is due to the TrainDetectionSystem violating the rule: must have defined trainDetectionSystemSpecificCheckDocument when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:trainDetectionSystemSpecificCheckDocument ?value } .
        # Check if the TrainDetectionSystem requires defined trainDetectionSystemSpecificCheckDocument based on type applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemType a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemType ;
    era:scope "local" ;

    rdfs:comment "Indication of types of train detection systems installed."@en ;
    # Source: ontology comment for trainDetectionSystemType

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one type of train detection system for each TrainDetectionSystem

    sh:message "trainDetectionSystemType: The TrainDetectionSystem must have at most one trainDetectionSystemType defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid train detection system type concept (as an IRI)

    sh:path era:trainDetectionSystemType ;

    sh:severity sh:Violation .

era-sh:TrainDetectionSystemTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:trainDetectionSystemType ;
    era:scope "local" ;

    rdfs:comment "Applicable when there are different types of train detection systems present."@en ;
    # Source: inferred from the context of TrainDetectionSystem needing to define its type

    sh:message "trainDetectionSystemType: This error is due to the TrainDetectionSystem violating the rule: must have defined trainDetectionSystemType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:trainDetectionSystemType ?value } .
        # Check if the TrainDetectionSystem requires defined trainDetectionSystemType
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantCompositeBrakeBlocks a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantCompositeBrakeBlocks ;
    era:rinfIndex "1.1.1.3.7.21" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules are compliant with the TSI."@en ;
    # Source: ontology comment for tsiCompliantCompositeBrakeBlocks

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantCompositeBrakeBlocks: The TrainDetectionSystem must have at most one tsiCompliantCompositeBrakeBlocks defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantCompositeBrakeBlocks ;

    sh:severity sh:Violation .

era-sh:TSICompliantCompositeBrakeBlocksApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantCompositeBrakeBlocks ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is 'track circuit'."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiCompliantCompositeBrakeBlocks: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantCompositeBrakeBlocks when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantCompositeBrakeBlocks ?value } .
        # Check if the TrainDetectionSystem requires a defined tsiCompliantCompositeBrakeBlocks when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantFerromagneticWheel a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantFerromagneticWheel ;
    era:rinfIndex "1.1.1.3.7.14" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules are compliant with the TSI for ferromagnetic characteristics of wheel material required."@en ;
    # Source: ontology comment for tsiCompliantFerromagneticWheel

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantFerromagneticWheel: The TrainDetectionSystem must have at most one tsiCompliantFerromagneticWheel defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantFerromagneticWheel ;

    sh:severity sh:Violation .

era-sh:TSICompliantFerromagneticWheelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantFerromagneticWheel ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is 'wheel detector'."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiCompliantFerromagneticWheel: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantFerromagneticWheel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantFerromagneticWheel ?value } .
        # Check if the TrainDetectionSystem requires a defined tsiCompliantFerromagneticWheel when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantMaxDistConsecutiveAxles a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMaxDistConsecutiveAxles ;
    era:rinfIndex "1.1.1.3.7.2.1" ;
    era:scope "local" ;

    rdfs:comment "Indication whether required distance between two consecutive axles is compliant with the TSI."@en ;
    # Source: ontology comment for tsiCompliantMaxDistConsecutiveAxles

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantMaxDistConsecutiveAxles: The TrainDetectionSystem must have at most one tsiCompliantMaxDistConsecutiveAxles defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantMaxDistConsecutiveAxles ;

    sh:severity sh:Violation .

era-sh:TSICompliantMaxDistConsecutiveAxlesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMaxDistConsecutiveAxles ;
    era:scope "local" ;

    rdfs:comment "Applicable when the required distance between two consecutive axles is relevant for TSI compliance."@en ;
    # Source: inferred from the definition and applicability in the RAG

    sh:message "tsiCompliantMaxDistConsecutiveAxles: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantMaxDistConsecutiveAxles when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantMaxDistConsecutiveAxles ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantMaxDistConsecutiveAxles based on TSI compliance relevance
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantMaxImpedanceWheelset a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMaxImpedanceWheelset ;
    era:rinfIndex "1.1.1.3.7.15.1" ;
    era:scope "local" ;

    rdfs:comment "TSI compliance of maximum permitted impedance between opposite wheels of a wheelset. Deprecated according to the amendment to the Regulation (EU) 2019/777."@en ;
    # Source: ontology comment for tsiCompliantMaxImpedanceWheelset

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantMaxImpedanceWheelset: The TrainDetectionSystem must have at most one tsiCompliantMaxImpedanceWheelset defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantMaxImpedanceWheelset ;

    sh:severity sh:Violation .

era-sh:TSICompliantMaxImpedanceWheelsetApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMaxImpedanceWheelset ;
    era:scope "local" ;

    rdfs:comment "Applicable when the impedance characteristics of the wheelset are relevant for TSI compliance."@en ;
    # Source: inferred from the context of TSI compliance relevance

    sh:message "tsiCompliantMaxImpedanceWheelset: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantMaxImpedanceWheelset when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantMaxImpedanceWheelset ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantMaxImpedanceWheelset based on TSI compliance relevance
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantMetalConstruction a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMetalConstruction ;
    era:rinfIndex "1.1.1.3.7.13" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules are compliant with the TSI for vehicle metal construction."@en ;
    # Source: ontology comment for tsiCompliantMetalConstruction

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantMetalConstruction: The TrainDetectionSystem must have at most one tsiCompliantMetalConstruction defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantMetalConstruction ;

    sh:severity sh:Violation .

era-sh:TSICompliantMetalConstructionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMetalConstruction ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is 'loop'."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiCompliantMetalConstruction: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantMetalConstruction when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantMetalConstruction ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantMetalConstruction based on applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantMetalFreeSpace a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMetalFreeSpace ;
    era:rinfIndex "1.1.1.3.7.12" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules are compliant with the TSI for metal-free space around wheels."@en ;
    # Source: ontology comment for tsiCompliantMetalFreeSpace

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantMetalFreeSpace: The TrainDetectionSystem must have at most one tsiCompliantMetalFreeSpace defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantMetalFreeSpace ;

    sh:severity sh:Violation .

era-sh:TSICompliantMetalFreeSpaceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantMetalFreeSpace ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is 'wheel detector'."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiCompliantMetalFreeSpace: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantMetalFreeSpace when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantMetalFreeSpace ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantMetalFreeSpace based on applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantRSTShuntImpedance a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantRSTShuntImpedance ;
    era:rinfIndex "1.1.1.3.7.23" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules are compliant with the TSI for the combination of RST characteristics influencing shunting impedance."@en ;
    # Source: ontology comment for tsiCompliantRSTShuntImpedance

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantRSTShuntImpedance: The TrainDetectionSystem must have at most one tsiCompliantRSTShuntImpedance defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantRSTShuntImpedance ;

    sh:severity sh:Violation .

era-sh:TSICompliantRSTShuntImpedanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantRSTShuntImpedance ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is 'track circuit'."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiCompliantRSTShuntImpedance: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantRSTShuntImpedance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantRSTShuntImpedance ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantRSTShuntImpedance based on applicability
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantSandCharacteristics a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantSandCharacteristics ;
    era:rinfIndex "1.1.1.3.7.19" ;
    era:scope "local" ;

    rdfs:comment "TSI Compliance of rules on sand characteristics. Deprecated according to the amendment to the Regulation (EU) 2019/777."@en ;
    # Source: ontology comment for tsiCompliantSandCharacteristics

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantSandCharacteristics: The TrainDetectionSystem must have at most one tsiCompliantSandCharacteristics defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantSandCharacteristics ;

    sh:severity sh:Violation .

era-sh:TSICompliantSandCharacteristicsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantSandCharacteristics ;
    era:scope "local" ;

    rdfs:comment "Applicable only if the nominal track gauge corresponds to 1520 mm."@en ;
    # Source: RAG explanation indicating applicability based on track gauge

    sh:message "tsiCompliantSandCharacteristics: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantSandCharacteristics when the nominal track gauge is 1520 mm."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantSandCharacteristics ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantSandCharacteristics when the nominal track gauge is 1520 mm
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantSanding a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantSanding ;
    era:rinfIndex "1.1.1.3.7.17" ;
    era:scope "local" ;

    rdfs:comment "TSI compliance of sanding rules to allow compatibility with track circuits. Too much sand brings the risk of not detecting trains in tracks equipped with track circuits. Deprecated according to the amendment to the Regulation (EU) 2019/777."@en ;
    # Source: ontology comment for tsiCompliantSanding

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantSanding: The TrainDetectionSystem must have at most one tsiCompliantSanding defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantSanding ;

    sh:severity sh:Violation .

era-sh:TSICompliantSandingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantSanding ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the sanding rules are necessary for compatibility with track circuits."@en ;
    # Source: inferred from the context of TSI compliance for sanding

    sh:message "tsiCompliantSanding: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantSanding when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantSanding ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantSanding when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSICompliantShuntDevices a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantShuntDevices ;
    era:rinfIndex "1.1.1.3.7.22" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules are compliant with the TSI for shunt assisting devices."@en ;
    # Source: ontology comment for tsiCompliantShuntDevices

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance status for each TrainDetectionSystem

    sh:message "tsiCompliantShuntDevices: The TrainDetectionSystem must have at most one tsiCompliantShuntDevices defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiCompliantShuntDevices ;

    sh:severity sh:Violation .

era-sh:TSICompliantShuntDevicesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:tsiCompliantShuntDevices ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is 'track circuit'."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiCompliantShuntDevices: This error is due to the TrainDetectionSystem violating the rule: must have defined tsiCompliantShuntDevices when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:tsiCompliantShuntDevices ?value } .
        # Check if the TrainDetectionSystem requires defined tsiCompliantShuntDevices when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSIPantographHead a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiPantographHead ;
    era:rinfIndex "1.1.1.2.3.1" ;
    era:scope "local" ;

    rdfs:comment "Indication of TSI compliant pantograph heads which are allowed to be used."@en ;
    # Source: ontology comment for tsiPantographHead

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one pantograph head compliance for each CommonCharacteristicsSubset

    sh:message "tsiPantographHead: The CommonCharacteristicsSubset must have at most one tsiPantographHead defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid compliance concept (as an IRI)

    sh:path era:tsiPantographHead ;

    sh:severity sh:Violation .

era-sh:TSIPantographHeadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiPantographHead ;
    era:scope "local" ;

    rdfs:comment "Applicable only when 'Overhead contact line (OCL)' is selected for parameter 1.1.1.2.2.1."@en ;
    # Source: RAG explanation on applicability

    sh:message "tsiPantographHead: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined tsiPantographHead when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:tsiPantographHead ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined tsiPantographHead when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TunnelDocRef a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:tunnelDocRef ;
    era:rinfIndex "1.1.1.1.8.8.2" ;
    era:scope "local" ;

    rdfs:comment "Electronic document available from the IM stored by the Agency with precise description of the clearance gauge and geometry of the tunnel."@en ;
    # Source: ontology comment for tunnelDocRef

    sh:class era:Document ;
    # Source: ontology range indicates it must be a Document

    sh:maxCount 1 ;
    # Inferred: expected at most one document reference for each Tunnel

    sh:message "tunnelDocRef: The Tunnel must have at most one tunnelDocRef defined as a Document."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid Document (as an IRI)

    sh:path era:tunnelDocRef ;

    sh:severity sh:Violation .

era-sh:TunnelDocRefApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:tunnelDocRef ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the document reference is required for the tunnel."@en ;
    # Source: inferred from RAG applicability context

    sh:message "tunnelDocRef: This error is due to the Tunnel violating the rule: must have defined tunnelDocRef when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:tunnelDocRef ?value } .
        # Check if the Tunnel requires a defined tunnelDocRef when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TypeVersionId a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:typeVersionId ;
    era:scope "local" ;

    rdfs:comment "Indicates the registrationVersion with Ids 10, 20 and 30 indicating registration according to Directive 2008/57/EC and implementing Decision 2011/665/EU, and 40 and 50 indicating registration according to regime described in Directive 2008/57/EC."@en ;
    # Source: ontology comment for typeVersionId

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one type version ID for each VehicleType

    sh:message "typeVersionId: The VehicleType must have at most one typeVersionId defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid concept (as an IRI)

    sh:path era:typeVersionId ;

    sh:severity sh:Violation .

era-sh:TypeVersionIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:typeVersionId ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type registration requires a version ID as per the directives."@en ;
    # Source: inferred from the context of registration requirements in the RAG

    sh:message "typeVersionId: This error is due to the VehicleType violating the rule: must have defined typeVersionId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:typeVersionId ?value } .
        # Check if the VehicleType requires defined typeVersionId based on registration requirements
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Uopid a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:uopid ;
    era:rinfIndex "1.2.0.0.0.2" ;
    era:scope "local" ;

    rdfs:comment "Code composed of country code and alphanumeric operational point code."@en ;
    # Source: ontology comment for uopid

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one unique OP ID for each OperationalPoint

    sh:pattern "^[A-Z]{2}[A-Za-z0-9]{1,10}$" ;
    # Inferred: pattern based on the format note and explanation on data presentation from RAG

    sh:message "uopid: The OperationalPoint must have at most one uopid defined as a string following the pattern of [AA+AAAAAAAAAA]."@en ;
    # Source: inferred from the nature of the property and RAG

    sh:path era:uopid ;

    sh:severity sh:Violation .

era-sh:UopidApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:uopid ;
    era:scope "local" ;

    rdfs:comment "Applicable when the operational point requires a unique OP ID as per the directives."@en ;
    # Source: inferred from the context of unique OP ID requirements in RAG

    sh:message "uopid: This error is due to the OperationalPoint violating the rule: must have defined uopid when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:uopid ?value } .
        # Check if the OperationalPoint requires defined uopid when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Validity a sh:PropertyShape ;
    era:affectedClass era:Feature ;
    era:affectedProperty era:validity ;
    era:scope "local" ;

    rdfs:comment "Relates a feature with a temporal feature to indicate a validity period."@en ;
    # Source: ontology comment for validity

    sh:class era:TemporalFeature ;
    # Source: ontology range indicates it must be a TemporalFeature

    sh:maxCount 1 ;
    # Inferred: expected at most one validity period for each Feature

    sh:message "validity: The Feature must have at most one validity defined as a TemporalFeature."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid TemporalFeature (as an IRI)

    sh:path era:validity ;

    sh:severity sh:Violation .

era-sh:ValidityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Feature ;
    era:affectedProperty era:validity ;
    era:scope "local" ;

    rdfs:comment "Applicable for Operational Point, Section of Line, Track, Siding, Tunnel, and Platform when future validity dates are required."@en ;
    # Source: RAG notes on applicability

    sh:message "validity: This error is due to the Feature violating the rule: must have defined validity when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?featureLabel WHERE {
        $this rdfs:label ?featureLabel .
        FILTER NOT EXISTS { $this era:validity ?value } .
        # Check if the Feature requires defined validity when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleCategory a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleCategory ;
    era:scope "local" ;

    rdfs:comment "Vehicle category."@en ;
    # Source: ontology comment for vehicleCategory

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one vehicle category for each VehicleType

    sh:message "vehicleCategory: The VehicleType must have at most one vehicleCategory defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid vehicle category concept (as an IRI)

    sh:path era:vehicleCategory ;

    sh:severity sh:Violation .

era-sh:VehicleCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined vehicle category as per the directives."@en ;
    # Source: inferred from the context of vehicle categorization in the RAG

    sh:message "vehicleCategory: This error is due to the VehicleType violating the rule: must have defined vehicleCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleCategory ?value } .
        # Check if the VehicleType requires defined vehicleCategory when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleKeeper a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:vehicleKeeper ;
    era:scope "local" ;

    rdfs:comment "Indicates the organization that owns/operated a vehicle or wagon."@en ;
    # Source: ontology comment for vehicleKeeper

    sh:class era:OrganisationRole ;
    # Source: ontology range indicates it must be an instance of OrganisationRole

    sh:maxCount 1 ;
    # Inferred: expected at most one vehicle keeper for each Vehicle

    sh:message "vehicleKeeper: The Vehicle must have at most one vehicleKeeper defined as an OrganisationRole."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid OrganisationRole (as an IRI)

    sh:path era:vehicleKeeper ;

    sh:severity sh:Violation .

era-sh:VehicleKeeperApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:vehicleKeeper ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle is owned or operated by an organization."@en ;
    # Source: inferred from the context of vehicle ownership and operation in the RAG

    sh:message "vehicleKeeper: This error is due to the Vehicle violating the rule: must have defined vehicleKeeper when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleKeeper ?value } .
        # Check if the Vehicle requires defined vehicleKeeper when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleSubCategory a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleSubCategory ;
    era:scope "local" ;

    rdfs:comment "Vehicle subcategory."@en ;
    # Source: ontology comment for vehicleSubCategory

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one subcategory for each VehicleType

    sh:message "vehicleSubCategory: The VehicleType must have at most one vehicleSubCategory defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid vehicle subcategory concept (as an IRI)

    sh:path era:vehicleSubCategory ;

    sh:severity sh:Violation .

era-sh:VehicleSubCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleSubCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined vehicle subcategory as per the directives."@en ;
    # Source: inferred from the context of vehicle categorization in the RAG

    sh:message "vehicleSubCategory: This error is due to the VehicleType violating the rule: must have defined vehicleSubCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleSubCategory ?value } .
        # Check if the VehicleType requires defined vehicleSubCategory when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleType a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:vehicleType ;
    era:scope "local" ;

    rdfs:comment "Indicates the vehicle type of a specific vehicle or wagon."@en ;
    # Source: ontology comment for vehicleType

    sh:class era:VehicleType ;
    # Source: ontology range indicates it must be a VehicleType

    sh:maxCount 1 ;
    # Inferred: expected at most one vehicle type for each Vehicle

    sh:message "vehicleType: The Vehicle must have at most one vehicleType defined as a VehicleType."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid VehicleType (as an IRI)

    sh:path era:vehicleType ;

    sh:severity sh:Violation .

era-sh:VehicleTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:vehicleType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle or wagon requires a defined vehicle type as per the directives."@en ;
    # Source: inferred from the context of vehicle categorization in the RAG

    sh:message "vehicleType: This error is due to the Vehicle violating the rule: must have defined vehicleType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleType ?value } .
        # Check if the Vehicle requires defined vehicleType when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleTypeMaximumSpeedAndCantDeficiency a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleTypeMaximumSpeedAndCantDeficiency ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Relates the vehicle type with its values of maximum speed and cant deficiency."@en ;
    # Source: ontology comment for vehicleTypeMaximumSpeedAndCantDeficiency

    sh:class era:MaximumSpeedAndCantDeficiency ;
    # Source: ontology range indicates it must be a MaximumSpeedAndCantDeficiency

    sh:maxCount 1 ;
    # Inferred: expected at most one maximum speed and cant deficiency for each VehicleType

    sh:message "vehicleTypeMaximumSpeedAndCantDeficiency: The VehicleType must have at most one vehicleTypeMaximumSpeedAndCantDeficiency defined as a MaximumSpeedAndCantDeficiency."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid MaximumSpeedAndCantDeficiency (as an IRI)

    sh:path era:vehicleTypeMaximumSpeedAndCantDeficiency ;

    sh:severity sh:Violation .

era-sh:VehicleTypeMaximumSpeedAndCantDeficiencyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleTypeMaximumSpeedAndCantDeficiency ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined maximum speed and cant deficiency as per the directives."@en ;
    # Source: inferred from the context of maximum speed and cant deficiency requirements in the RAG

    sh:message "vehicleTypeMaximumSpeedAndCantDeficiency: This error is due to the VehicleType violating the rule: must have defined vehicleTypeMaximumSpeedAndCantDeficiency when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleTypeMaximumSpeedAndCantDeficiency ?value } .
        # Check if the VehicleType requires defined vehicleTypeMaximumSpeedAndCantDeficiency when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleTypesCompatibleTrafficLoad a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vehicleTypesCompatibleTrafficLoad ;
    era:rinfIndex "1.1.1.5.1" ;
    era:scope "local" ;

    rdfs:comment "The infrastructure managers shall provide through RINF the information to the RU regarding list of vehicle types compatible with the route for which they have already verified compatibility for parameter Traffic load and load carrying capacity of infrastructure and train detection systems, where such information is available."@en ;
    # Source: ontology comment for vehicleTypesCompatibleTrafficLoad

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compatible traffic load for each CommonCharacteristicsSubset

    sh:message "vehicleTypesCompatibleTrafficLoad: The CommonCharacteristicsSubset must have at most one vehicleTypesCompatibleTrafficLoad defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid traffic load concept (as an IRI)

    sh:path era:vehicleTypesCompatibleTrafficLoad ;

    sh:severity sh:Violation .

era-sh:VehicleTypesCompatibleTrafficLoadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vehicleTypesCompatibleTrafficLoad ;
    era:scope "local" ;

    rdfs:comment "Applicable when the infrastructure manager has verified compatibility for the traffic load and load carrying capacity."@en ;
    # Source: inferred from the context of vehicle compatibility requirements in the RAG

    sh:message "vehicleTypesCompatibleTrafficLoad: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined vehicleTypesCompatibleTrafficLoad when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:vehicleTypesCompatibleTrafficLoad ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined vehicleTypesCompatibleTrafficLoad when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehiclesCompatibleTrafficLoad a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vehiclesCompatibleTrafficLoad ;
    era:rinfIndex "1.1.1.5.2" ;
    era:scope "local" ;

    rdfs:comment "The infrastructure managers shall provide through RINF the information or a document to the RU regarding the list of vehicles compatible with the route for which they have already verified compatibility for parameter Traffic load and load carrying capacity of infrastructure and train detection systems, where such information is available."@en ;
    # Source: ontology comment for vehiclesCompatibleTrafficLoad

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one compatible traffic load for each CommonCharacteristicsSubset

    sh:message "vehiclesCompatibleTrafficLoad: The CommonCharacteristicsSubset must have at most one vehiclesCompatibleTrafficLoad defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid traffic load concept (as an IRI)

    sh:path era:vehiclesCompatibleTrafficLoad ;

    sh:severity sh:Violation .

era-sh:VehiclesCompatibleTrafficLoadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vehiclesCompatibleTrafficLoad ;
    era:scope "local" ;

    rdfs:comment "Applicable when the infrastructure manager has verified compatibility for the traffic load and load carrying capacity."@en ;
    # Source: inferred from the context of vehicle compatibility requirements in the RAG

    sh:message "vehiclesCompatibleTrafficLoad: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined vehiclesCompatibleTrafficLoad when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:vehiclesCompatibleTrafficLoad ?value } .
        # Check if the CommonCharacteristicsSubset requires a defined vehiclesCompatibleTrafficLoad when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VoiceGSMRNetwork a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:voiceGSMRNetwork ;
    era:scope "local" ;

    rdfs:comment "Voice SIM Card GSM-R Home Network. The allowed values for this property belong to the SKOS Concept Scheme http://data.europa.eu/949/concepts/gsmr-networks/GSMRNetworks."@en ;
    # Source: ontology comment for voiceGSMRNetwork

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one voice GSM-R network for each VehicleType

    sh:message "voiceGSMRNetwork: The VehicleType must have at most one voiceGSMRNetwork defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid SKOS Concept (as an IRI)

    sh:path era:voiceGSMRNetwork ;

    sh:severity sh:Violation .

era-sh:VoiceGSMRNetworkApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:voiceGSMRNetwork ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined voice GSM-R network as per the directives."@en ;
    # Source: inferred from the context of GSM-R network requirements in the RAG

    sh:message "voiceGSMRNetwork: This error is due to the VehicleType violating the rule: must have defined voiceGSMRNetwork when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:voiceGSMRNetwork ?value } .
        # Check if the VehicleType requires defined voiceGSMRNetwork when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VoiceRadioCompatible a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:voiceRadioCompatible ;
    era:rinfIndex "1.1.1.3.3.9" ;
    era:scope "local" ;

    rdfs:comment "Radio requirements used for demonstrating technical compatibility voice."@en ;
    # Source: ontology comment for voiceRadioCompatible

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one voice radio compatibility for each VehicleType

    sh:message "voiceRadioCompatible: The VehicleType must have at most one voiceRadioCompatible defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid voice radio compatibility concept (as an IRI)

    sh:path era:voiceRadioCompatible ;

    sh:severity sh:Violation .

era-sh:VoiceRadioCompatibleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:voiceRadioCompatible ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined voice radio compatibility as per the directives."@en ;
    # Source: inferred from the context of voice radio compatibility requirements in the RAG

    sh:message "voiceRadioCompatible: This error is due to the VehicleType violating the rule: must have defined voiceRadioCompatible when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:voiceRadioCompatible ?value } .
        # Check if the VehicleType requires defined voiceRadioCompatible when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:WheelSetGauge a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:wheelSetGauge ;
    era:rinfIndex "4.1.3" ;
    era:scope "local" ;

    rdfs:comment "A single value expressed in millimetres that identifies the track gauge."@en ;
    # Source: ontology comment for wheelSetGauge

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one gauge value for each CommonCharacteristicsSubset

    sh:message "wheelSetGauge: The CommonCharacteristicsSubset must have at most one wheelSetGauge defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid gauge concept (as an IRI)

    sh:path era:wheelSetGauge ;

    sh:severity sh:Violation .

era-sh:WheelSetGaugeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:wheelSetGauge ;
    era:scope "local" ;

    rdfs:comment "Applicable when the track gauge is defined for the CommonCharacteristicsSubset."@en ;
    # Source: inferred from the context of track gauge requirements in the RAG

    sh:message "wheelSetGauge: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined wheelSetGauge when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:wheelSetGauge ?value } .
        # Check if the CommonCharacteristicsSubset requires defined wheelSetGauge when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:WheelSetGaugeChangeoverFacility a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelSetGaugeChangeoverFacility ;
    era:rinfIndex "4.1.11" ;
    era:scope "local" ;

    rdfs:comment "Wheelset gauge changeover facility. The allowed values for this property belong to the SKOS Concept Scheme http://data.europa.eu/949/concepts/gauge-changeover-facilities/GaugeChangeoverFacilities."@en ;
    # Source: ontology comment for wheelSetGaugeChangeoverFacility

    sh:class <http://www.w3.org/2004/02/skos/core#Concept> ;
    # Source: ontology range indicates it must be a valid SKOS Concept

    sh:maxCount 1 ;
    # Inferred: expected at most one gauge changeover facility for each VehicleType

    sh:message "wheelSetGaugeChangeoverFacility: The VehicleType must have at most one wheelSetGaugeChangeoverFacility defined as a Concept."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to reference a valid gauge changeover facility concept (as an IRI)

    sh:path era:wheelSetGaugeChangeoverFacility ;

    sh:severity sh:Violation .

era-sh:WheelSetGaugeChangeoverFacilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelSetGaugeChangeoverFacility ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined wheelset gauge changeover facility as per the directives."@en ;
    # Source: inferred from the context of gauge changeover facility requirements in the RAG

    sh:message "wheelSetGaugeChangeoverFacility: This error is due to the VehicleType violating the rule: must have defined wheelSetGaugeChangeoverFacility when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:wheelSetGaugeChangeoverFacility ?value } .
        # Check if the VehicleType requires defined wheelSetGaugeChangeoverFacility when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AlternativeName a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:alternativeName ;
    era:scope "local" ;

    rdfs:comment "Alternative name of a vehicle type."@en ;
    # Source: ontology comment for alternativeName

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one alternative name for each VehicleType

    sh:message "alternativeName: The VehicleType must have at most one alternativeName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:alternativeName ;

    sh:severity sh:Violation .

era-sh:AlternativeNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:alternativeName ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type has an alternative name defined."@en ;
    # Source: inferred from the context of vehicle naming in the RAG

    sh:message "alternativeName: This error is due to the VehicleType violating the rule: must have defined alternativeName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:alternativeName ?value } .
        # Check if the VehicleType requires defined alternativeName when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AltitudeRange a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:altitudeRange ;
    era:rinfIndex "4.3.2" ;
    era:scope "local" ;

    rdfs:comment "Altitude range."@en ;
    # Source: ontology comment for altitudeRange

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one altitude range for each VehicleType

    sh:message "altitudeRange: The VehicleType must have at most one altitudeRange defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:altitudeRange ;

    sh:severity sh:Violation .

era-sh:AltitudeRangeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:altitudeRange ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined altitude range as per the directives."@en ;
    # Source: inferred from the context of altitude range requirements in the RAG

    sh:message "altitudeRange: This error is due to the VehicleType violating the rule: must have defined altitudeRange when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:altitudeRange ?value } .
        # Check if the VehicleType requires defined altitudeRange when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AltitudeRangeDetail a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:altitudeRangeDetail ;
    era:rinfIndex "4.3.2.1" ;
    era:scope "local" ;

    rdfs:comment "Altitude range value for 'X' if value 'AX' is selected in altitude range."@en ;
    # Source: ontology comment for altitudeRangeDetail

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one altitude range detail for each VehicleType

    sh:message "altitudeRangeDetail: The VehicleType must have at most one altitudeRangeDetail defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:altitudeRangeDetail ;

    sh:severity sh:Violation .

era-sh:AltitudeRangeDetailApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:altitudeRangeDetail ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined altitude range detail as per the directives."@en ;
    # Source: inferred from the context of altitude range detail requirements in the RAG

    sh:message "altitudeRangeDetail: This error is due to the VehicleType violating the rule: must have defined altitudeRangeDetail when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:altitudeRangeDetail ?value } .
        # Check if the VehicleType requires defined altitudeRangeDetail when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AppliesInBothDirections a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:appliesInBothDirections ;
    era:scope "local" ;

    rdfs:comment "Specifies if the section applies in both directions (optional)."@en ;
    # Source: ontology comment for appliesInBothDirections

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one appliesInBothDirections value for each LinearElementSection

    sh:message "appliesInBothDirections: The LinearElementSection must have at most one appliesInBothDirections defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:appliesInBothDirections ;

    sh:severity sh:Violation .

era-sh:AppliesInBothDirectionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:appliesInBothDirections ;
    era:scope "local" ;

    rdfs:comment "Applicable when the linear element section requires a definition of whether it applies in both directions."@en ;
    # Source: inferred from the context of directionality in linear elements

    sh:message "appliesInBothDirections: This error is due to the LinearElementSection violating the rule: must have defined appliesInBothDirections when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:appliesInBothDirections ?value } .
        # Check if the LinearElementSection requires defined appliesInBothDirections when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AreaBoardingAid a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:areaBoardingAid ;
    era:rinfIndex "1.2.1.0.6.7" ;
    era:scope "local" ;

    rdfs:comment "Information of the train access level for which the boarding aid can be used."@en ;
    # Source: ontology comment for areaBoardingAid

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one area boarding aid value for each PlatformEdge

    sh:message "areaBoardingAid: The PlatformEdge must have at most one areaBoardingAid defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:areaBoardingAid ;

    sh:severity sh:Violation .

era-sh:AreaBoardingAidApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:areaBoardingAid ;
    era:scope "local" ;

    rdfs:comment "Applicable when the platform is equipped with a boarding aid."@en ;
    # Source: inferred from the context of the boarding aid requirements in the RAG

    sh:message "areaBoardingAid: This error is due to the PlatformEdge violating the rule: must have defined areaBoardingAid when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?platformLabel WHERE {
        $this rdfs:label ?platformLabel .
        FILTER NOT EXISTS { $this era:areaBoardingAid ?value } .
        # Check if the PlatformEdge requires defined areaBoardingAid when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AssistanceStartingTrain a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:assistanceStartingTrain ;
    era:rinfIndex "1.2.1.0.6.6" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of equipment or staff supporting the train crew in starting the train."@en ;
    # Source: ontology comment for assistanceStartingTrain

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one assistance indicator for each PlatformEdge

    sh:message "assistanceStartingTrain: The PlatformEdge must have at most one assistanceStartingTrain defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:assistanceStartingTrain ;

    sh:severity sh:Violation .

era-sh:AssistanceStartingTrainApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:assistanceStartingTrain ;
    era:scope "local" ;

    rdfs:comment "Applicable when the platform is equipped with assistance for starting the train."@en ;
    # Source: inferred from the context of platform assistance requirements in the RAG

    sh:message "assistanceStartingTrain: This error is due to the PlatformEdge violating the rule: must have defined assistanceStartingTrain when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?platformLabel WHERE {
        $this rdfs:label ?platformLabel .
        FILTER NOT EXISTS { $this era:assistanceStartingTrain ?value } .
        # Check if the PlatformEdge requires defined assistanceStartingTrain when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AutomaticDroppingDeviceRequired a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:automaticDroppingDeviceRequired ;
    era:rinfIndex "1.1.1.2.5.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of whether an automatic dropping device (ADD) is required on the vehicle."@en ;
    # Source: ontology comment for automaticDroppingDeviceRequired

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one automatic dropping device requirement for each CommonCharacteristicsSubset

    sh:message "automaticDroppingDeviceRequired: The CommonCharacteristicsSubset must have at most one automaticDroppingDeviceRequired defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:automaticDroppingDeviceRequired ;

    sh:severity sh:Violation .

era-sh:AutomaticDroppingDeviceRequiredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:automaticDroppingDeviceRequired ;
    era:scope "local" ;

    rdfs:comment "Applicable only if the value 'Overhead contact line (OCL)' is selected for parameter 'Type of contact line system'."@en ;
    # Source: RAG explanation on applicability

    sh:message "automaticDroppingDeviceRequired: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined automaticDroppingDeviceRequired when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:automaticDroppingDeviceRequired ?value } .
        # Check if the CommonCharacteristicsSubset requires defined automaticDroppingDeviceRequired when applicable
        FILTER EXISTS { $this era:typeOfContactLineSystem "Overhead contact line (OCL)" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:AxleSpacing a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:axleSpacing ;
    era:rinfIndex "4.5.3.4" ;
    era:scope "local" ;

    rdfs:comment "Position of the axles along the unit. a: Distance between axles; b: Distance from end axle to the end of the nearest coupling plane; c: distance between two inside axles."@en ;
    # Source: ontology comment for axleSpacing

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one axle spacing value for each VehicleType

    sh:message "axleSpacing: The VehicleType must have at most one axleSpacing defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:axleSpacing ;

    sh:severity sh:Violation .

era-sh:AxleSpacingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:axleSpacing ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined axle spacing as per the directives."@en ;
    # Source: inferred from the context of axle spacing requirements in the RAG

    sh:message "axleSpacing: This error is due to the VehicleType violating the rule: must have defined axleSpacing when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:axleSpacing ?value } .
        # Check if the VehicleType requires defined axleSpacing when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:BigMetalMass a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:bigMetalMass ;
    era:rinfIndex "1.1.1.3.2.18" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of metal mass in the vicinity of the location, susceptible of perturbating the reading of balises by the on-board system."@en ;
    # Source: ontology comment for bigMetalMass

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one boolean value for each CommonCharacteristicsSubset

    sh:message "bigMetalMass: The CommonCharacteristicsSubset must have at most one bigMetalMass defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:bigMetalMass ;

    sh:severity sh:Violation .

era-sh:BigMetalMassApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:bigMetalMass ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ETCS is present and a value must be provided for bigMetalMass."@en ;
    # Source: inferred from the dependency note in the ontology

    sh:message "bigMetalMass: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined bigMetalMass when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:bigMetalMass ?value } .
        # Check if the CommonCharacteristicsSubset requires defined bigMetalMass when applicable
        FILTER EXISTS { $this era:etcsLevelType ?etcsValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:BoardingAids a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:boardingAids ;
    era:rinfIndex "4.12.3.2" ;
    era:scope "local" ;

    rdfs:comment "Description of any integrated boarding aids (if provided)."@en ;
    # Source: ontology comment for boardingAids

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one description of boarding aids for each VehicleType

    sh:message "boardingAids: The VehicleType must have at most one boardingAids defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:boardingAids ;

    sh:severity sh:Violation .

era-sh:BoardingAidsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:boardingAids ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type has integrated boarding aids defined."@en ;
    # Source: inferred from the context of boarding aids requirements in the RAG

    sh:message "boardingAids: This error is due to the VehicleType violating the rule: must have defined boardingAids when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:boardingAids ?value } .
        # Check if the VehicleType requires defined boardingAids when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:BorderPointId a sh:PropertyShape ;
    era:affectedClass era:ReferenceBorderPoint ;
    era:affectedProperty era:borderPointId ;
    era:scope "local" ;

    rdfs:comment "Border point identification in the list of reference border points in the RINF application guide."@en ;
    # Source: ontology comment for borderPointId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one border point ID for each ReferenceBorderPoint

    sh:message "borderPointId: The ReferenceBorderPoint must have at most one borderPointId defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:borderPointId ;

    sh:severity sh:Violation .

era-sh:BorderPointIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ReferenceBorderPoint ;
    era:affectedProperty era:borderPointId ;
    era:scope "local" ;

    rdfs:comment "Applicable when the reference border point requires a defined border point ID."@en ;
    # Source: inferred from the context of border point identification in the RAG

    sh:message "borderPointId: This error is due to the ReferenceBorderPoint violating the rule: must have defined borderPointId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?borderPointLabel WHERE {
        $this rdfs:label ?borderPointLabel .
        FILTER NOT EXISTS { $this era:borderPointId ?value } .
        # Check if the ReferenceBorderPoint requires defined borderPointId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:BrakeWeightPercentage a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:brakeWeightPercentage ;
    era:rinfIndex "4.7.6" ;
    era:scope "local" ;

    rdfs:comment "Brake weight percentage (lambda) or Braked mass."@en ;
    # Source: ontology comment for brakeWeightPercentage

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one brake weight percentage for each VehicleType

    sh:message "brakeWeightPercentage: The VehicleType must have at most one brakeWeightPercentage defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:brakeWeightPercentage ;

    sh:severity sh:Violation .

era-sh:BrakeWeightPercentageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:brakeWeightPercentage ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined brake weight percentage as per the directives."@en ;
    # Source: inferred from the context of brake weight percentage requirements in the RAG

    sh:message "brakeWeightPercentage: This error is due to the VehicleType violating the rule: must have defined brakeWeightPercentage when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:brakeWeightPercentage ?value } .
        # Check if the VehicleType requires defined brakeWeightPercentage when applicable
    }
    """ ;

    sh:severity sh:Violation .


era-sh:CantDeficiencyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:cantDefficiency ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined cant deficiency as per the directives."@en ;
    # Source: inferred from the context of cant deficiency requirements in the RAG

    sh:message "cantDefficiency: This error is due to the VehicleType violating the rule: must have defined cantDefficiency when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:cantDefficiency ?value } .
        # Check if the VehicleType requires defined cantDefficiency when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CantDeficiency a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:cantDeficiency ;
    era:rinfIndex "1.1.1.1.4.2" ;
    era:scope "local" ;

    rdfs:comment "Maximum cant deficiency expressed in millimetres defined as difference between the applied cant and a higher equilibrium cant the line has been designed for."@en ;
    # Source: RAG definition for cant deficiency

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one cant deficiency value for each VehicleType

    sh:message "cantDeficiency: The VehicleType must have at most one cantDeficiency defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:cantDeficiency ;

    sh:severity sh:Violation .

era-sh:CantDeficiencyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:cantDeficiency ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined cant deficiency as per the directives."@en ;
    # Source: inferred from the context of cant deficiency requirements in the RAG

    sh:message "cantDeficiency: This error is due to the VehicleType violating the rule: must have defined cantDeficiency when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:cantDeficiency ?value } .
        # Check if the VehicleType requires defined cantDeficiency when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CatenaryMaxRatedCurrent a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:catenaryMaxRatedCurrent ;
    era:rinfIndex "4.10.3" ;
    era:scope "local" ;

    rdfs:comment "Maximum rated current from the catenary (to be indicated for each electrical energy supply system the vehicle is equipped for), given in A."@en ;
    # Source: ontology comment for catenaryMaxRatedCurrent

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Inferred: expected at most one maximum rated current value for each VehicleType

    sh:message "catenaryMaxRatedCurrent: The VehicleType must have at most one catenaryMaxRatedCurrent defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:catenaryMaxRatedCurrent ;

    sh:severity sh:Violation .

era-sh:CatenaryMaxRatedCurrentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:catenaryMaxRatedCurrent ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type requires a defined catenary max rated current as per the directives."@en ;
    # Source: inferred from the context of electrical energy supply systems in the RAG

    sh:message "catenaryMaxRatedCurrent: This error is due to the VehicleType violating the rule: must have defined catenaryMaxRatedCurrent when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:catenaryMaxRatedCurrent ?value } .
        # Check if the VehicleType requires defined catenaryMaxRatedCurrent when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ComplianceInfTsi a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:complianceInfTsi ;
    era:rinfIndex "1.1.1.1.8.8.1" ;
    era:scope "local" ;

    rdfs:comment "Compliance of the tunnel with TSI INF at the maximum permitted speed."@en ;
    # Source: ontology comment for complianceInfTsi

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one compliance indicator for each Tunnel

    sh:message "complianceInfTsi: The Tunnel must have at most one complianceInfTsi defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:complianceInfTsi ;

    sh:severity sh:Violation .

era-sh:ComplianceInfTsiApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:complianceInfTsi ;
    era:scope "local" ;

    rdfs:comment "Mandatory if the speed of the line is equal or greater than 200km/h."@en ;
    # Source: dependency note in the ontology

    sh:message "complianceInfTsi: This error is due to the Tunnel violating the rule: must have defined complianceInfTsi when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:complianceInfTsi ?value } .
        # Check if the Tunnel requires defined complianceInfTsi when applicable
        FILTER EXISTS { $this era:maximumPermittedSpeed ?speed . FILTER(xsd:integer(?speed) >= 200) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CompositeBrakeBlockRetrofitted a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:compositeBrakeBlockRetrofitted ;
    era:scope "local" ;

    rdfs:comment "Indicates if a vehicle's composite brake block is retrofitted."@en ;
    # Source: ontology comment for compositeBrakeBlockRetrofitted

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one boolean value for each Vehicle

    sh:message "compositeBrakeBlockRetrofitted: The Vehicle must have at most one compositeBrakeBlockRetrofitted defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:compositeBrakeBlockRetrofitted ;

    sh:severity sh:Violation .

era-sh:CompositeBrakeBlockRetrofittedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:compositeBrakeBlockRetrofitted ;
    era:scope "local" ;

    rdfs:comment "Applicable only if the vehicle type has specific requirements regarding the use of composite brake blocks."@en ;
    # Source: inferred from the context of composite brake block requirements in the RAG

    sh:message "compositeBrakeBlockRetrofitted: This error is due to the Vehicle violating the rule: must have defined compositeBrakeBlockRetrofitted when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:compositeBrakeBlockRetrofitted ?value } .
        # Check if the Vehicle requires defined compositeBrakeBlockRetrofitted when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionsChargingElectricEnergyStorage a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionsChargingElectricEnergyStorage ;
    era:rinfIndex "1.2.1.0.7.2" ;
    era:scope "local" ;

    rdfs:comment "Conditions set by IMs according to a standardised document."@en ;
    # Source: ontology comment for conditionsChargingElectricEnergyStorage

    sh:datatype xsd:anyURI ;
    # Source: ontology range indicates it must be a URI

    sh:maxCount 1 ;
    # Inferred: expected at most one conditions for each ContactLineSystem

    sh:message "conditionsChargingElectricEnergyStorage: The ContactLineSystem must have at most one conditionsChargingElectricEnergyStorage defined as a URI."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to be a URI reference

    sh:path era:conditionsChargingElectricEnergyStorage ;

    sh:severity sh:Violation .

era-sh:ConditionsChargingElectricEnergyStorageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:conditionsChargingElectricEnergyStorage ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ContactLineSystem has defined conditions for charging electric energy storage."@en ;
    # Source: inferred from the context of conditions for charging in the RAG

    sh:message "conditionsChargingElectricEnergyStorage: This error is due to the ContactLineSystem violating the rule: must have defined conditionsChargingElectricEnergyStorage when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:conditionsChargingElectricEnergyStorage ?value } .
        # Check if the ContactLineSystem requires defined conditionsChargingElectricEnergyStorage when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionsSwitchTrainProtectionSystems a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:conditionsSwitchTrainProtectionSystems ;
    era:rinfIndex "1.1.1.3.8.1" ;
    era:scope "local" ;

    rdfs:comment "Conditions to switch over between different class B train protection, control and warning systems."@en ;
    # Source: ontology comment for conditionsSwitchTrainProtectionSystems

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one conditions statement for each CommonCharacteristicsSubset

    sh:message "conditionsSwitchTrainProtectionSystems: The CommonCharacteristicsSubset must have at most one conditionsSwitchTrainProtectionSystems defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:conditionsSwitchTrainProtectionSystems ;

    sh:severity sh:Violation .

era-sh:ConditionsSwitchTrainProtectionSystemsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:conditionsSwitchTrainProtectionSystems ;
    era:scope "local" ;

    rdfs:comment "Applicable when at least two different protection, control and warning systems exist."@en ;
    # Source: dependency note in the ontology

    sh:message "conditionsSwitchTrainProtectionSystems: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined conditionsSwitchTrainProtectionSystems when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:conditionsSwitchTrainProtectionSystems ?value } .
        # Check if the CommonCharacteristicsSubset requires defined conditionsSwitchTrainProtectionSystems when applicable
        FILTER EXISTS { $this era:hasMultipleProtectionSystems ?systemsValue . FILTER(?systemsValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ConditionsTrainFormation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:conditionsTrainFormation ;
    era:rinfIndex "4.1.4" ;
    era:scope "local" ;

    rdfs:comment "Conditions of use regarding train formation."@en ;
    # Source: ontology comment for conditionsTrainFormation

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one conditions statement for each VehicleType

    sh:message "conditionsTrainFormation: The VehicleType must have at most one conditionsTrainFormation defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:conditionsTrainFormation ;

    sh:severity sh:Violation .

era-sh:ConditionsTrainFormationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:conditionsTrainFormation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type has specific conditions regarding train formation."@en ;
    # Source: inferred from the context of conditions for train formation in the RAG

    sh:message "conditionsTrainFormation: This error is due to the VehicleType violating the rule: must have defined conditionsTrainFormation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:conditionsTrainFormation ?value } .
        # Check if the VehicleType requires defined conditionsTrainFormation when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ContactStripMaterialMetallicContent a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contactStripMaterialMetallicContent ;
    era:rinfIndex "1.1.1.2.3.4" ;
    era:scope "local" ;

    rdfs:comment "Indication of max. percentage of contact strip material Impregnated Carbon permitted to be used."@en ;
    # Source: ontology comment for contactStripMaterialMetallicContent

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one metallic content value for each CommonCharacteristicsSubset

    sh:message "contactStripMaterialMetallicContent: The CommonCharacteristicsSubset must have at most one contactStripMaterialMetallicContent defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:contactStripMaterialMetallicContent ;

    sh:severity sh:Violation .

era-sh:ContactStripMaterialMetallicContentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:contactStripMaterialMetallicContent ;
    era:scope "local" ;

    rdfs:comment "Mandatory only if impregnated carbon ([NN] % of metallic content) is selected in permitted contact strip materials."@en ;
    # Source: dependency note in the ontology

    sh:message "contactStripMaterialMetallicContent: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined contactStripMaterialMetallicContent when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:contactStripMaterialMetallicContent ?value } .
        # Check if the CommonCharacteristicsSubset requires defined contactStripMaterialMetallicContent when applicable
        FILTER EXISTS { $this era:contactStripMaterial ?materialValue . FILTER(?materialValue = "impregnated carbon") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ContainerHandlingFlag a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:containerHandlingFlag ;
    era:scope "local" ;

    rdfs:comment "Indicates whether container handling is applicable at the primary location."@en ;
    # Source: inferred from the context of container handling relevance

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one container handling flag for each PrimaryLocation

    sh:message "containerHandlingFlag: The PrimaryLocation must have at most one containerHandlingFlag defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:containerHandlingFlag ;

    sh:severity sh:Violation .

era-sh:ContainerHandlingFlagApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:containerHandlingFlag ;
    era:scope "local" ;

    rdfs:comment "Applicable when the primary location has specific conditions regarding container handling."@en ;
    # Source: inferred from the context of container handling in the RAG

    sh:message "containerHandlingFlag: This error is due to the PrimaryLocation violating the rule: must have defined containerHandlingFlag when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:containerHandlingFlag ?value } .
        # Check if the PrimaryLocation requires defined containerHandlingFlag when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CrossSectionArea a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:crossSectionArea ;
    era:rinfIndex "1.1.1.1.8.8" ;
    era:scope "local" ;

    rdfs:comment "Smallest cross section area in square metres of the tunnel."@en ;
    # Source: ontology comment for crossSectionArea

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one cross section area value for each Tunnel

    sh:message "crossSectionArea: The Tunnel must have at most one crossSectionArea defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:crossSectionArea ;

    sh:severity sh:Violation .

era-sh:CrossSectionAreaApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:crossSectionArea ;
    era:scope "local" ;

    rdfs:comment "Mandatory if the speed of the line is equal or greater than 200km/h."@en ;
    # Source: dependency note in the ontology

    sh:message "crossSectionArea: This error is due to the Tunnel violating the rule: must have defined crossSectionArea when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:crossSectionArea ?value } .
        # Check if the Tunnel requires defined crossSectionArea when applicable
        FILTER EXISTS { $this era:maximumPermittedSpeed ?speed . FILTER(xsd:integer(?speed) >= 200) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CurrentLimitationRequired a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:currentLimitationRequired ;
    era:rinfIndex "1.1.1.2.5.1" ;
    era:scope "local" ;

    rdfs:comment "Indication of whether an on board current or power limitation function on vehicles is required."@en ;
    # Source: ontology comment for currentLimitationRequired

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one current limitation requirement for each ContactLineSystem

    sh:message "currentLimitationRequired: The ContactLineSystem must have at most one currentLimitationRequired defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:currentLimitationRequired ;

    sh:severity sh:Violation .

era-sh:CurrentLimitationRequiredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:currentLimitationRequired ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ContactLineSystem is electrified and requires a current limitation."@en ;
    # Source: dependency note in the ontology

    sh:message "currentLimitationRequired: This error is due to the ContactLineSystem violating the rule: must have defined currentLimitationRequired when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:currentLimitationRequired ?value } .
        # Check if the ContactLineSystem requires defined currentLimitationRequired when applicable
        FILTER EXISTS { $this era:systemType "electrified" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:CurrentlyValid a sh:PropertyShape ;
    era:affectedClass era:Feature ;
    era:affectedProperty era:currentlyValid ;
    era:scope "local" ;

    rdfs:comment "Indicates whether the feature is currently valid."@en ;
    # Source: ontology comment for currentlyValid

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one validity indicator for each Feature

    sh:message "currentlyValid: The Feature must have at most one currentlyValid defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:currentlyValid ;

    sh:severity sh:Violation .

era-sh:CurrentlyValidApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Feature ;
    era:affectedProperty era:currentlyValid ;
    era:scope "local" ;

    rdfs:comment "Applicable when the feature has a defined validity status that needs to be indicated."@en ;
    # Source: inferred from the context of validity in the RAG

    sh:message "currentlyValid: This error is due to the Feature violating the rule: must have defined currentlyValid when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?featureLabel WHERE {
        $this rdfs:label ?featureLabel .
        FILTER NOT EXISTS { $this era:currentlyValid ?value } .
        # Check if the Feature requires defined currentlyValid when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:dNvovtrp a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:dNvovtrp ;
    era:rinfIndex "1.1.1.3.2.16.5" ;
    era:scope "local" ;

    rdfs:comment "Maximum distance for overriding the train trip in metres, according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for dNvovtrp

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one maximum distance value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "dNvovtrp: The CommonCharacteristicsSubset or RunningTrack must have at most one dNvovtrp defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:dNvovtrp ;

    sh:severity sh:Violation .

era-sh:dNvovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:dNvovtrp ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value has to be provided."@en ;
    # Source: dependency note in the ontology

    sh:message "dNvovtrp: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined dNvovtrp when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:dNvovtrp ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined dNvovtrp when applicable
        FILTER EXISTS { $this era:etcsPresent "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:dNvpotrp a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:dNvpotrp ;
    era:rinfIndex "1.1.1.3.2.16.7" ;
    era:scope "local" ;

    rdfs:comment "Maximum distance for reversing in Post Trip mode in metres, according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for dNvpotrp

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one maximum distance value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "dNvpotrp: The CommonCharacteristicsSubset or RunningTrack must have at most one dNvpotrp defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:dNvpotrp ;

    sh:severity sh:Violation .

era-sh:dNvpotrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:dNvpotrp ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value has to be provided."@en ;
    # Source: dependency note in the ontology

    sh:message "dNvpotrp: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined dNvpotrp when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:dNvpotrp ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined dNvpotrp when applicable
        FILTER EXISTS { $this era:etcsPresent "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:dNvroll a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:dNvroll ;
    era:rinfIndex "1.1.1.3.2.16.1" ;
    era:scope "local" ;

    rdfs:comment "Parameter used by the ETCS on-board to supervise the distance allowed to be travelled under the roll-away protection and the reverse movement protection, in metres."@en ;
    # Source: ontology comment for dNvroll

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one dNvroll value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "dNvroll: The CommonCharacteristicsSubset or RunningTrack must have at most one dNvroll defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:dNvroll ;

    sh:severity sh:Violation .

era-sh:dNvrollApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:dNvroll ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value has to be provided."@en ;
    # Source: dependency note in the ontology

    sh:message "dNvroll: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined dNvroll when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:dNvroll ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined dNvroll when applicable
        FILTER EXISTS { $this era:etcsPresent "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DangerousGoodsTankCode a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:dangerousGoodsTankCode ;
    era:rinfIndex "4.1.9" ;
    era:scope "local" ;

    rdfs:comment "Dangerous goods for which the vehicle is suitable (tank code)."@en ;
    # Source: ontology comment for dangerousGoodsTankCode

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one dangerous goods tank code for each VehicleType

    sh:message "dangerousGoodsTankCode: The VehicleType must have at most one dangerousGoodsTankCode defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:dangerousGoodsTankCode ;

    sh:severity sh:Violation .

era-sh:DangerousGoodsTankCodeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:dangerousGoodsTankCode ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type is designed to carry dangerous goods."@en ;
    # Source: inferred from the context of dangerous goods tank codes in the RAG

    sh:message "dangerousGoodsTankCode: This error is due to the VehicleType violating the rule: must have defined dangerousGoodsTankCode when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:dangerousGoodsTankCode ?value } .
        # Check if the VehicleType requires defined dangerousGoodsTankCode when applicable
        FILTER EXISTS { $this era:designedForDangerousGoods "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DemonstrationENE a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:demonstrationENE ;
    era:rinfIndex "1.1.1.2.1.2" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EI declarations following the same format requirements as specified for EC declarations in Annex VII of Commission Implementing Regulation (EU) 2019/250."@en ;
    # Source: ontology comment for demonstrationENE

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one EI declaration number for each CommonCharacteristicsSubset or RunningTrack

    sh:message "demonstrationENE: The CommonCharacteristicsSubset or RunningTrack must have at most one demonstrationENE defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:demonstrationENE ;

    sh:severity sh:Violation .

era-sh:DemonstrationENEApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:demonstrationENE ;
    era:scope "local" ;

    rdfs:comment "Applicable when the demonstration was executed and EI declaration was issued."@en ;
    # Source: RAG states 'Y' shall be selected when the demonstration was executed

    sh:message "demonstrationENE: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined demonstrationENE when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:demonstrationENE ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined demonstrationENE when applicable
        FILTER EXISTS { $this era:demonstrationExecuted "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DemonstrationINF a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:demonstrationINF ;
    era:rinfIndex "1.2.1.0.1.2" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EI declarations following the same format requirements as specified for EC declarations in Annex VII of Commission Implementing Regulation (EU) 2019/250."@en ;
    # Source: ontology comment for demonstrationINF

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one EI declaration number for each CommonCharacteristicsSubset or RunningTrack

    sh:message "demonstrationINF: The CommonCharacteristicsSubset or RunningTrack must have at most one demonstrationINF defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:demonstrationINF ;

    sh:severity sh:Violation .

era-sh:DemonstrationINFApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:demonstrationINF ;
    era:scope "local" ;

    rdfs:comment "Applicable when the demonstration was executed and EI declaration was issued."@en ;
    # Source: RAG states 'Y' shall be selected when the demonstration was executed

    sh:message "demonstrationINF: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined demonstrationINF when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:demonstrationINF ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined demonstrationINF when applicable
        FILTER EXISTS { $this era:demonstrationExecuted "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DemonstrationSRT a sh:PropertyShape ;
    era:affectedClass era:Tunnel, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:demonstrationSRT ;
    era:rinfIndex "1.1.1.1.8.6" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EI declarations following the same format requirements as specified for the SRT TSI."@en ;
    # Source: ontology comment for demonstrationSRT

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one EI declaration number for each Tunnel or CommonCharacteristicsSubset

    sh:message "demonstrationSRT: The Tunnel or CommonCharacteristicsSubset must have at most one demonstrationSRT defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:demonstrationSRT ;

    sh:severity sh:Violation .

era-sh:DemonstrationSRTApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:demonstrationSRT ;
    era:scope "local" ;

    rdfs:comment "Applicable when the demonstration was executed and EI declaration was issued."@en ;
    # Source: RAG states 'Y' shall be selected when the demonstration was executed

    sh:message "demonstrationSRT: This error is due to the Tunnel or CommonCharacteristicsSubset violating the rule: must have defined demonstrationSRT when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:demonstrationSRT ?value } .
        # Check if the Tunnel or CommonCharacteristicsSubset requires defined demonstrationSRT when applicable
        FILTER EXISTS { $this era:demonstrationExecuted "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DesignMassExceptionalPayload a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:designMassExceptionalPayload ;
    era:rinfIndex "4.5.2.3" ;
    era:scope "local" ;

    rdfs:comment "Design mass under exceptional payload."@en ;
    # Source: ontology comment for designMassExceptionalPayload

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one design mass exceptional payload value for each VehicleType

    sh:message "designMassExceptionalPayload: The VehicleType must have at most one designMassExceptionalPayload defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:designMassExceptionalPayload ;

    sh:severity sh:Violation .

era-sh:DesignMassExceptionalPayloadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:designMassExceptionalPayload ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to accommodate exceptional payloads."@en ;
    # Source: inferred from context; RAG indicates that certain parameters apply under specific conditions

    sh:message "designMassExceptionalPayload: This error is due to the VehicleType violating the rule: must have defined designMassExceptionalPayload when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:designMassExceptionalPayload ?value } .
        # Check if the VehicleType requires defined designMassExceptionalPayload when applicable
        FILTER EXISTS { $this era:designedForExceptionalPayload "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DesignMassNormalPayload a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:designMassNormalPayload ;
    era:rinfIndex "4.5.2.2" ;
    era:scope "local" ;

    rdfs:comment "Design mass under normal payload."@en ;
    # Source: ontology comment for designMassNormalPayload

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one design mass normal payload value for each VehicleType

    sh:message "designMassNormalPayload: The VehicleType must have at most one designMassNormalPayload defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:designMassNormalPayload ;

    sh:severity sh:Violation .

era-sh:DesignMassNormalPayloadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:designMassNormalPayload ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate under normal payload conditions."@en ;
    # Source: inferred from context; RAG indicates that certain parameters apply under specific conditions

    sh:message "designMassNormalPayload: This error is due to the VehicleType violating the rule: must have defined designMassNormalPayload when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:designMassNormalPayload ?value } .
        # Check if the VehicleType requires defined designMassNormalPayload when applicable
        FILTER EXISTS { $this era:designedForNormalPayload "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DesignMassWorkingOrder a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:designMassWorkingOrder ;
    era:rinfIndex "4.5.2.1" ;
    era:scope "local" ;

    rdfs:comment "Design mass in working order."@en ;
    # Source: ontology comment for designMassWorkingOrder

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one design mass working order value for each VehicleType

    sh:message "designMassWorkingOrder: The VehicleType must have at most one designMassWorkingOrder defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:designMassWorkingOrder ;

    sh:severity sh:Violation .

era-sh:DesignMassWorkingOrderApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:designMassWorkingOrder ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate under working order conditions."@en ;
    # Source: inferred from context; RAG indicates that certain parameters apply under specific conditions

    sh:message "designMassWorkingOrder: This error is due to the VehicleType violating the rule: must have defined designMassWorkingOrder when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:designMassWorkingOrder ?value } .
        # Check if the VehicleType requires defined designMassWorkingOrder when applicable
        FILTER EXISTS { $this era:designedForWorkingOrder "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DieselThermalAllowed a sh:PropertyShape ;
    era:affectedClass era:Tunnel, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:dieselThermalAllowed ;
    era:rinfIndex "1.2.1.0.5.9" ;
    era:scope "local" ;

    rdfs:comment "Indication whether it is allowed to use diesel or other thermal traction in the tunnel."@en ;
    # Source: ontology comment for dieselThermalAllowed

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Tunnel or CommonCharacteristicsSubset

    sh:message "dieselThermalAllowed: The Tunnel or CommonCharacteristicsSubset must have at most one dieselThermalAllowed defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:dieselThermalAllowed ;

    sh:severity sh:Violation .

era-sh:DieselThermalAllowedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:dieselThermalAllowed ;
    era:scope "local" ;

    rdfs:comment "Applicable only when national rules exist and the option 'none' is selected for the parameter 1.2.1.0.5.7."@en ;
    # Source: RAG indicates conditions for applicability

    sh:message "dieselThermalAllowed: This error is due to the Tunnel or CommonCharacteristicsSubset violating the rule: must have defined dieselThermalAllowed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:dieselThermalAllowed ?value } .
        # Check if the Tunnel or CommonCharacteristicsSubset requires defined dieselThermalAllowed when applicable
        FILTER EXISTS { $this era:parameter1_2_1_0_5_7 "none" } .
    }
    """ ;

    sh:severity sh:Violation .


era-sh:DigitalSchematicOverviewApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:digitalSchematicOverview ;
    era:scope "local" ;

    rdfs:comment "Mandatory when a digital schematic representation is required for the operational point."@en ;
    # Source: inferred from the context of the RAG and ontology

    sh:message "digitalSchematicOverview: This error is due to the OperationalPoint violating the rule: must have defined digitalSchematicOverview when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:digitalSchematicOverview ?value } .
        # Check if the OperationalPoint requires defined digitalSchematicOverview when applicable
        FILTER EXISTS { $this era:requiresDigitalSchematic "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DistSignToPhaseEnd a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:distSignToPhaseEnd ;
    era:rinfIndex "1.1.1.2.4.3" ;
    era:scope "local" ;

    rdfs:comment "Distance between the signboard authorizing the driver to raise pantograph or close the circuit breaker after passing the phase separation and the end of the phase separation section."@en ;
    # Source: ontology comment for distSignToPhaseEnd

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one distSignToPhaseEnd value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "distSignToPhaseEnd: The CommonCharacteristicsSubset or RunningTrack must have at most one distSignToPhaseEnd defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:distSignToPhaseEnd ;

    sh:severity sh:Violation .

era-sh:DistSignToPhaseEndApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:distSignToPhaseEnd ;
    era:scope "local" ;

    rdfs:comment "Applicable only if the value Overhead contact line (OCL) is selected for parameter 'Type of contact line system'."@en ;
    # Source: dependency note in the ontology

    sh:message "distSignToPhaseEnd: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined distSignToPhaseEnd when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:distSignToPhaseEnd ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined distSignToPhaseEnd when applicable
        FILTER EXISTS { $this era:typeOfContactLineSystem "OCL" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DocumentUrl a sh:PropertyShape ;
    era:affectedClass era:Document ;
    era:affectedProperty era:documentUrl ;
    era:scope "local" ;

    rdfs:comment "URL that is used to download a document, e.g. url for a reference document in RINF."@en ;
    # Source: ontology comment for documentUrl

    sh:datatype xsd:anyURI ;
    # Source: ontology range indicates it must be an anyURI

    sh:maxCount 1 ;
    # Inferred: expected at most one document URL for each Document

    sh:message "documentUrl: The Document must have at most one documentUrl defined as an anyURI."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to be a URI

    sh:path era:documentUrl ;

    sh:severity sh:Violation .

era-sh:DocumentUrlApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Document ;
    era:affectedProperty era:documentUrl ;
    era:scope "local" ;

    rdfs:comment "Mandatory when a document reference is required for the document."@en ;
    # Source: inferred from the context of the RAG and ontology

    sh:message "documentUrl: This error is due to the Document violating the rule: must have defined documentUrl when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?docLabel WHERE {
        $this rdfs:label ?docLabel .
        FILTER NOT EXISTS { $this era:documentUrl ?value } .
        # Check if the Document requires defined documentUrl when applicable
        FILTER EXISTS { $this era:requiresDocumentUrl "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:DrivingCabs a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:drivingCabs ;
    era:rinfIndex "4.1.1" ;
    era:scope "local" ;

    rdfs:comment "Number of driving cabs. For wagons the number of driving cabs is to be set to zero (0)."@en ;
    # Source: ontology comment for drivingCabs

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one driving cab value for each VehicleType

    sh:message "drivingCabs: The VehicleType must have at most one drivingCabs defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:drivingCabs ;

    sh:severity sh:Violation .

era-sh:DrivingCabsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:drivingCabs ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type is designed to operate with driving cabs."@en ;
    # Source: inferred from context and usage of the property

    sh:message "drivingCabs: This error is due to the VehicleType violating the rule: must have defined drivingCabs when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:drivingCabs ?value } .
        # Check if the VehicleType requires defined drivingCabs when applicable
        FILTER EXISTS { $this era:requiresDrivingCabs "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakePrevention a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:eddyCurrentBrakePrevention ;
    era:rinfIndex "4.7.4.1.2" ;
    era:scope "local" ;

    rdfs:comment "Possibility of preventing the use of the eddy current track brake (only if fitted with eddy current brake)."@en ;
    # Source: ontology comment for eddyCurrentBrakePrevention

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "eddyCurrentBrakePrevention: The VehicleType must have at most one eddyCurrentBrakePrevention defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:eddyCurrentBrakePrevention ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakePreventionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:eddyCurrentBrakePrevention ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is fitted with an eddy current brake."@en ;
    # Source: inferred from the context; RAG indicates that certain parameters apply under specific conditions

    sh:message "eddyCurrentBrakePrevention: This error is due to the VehicleType violating the rule: must have defined eddyCurrentBrakePrevention when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:eddyCurrentBrakePrevention ?value } .
        # Check if the VehicleType requires defined eddyCurrentBrakePrevention when applicable
        FILTER EXISTS { $this era:fittedWithEddyCurrentBrake "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingFitted a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:eddyCurrentBrakingFitted ;
    era:rinfIndex "4.7.4.1.1" ;
    era:scope "local" ;

    rdfs:comment "Eddy current track brake fitted. New property defined to distinguish it from eddyCurrentBraking which is a RINF SKOS property."@en ;
    # Source: ontology comment for eddyCurrentBrakingFitted

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "eddyCurrentBrakingFitted: The VehicleType must have at most one eddyCurrentBrakingFitted defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:eddyCurrentBrakingFitted ;

    sh:severity sh:Violation .

era-sh:EddyCurrentBrakingFittedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:eddyCurrentBrakingFitted ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is fitted with an eddy current brake."@en ;
    # Source: inferred from the context; RAG indicates that certain parameters apply under specific conditions

    sh:message "eddyCurrentBrakingFitted: This error is due to the VehicleType violating the rule: must have defined eddyCurrentBrakingFitted when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:eddyCurrentBrakingFitted ?value } .
        # Check if the VehicleType requires defined eddyCurrentBrakingFitted when applicable
        FILTER EXISTS { $this era:fittedWithEddyCurrentBrake "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EmergencyBrake a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:emergencyBrake ;
    era:rinfIndex "4.7.5" ;
    era:scope "local" ;

    rdfs:comment "Stopping distance and deceleration profile for each load condition per design maximum speed."@en ;
    # Source: ontology comment for emergencyBrake

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one emergency brake value for each VehicleType

    sh:message "emergencyBrake: The VehicleType must have at most one emergencyBrake defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:emergencyBrake ;

    sh:severity sh:Violation .

era-sh:EmergencyBrakeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:emergencyBrake ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type requires a defined emergency brake specification."@en ;
    # Source: inferred from context; RAG indicates that certain parameters apply under specific conditions

    sh:message "emergencyBrake: This error is due to the VehicleType violating the rule: must have defined emergencyBrake when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:emergencyBrake ?value } .
        # Check if the VehicleType requires defined emergencyBrake when applicable
        FILTER EXISTS { $this era:requiresEmergencyBrake "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EndOffsetFromOrigin a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:endOffsetFromOrigin ;
    era:scope "local" ;

    rdfs:comment "End offset of the section from the origin."@en ;
    # Source: ontology comment for endOffsetFromOrigin

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Inferred: expected at most one end offset value for each LinearElementSection

    sh:message "endOffsetFromOrigin: The LinearElementSection must have at most one endOffsetFromOrigin defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:endOffsetFromOrigin ;

    sh:severity sh:Violation .

era-sh:EndOffsetFromOriginApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:endOffsetFromOrigin ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the section of line has a defined end offset from the origin."@en ;
    # Source: inferred from context; RAG indicates that certain parameters apply under specific conditions

    sh:message "endOffsetFromOrigin: This error is due to the LinearElementSection violating the rule: must have defined endOffsetFromOrigin when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:endOffsetFromOrigin ?value } .
        # Check if the LinearElementSection requires defined endOffsetFromOrigin when applicable
        FILTER EXISTS { $this era:requiresEndOffset "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EnergyMeterInstalled a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:energyMeterInstalled ;
    era:rinfIndex "4.10.12" ;
    era:scope "local" ;

    rdfs:comment "TSI conform energy meter for billing purposes installed on board."@en ;
    # Source: ontology comment for energyMeterInstalled

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one energy meter installed value for each VehicleType

    sh:message "energyMeterInstalled: The VehicleType must have at most one energyMeterInstalled defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:energyMeterInstalled ;

    sh:severity sh:Violation .

era-sh:EnergyMeterInstalledApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:energyMeterInstalled ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate with an energy meter installed."@en ;
    # Source: inferred from context and usage of the property

    sh:message "energyMeterInstalled: This error is due to the VehicleType violating the rule: must have defined energyMeterInstalled when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:energyMeterInstalled ?value } .
        # Check if the VehicleType requires defined energyMeterInstalled when applicable
        FILTER EXISTS { $this era:requiresEnergyMeter "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EnergySupplyMaxPower a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:energySupplyMaxPower ;
    era:rinfIndex "4.10.2" ;
    era:scope "local" ;

    rdfs:comment "Maximum power (to be indicated for each energy supply system the vehicle is equipped for), given in kW."@en ;
    # Source: ontology comment for energySupplyMaxPower

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Inferred: expected at most one energy supply max power value for each VehicleType

    sh:message "energySupplyMaxPower: The VehicleType must have at most one energySupplyMaxPower defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:energySupplyMaxPower ;

    sh:severity sh:Violation .

era-sh:EnergySupplyMaxPowerApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:energySupplyMaxPower ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate with specific energy supply systems."@en ;
    # Source: inferred from context and usage of the property

    sh:message "energySupplyMaxPower: This error is due to the VehicleType violating the rule: must have defined energySupplyMaxPower when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:energySupplyMaxPower ?value } .
        # Check if the VehicleType requires defined energySupplyMaxPower when applicable
        FILTER EXISTS { $this era:requiresEnergySupply "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EnergySupplySystemTSICompliant a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystemTSICompliant ;
    era:rinfIndex "1.1.1.2.2.1.2.1" ;
    era:scope "local" ;

    rdfs:comment "Indication if the traction supply system (nominal voltage and frequency) is fully compliant with TSI."@en ;
    # Source: ontology comment for energySupplySystemTSICompliant

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one energySupplySystemTSICompliant value for each ContactLineSystem

    sh:message "energySupplySystemTSICompliant: The ContactLineSystem must have at most one energySupplySystemTSICompliant defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:energySupplySystemTSICompliant ;

    sh:severity sh:Violation .

era-sh:EnergySupplySystemTSICompliantApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:energySupplySystemTSICompliant ;
    era:scope "local" ;

    rdfs:comment "Applicable when the traction supply system is electrified; when 'not electrified' is chosen, this parameter is not applicable."@en ;
    # Source: RAG explanation on applicability

    sh:message "energySupplySystemTSICompliant: This error is due to the ContactLineSystem violating the rule: must have defined energySupplySystemTSICompliant when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?clsLabel WHERE {
        $this rdfs:label ?clsLabel .
        FILTER NOT EXISTS { $this era:energySupplySystemTSICompliant ?value } .
        # Check if the ContactLineSystem requires defined energySupplySystemTSICompliant when applicable
        FILTER EXISTS { $this era:systemType "electrified" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboardExplanation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:errorCorrectionsOnboardExplanation ;
    era:rinfIndex "1.1.1.3.1.2" ; # Assuming a suitable index based on context
    era:scope "local" ;

    rdfs:comment "Explanation on why a mandatory onboard CR required to be solved in the on-board (ETCS, GSM-R and/or ATO) was accepted by the IM."@en ;
    # Source: ontology comment for errorCorrectionsOnboardExplanation

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one errorCorrectionsOnboardExplanation value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "errorCorrectionsOnboardExplanation: The CommonCharacteristicsSubset or RunningTrack must have at most one errorCorrectionsOnboardExplanation defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:errorCorrectionsOnboardExplanation ;

    sh:severity sh:Violation .

era-sh:ErrorCorrectionsOnboardExplanationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:errorCorrectionsOnboardExplanation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value must be provided when ETCS is applicable."@en ;
    # Source: dependency note in the ontology

    sh:message "errorCorrectionsOnboardExplanation: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined errorCorrectionsOnboardExplanation when ETCS is present."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:errorCorrectionsOnboardExplanation ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined errorCorrectionsOnboardExplanation when applicable
        FILTER EXISTS { $this era:ETCS "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ETCSDataCommApp a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsDataCommApp ;
    era:rinfIndex "4.13.2.9" ;
    era:scope "local" ;

    rdfs:comment "Data communication application for ETCS implementation."@en ;
    # Source: ontology comment for etcsDataCommApp

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one data communication application value for each VehicleType

    sh:message "etcsDataCommApp: The VehicleType must have at most one etcsDataCommApp defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:etcsDataCommApp ;

    sh:severity sh:Violation .

era-sh:ETCSDataCommAppApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsDataCommApp ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to implement ETCS data communication."@en ;
    # Source: inferred from context and usage of the property

    sh:message "etcsDataCommApp: This error is due to the VehicleType violating the rule: must have defined etcsDataCommApp when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:etcsDataCommApp ?value } .
        # Check if the VehicleType requires defined etcsDataCommApp when applicable
        FILTER EXISTS { $this era:requiresETCSDataCommApp "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsImplementsLevelCrossingProcedure a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:etcsImplementsLevelCrossingProcedure ;
    era:rinfIndex "1.1.1.3.2.13" ;
    era:scope "local" ;

    rdfs:comment "Indicates whether the ETCS trackside implements level crossing procedure or an equivalent solution."@en ;
    # Source: ontology comment for etcsImplementsLevelCrossingProcedure

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "etcsImplementsLevelCrossingProcedure: The CommonCharacteristicsSubset or RunningTrack must have at most one etcsImplementsLevelCrossingProcedure defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:etcsImplementsLevelCrossingProcedure ;

    sh:severity sh:Violation .

era-sh:EtcsImplementsLevelCrossingProcedureApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:etcsImplementsLevelCrossingProcedure ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value must be provided when ETCS is applicable."@en ;
    # Source: dependency note in the ontology

    sh:message "etcsImplementsLevelCrossingProcedure: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined etcsImplementsLevelCrossingProcedure when ETCS is present."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:etcsImplementsLevelCrossingProcedure ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined etcsImplementsLevelCrossingProcedure when applicable
        FILTER EXISTS { $this era:ETCS "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsInfillLineAccess a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:etcsInfillLineAccess ;
    era:rinfIndex "1.1.1.3.2.3" ;
    era:scope "local" ;

    rdfs:comment "Indication whether infill is required to access the line for safety reasons."@en ;
    # Source: ontology comment for etcsInfillLineAccess

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "etcsInfillLineAccess: The CommonCharacteristicsSubset or RunningTrack must have at most one etcsInfillLineAccess defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:etcsInfillLineAccess ;

    sh:severity sh:Violation .

era-sh:EtcsInfillLineAccessApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:etcsInfillLineAccess ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the selected value for 1.1.1.3.2.1 is ‘1’; a value must be provided when ETCS is present."@en ;
    # Source: dependency note in the ontology

    sh:message "etcsInfillLineAccess: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined etcsInfillLineAccess when ETCS is applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:etcsInfillLineAccess ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined etcsInfillLineAccess when applicable
        FILTER EXISTS { $this era:etcsLevel "1" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ETCSNationalApplications a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsNationalApplications ;
    era:rinfIndex "4.13.1.4" ;
    era:scope "local" ;

    rdfs:comment "ETCS national applications implemented (NID_XUSER of Packet 44)."@en ;
    # Source: ontology comment for etcsNationalApplications

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "etcsNationalApplications: The VehicleType must have at most one etcsNationalApplications defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:etcsNationalApplications ;

    sh:severity sh:Violation .

era-sh:ETCSNationalApplicationsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsNationalApplications ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to implement ETCS national applications."@en ;
    # Source: inferred from context and usage of the property

    sh:message "etcsNationalApplications: This error is due to the VehicleType violating the rule: must have defined etcsNationalApplications when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:etcsNationalApplications ?value } .
        # Check if the VehicleType requires defined etcsNationalApplications when applicable
        FILTER EXISTS { $this era:requiresETCSNationalApplications "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ETCSOnBoardImplementation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsOnBoardImplementation ;
    era:rinfIndex "4.13.1.7" ;
    era:scope "local" ;

    rdfs:comment "ETCS on-board implementation."@en ;
    # Source: ontology comment for etcsOnBoardImplementation

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one implementation value for each VehicleType

    sh:message "etcsOnBoardImplementation: The VehicleType must have at most one etcsOnBoardImplementation defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:etcsOnBoardImplementation ;

    sh:severity sh:Violation .

era-sh:ETCSOnBoardImplementationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:etcsOnBoardImplementation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to implement ETCS on-board functionality."@en ;
    # Source: inferred from context and usage of the property

    sh:message "etcsOnBoardImplementation: This error is due to the VehicleType violating the rule: must have defined etcsOnBoardImplementation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:etcsOnBoardImplementation ?value } .
        # Check if the VehicleType requires defined etcsOnBoardImplementation when applicable
        FILTER EXISTS { $this era:requiresETCSOnBoardImplementation "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:EtcsTransmitsTrackConditions a sh:PropertyShape ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmitsTrackConditions ;
    era:rinfIndex "1.1.1.3.2.12" ;
    era:scope "local" ;

    rdfs:comment "Indicates whether the ETCS trackside is engineered to transmit Track Conditions."@en ;
    # Source: ontology comment for etcsTransmitsTrackConditions

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one transmission capability value for each ETCS

    sh:message "etcsTransmitsTrackConditions: The ETCS must have at most one etcsTransmitsTrackConditions defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:etcsTransmitsTrackConditions ;

    sh:severity sh:Violation .

era-sh:EtcsTransmitsTrackConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ETCS ;
    era:affectedProperty era:etcsTransmitsTrackConditions ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value must be provided when ETCS is applicable."@en ;
    # Source: dependency note in the ontology

    sh:message "etcsTransmitsTrackConditions: This error is due to the ETCS violating the rule: must have defined etcsTransmitsTrackConditions when ETCS is present."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?etcsLabel WHERE {
        $this rdfs:label ?etcsLabel .
        FILTER NOT EXISTS { $this era:etcsTransmitsTrackConditions ?value } .
        # Check if the ETCS requires defined etcsTransmitsTrackConditions when applicable
        FILTER EXISTS { $this era:ETCS "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ExistanceOfIndustrialRisk a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:SectionOfLine ;
    era:affectedProperty era:existanceOfIndustrialRisk ;
    era:rinfIndex "1.1.0.0.1.1" ;
    era:scope "local" ;

    rdfs:comment "Indication that the full section of line (or a part of it) is identified by the Infrastructure Managers (and communicated to the RU) where drivers are not supposed to get off the locomotive."@en ;
    # Source: ontology comment for existanceOfIndustrialRisk

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one industrial risk indication for each CommonCharacteristicsSubset or SectionOfLine

    sh:message "existanceOfIndustrialRisk: The CommonCharacteristicsSubset or SectionOfLine must have at most one existanceOfIndustrialRisk defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:existanceOfIndustrialRisk ;

    sh:severity sh:Violation .

era-sh:ExistanceOfIndustrialRiskApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:SectionOfLine ;
    era:affectedProperty era:existanceOfIndustrialRisk ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the section of line or common characteristics subset is identified as having industrial risks."@en ;
    # Source: inferred from context and usage of the property

    sh:message "existanceOfIndustrialRisk: This error is due to the CommonCharacteristicsSubset or SectionOfLine violating the rule: must have defined existanceOfIndustrialRisk when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:existanceOfIndustrialRisk ?value } .
        # Check if the CommonCharacteristicsSubset or SectionOfLine requires defined existanceOfIndustrialRisk when applicable
        FILTER EXISTS { $this era:hasIndustrialRisk "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FerromagneticWheelMaterial a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:ferromagneticWheelMaterial ;
    era:rinfIndex "4.14.2.12" ;
    era:scope "local" ;

    rdfs:comment "Wheel material is ferromagnetic."@en ;
    # Source: ontology comment for ferromagneticWheelMaterial

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one ferromagnetic wheel material value for each VehicleType

    sh:message "ferromagneticWheelMaterial: The VehicleType must have at most one ferromagneticWheelMaterial defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:ferromagneticWheelMaterial ;

    sh:severity sh:Violation .

era-sh:FerromagneticWheelMaterialApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:ferromagneticWheelMaterial ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate with ferromagnetic wheel materials."@en ;
    # Source: inferred from context and usage of the property

    sh:message "ferromagneticWheelMaterial: This error is due to the VehicleType violating the rule: must have defined ferromagneticWheelMaterial when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:ferromagneticWheelMaterial ?value } .
        # Check if the VehicleType requires defined ferromagneticWheelMaterial when applicable
        FILTER EXISTS { $this era:requiresFerromagneticMaterial "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FixedSeats a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:fixedSeats ;
    era:scope "local" ;

    rdfs:comment "Number of fixed seats."@en ;
    # Source: ontology comment for fixedSeats

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one fixedSeats value for each VehicleType

    sh:message "fixedSeats: The VehicleType must have at most one fixedSeats defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:fixedSeats ;

    sh:severity sh:Violation .

era-sh:FixedSeatsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:fixedSeats ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to specify the number of fixed seats."@en ;
    # Source: inferred from context and usage of the property

    sh:message "fixedSeats: This error is due to the VehicleType violating the rule: must have defined fixedSeats when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:fixedSeats ?value } .
        # Check if the VehicleType requires defined fixedSeats when applicable
        FILTER EXISTS { $this era:requiresFixedSeats "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FlangeLubeForbidden a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:flangeLubeForbidden ;
    era:rinfIndex "1.1.1.1.7.1" ;
    era:scope "local" ;

    rdfs:comment "Indication whether the use of on-board device for flange lubrication is forbidden."@en ;
    # Source: ontology comment for flangeLubeForbidden

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one flangeLubeForbidden value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "flangeLubeForbidden: The CommonCharacteristicsSubset or RunningTrack must have at most one flangeLubeForbidden defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:flangeLubeForbidden ;

    sh:severity sh:Violation .

era-sh:FlangeLubeForbiddenApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:flangeLubeForbidden ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the use of flange lubrication is applicable; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "flangeLubeForbidden: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined flangeLubeForbidden when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:flangeLubeForbidden ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined flangeLubeForbidden when applicable
        FILTER EXISTS { $this era:requiresFlangeLubeForbidden "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FlangeLubeRules a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:flangeLubeRules ;
    era:rinfIndex "1.1.1.3.7.20" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules for activation or deactivation of flange lubrication exist."@en ;
    # Source: ontology comment for flangeLubeRules

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one flangeLubeRules value for each TrainDetectionSystem

    sh:message "flangeLubeRules: The TrainDetectionSystem must have at most one flangeLubeRules defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:flangeLubeRules ;

    sh:severity sh:Violation .

era-sh:FlangeLubeRulesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:flangeLubeRules ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the selected option for parameter 1.1.1.3.7.1.1 is ‘track circuit’."@en ;
    # Source: RAG explanation on applicability

    sh:message "flangeLubeRules: This error is due to the TrainDetectionSystem violating the rule: must have defined flangeLubeRules when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:flangeLubeRules ?value } .
        # Check if the TrainDetectionSystem requires defined flangeLubeRules when applicable
        FILTER EXISTS { $this era:requiresFlangeLubeRules "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FlangeLubricationFitted a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:flangeLubricationFitted ;
    era:rinfIndex "4.9.3.1" ;
    era:scope "local" ;

    rdfs:comment "Indicates if the vehicle type is fitted for flange lubrication."@en ;
    # Source: ontology comment for flangeLubricationFitted

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "flangeLubricationFitted: The VehicleType must have at most one flangeLubricationFitted defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:flangeLubricationFitted ;

    sh:severity sh:Violation .

era-sh:FlangeLubricationFittedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:flangeLubricationFitted ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate with flange lubrication."@en ;
    # Source: inferred from context and usage of the property

    sh:message "flangeLubricationFitted: This error is due to the VehicleType violating the rule: must have defined flangeLubricationFitted when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:flangeLubricationFitted ?value } .
        # Check if the VehicleType requires defined flangeLubricationFitted when applicable
        FILTER EXISTS { $this era:requiresFlangeLubrication "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FreightFlag a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:freightFlag ;
    era:scope "local" ;

    rdfs:comment "Indicates whether the primary location is designated for freight operations."@en ;
    # Source: inferred from the context of freightFlag usage

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each PrimaryLocation

    sh:message "freightFlag: The PrimaryLocation must have at most one freightFlag defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:freightFlag ;

    sh:severity sh:Violation .

era-sh:FreightFlagApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:freightFlag ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the primary location is designated for freight operations; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "freightFlag: This error is due to the PrimaryLocation violating the rule: must have defined freightFlag when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:freightFlag ?value } .
        # Check if the PrimaryLocation requires defined freightFlag when applicable
        FILTER EXISTS { $this era:designatedForFreight "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationApplicable a sh:PropertyShape ;
    era:affectedClass era:FrenchTrainDetectionSystemLimitation ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationApplicable ;
    era:scope "local" ;

    rdfs:comment "Part of the section with train detection limitation that indicates if it is applicable. Only for the French network."@en ;
    # Source: ontology comment for frenchTrainDetectionSystemLimitationApplicable

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one applicability value for each FrenchTrainDetectionSystemLimitation

    sh:message "frenchTrainDetectionSystemLimitationApplicable: The FrenchTrainDetectionSystemLimitation must have at most one frenchTrainDetectionSystemLimitationApplicable defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:frenchTrainDetectionSystemLimitationApplicable ;

    sh:severity sh:Violation .

era-sh:FrenchTrainDetectionSystemLimitationApplicableApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:FrenchTrainDetectionSystemLimitation ;
    era:affectedProperty era:frenchTrainDetectionSystemLimitationApplicable ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the section with train detection limitation is applicable for the French network."@en ;
    # Source: inferred from context and usage of the property

    sh:message "frenchTrainDetectionSystemLimitationApplicable: This error is due to the FrenchTrainDetectionSystemLimitation violating the rule: must have defined frenchTrainDetectionSystemLimitationApplicable when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?limitationLabel WHERE {
        $this rdfs:label ?limitationLabel .
        FILTER NOT EXISTS { $this era:frenchTrainDetectionSystemLimitationApplicable ?value } .
        # Check if the FrenchTrainDetectionSystemLimitation requires defined frenchTrainDetectionSystemLimitationApplicable when applicable
        FILTER EXISTS { $this era:requiresFrenchTrainDetectionSystemLimitation "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GaugingCheckLocation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gaugingCheckLocation ;
    era:rinfIndex "1.1.1.1.3.1.2" ;
    era:scope "local" ;

    rdfs:comment "Location of particular points requiring specific checks due to deviations from gauging referred to in parameter 'Gauging'."@en ;
    # Source: ontology comment for gaugingCheckLocation

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one gauging check location value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "gaugingCheckLocation: The CommonCharacteristicsSubset or RunningTrack must have at most one gaugingCheckLocation defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:gaugingCheckLocation ;

    sh:severity sh:Violation .

era-sh:GaugingCheckLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gaugingCheckLocation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the conditions for the application of the gauge are not fulfilled; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "gaugingCheckLocation: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined gaugingCheckLocation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:gaugingCheckLocation ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined gaugingCheckLocation when applicable
        FILTER EXISTS { $this era:conditionsForGaugeNotFulfilled "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GPRSForETCS a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gprsForETCS ;
    era:rinfIndex "1.1.1.3.3.3.2" ;
    era:scope "local" ;

    rdfs:comment "Indication if GPRS can be used for ETCS."@en ;
    # Source: ontology comment for gprsForETCS

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one GPRS capability value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "gprsForETCS: The CommonCharacteristicsSubset or RunningTrack must have at most one gprsForETCS defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:gprsForETCS ;

    sh:severity sh:Violation .

era-sh:GPRSForETCSApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gprsForETCS ;
    era:scope "local" ;

    rdfs:comment "Mandatory when GPRS is applicable; a value must be provided."@en ;
    # Source: inferred from the applicability explanation in RAG

    sh:message "gprsForETCS: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined gprsForETCS when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gprsForETCS ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined gprsForETCS when applicable
        FILTER EXISTS { $this era:requiresGPRS "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GPRSImplementationArea a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gprsImplementationArea ;
    era:rinfIndex "1.1.1.3.3.3.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of the area in which GPRS can be used for ETCS, expressed as a list of GPRS-enabled RBCs."@en ;
    # Source: ontology comment for gprsImplementationArea

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one implementation area value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "gprsImplementationArea: The CommonCharacteristicsSubset or RunningTrack must have at most one gprsImplementationArea defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:gprsImplementationArea ;

    sh:severity sh:Violation .

era-sh:GPRSImplementationAreaApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gprsImplementationArea ;
    era:scope "local" ;

    rdfs:comment "Mandatory when GPRS is applicable; a value must be provided."@en ;
    # Source: explanation on applicability from RAG

    sh:message "gprsImplementationArea: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined gprsImplementationArea when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gprsImplementationArea ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined gprsImplementationArea when applicable
        FILTER EXISTS { $this era:gprsForETCS "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Gradient a sh:PropertyShape ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gradient ;
    era:rinfIndex "1.2.2.0.3.1" ;
    era:scope "local" ;

    rdfs:comment "Maximum value of the gradient for stabling tracks expressed in millimetres per metre."@en ;
    # Source: ontology comment for gradient

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Inferred: expected at most one gradient value for each Siding or CommonCharacteristicsSubset

    sh:message "gradient: The Siding or CommonCharacteristicsSubset must have at most one gradient defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:gradient ;

    sh:severity sh:Violation .

era-sh:GradientApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:gradient ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the gradient is applicable; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "gradient: This error is due to the Siding or CommonCharacteristicsSubset violating the rule: must have defined gradient when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gradient ?value } .
        # Check if the Siding or CommonCharacteristicsSubset requires defined gradient when applicable
        FILTER EXISTS { $this era:gradientApplicable "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GradientProfile a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gradientProfile ;
    era:rinfIndex "1.1.1.1.3.6" ;
    era:scope "local" ;

    rdfs:comment "Sequence of gradient values and locations of change in gradient."@en ;
    # Source: ontology comment for gradientProfile

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Inferred: expected at most one gradientProfile value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "gradientProfile: The CommonCharacteristicsSubset or RunningTrack must have at most one gradientProfile defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:gradientProfile ;

    sh:severity sh:Violation .

era-sh:GradientProfileApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gradientProfile ;
    era:scope "local" ;

    rdfs:comment "Mandatory when gradient profile is applicable; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "gradientProfile: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined gradientProfile when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gradientProfile ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined gradientProfile when applicable
        FILTER EXISTS { $this era:gradientApplicable "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmRNoCoverage a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gsmRNoCoverage ;
    era:rinfIndex "1.1.1.3.3.8" ;
    era:scope "local" ;

    rdfs:comment "Indication if there is no GSMR coverage."@en ;
    # Source: ontology comment for gsmRNoCoverage

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one gsmRNoCoverage value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "gsmRNoCoverage: The CommonCharacteristicsSubset or RunningTrack must have at most one gsmRNoCoverage defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:gsmRNoCoverage ;

    sh:severity sh:Violation .

era-sh:GsmRNoCoverageApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gsmRNoCoverage ;
    era:scope "local" ;

    rdfs:comment "Mandatory when GSM-R is applicable; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "gsmRNoCoverage: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined gsmRNoCoverage when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmRNoCoverage ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined gsmRNoCoverage when applicable
        FILTER EXISTS { $this era:gsmRApplicable "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmRSetsInDrivingCab a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:gsmRSetsInDrivingCab ;
    era:rinfIndex "4.13.2.2" ;
    era:scope "local" ;

    rdfs:comment "Number of GSM-R mobile sets in driving cab for data transmission."@en ;
    # Source: ontology comment for gsmRSetsInDrivingCab

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "gsmRSetsInDrivingCab: The VehicleType must have at most one gsmRSetsInDrivingCab defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:gsmRSetsInDrivingCab ;

    sh:severity sh:Violation .

era-sh:GsmRSetsInDrivingCabApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:gsmRSetsInDrivingCab ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate with GSM-R communication."@en ;
    # Source: inferred from context and usage of the property

    sh:message "gsmRSetsInDrivingCab: This error is due to the VehicleType violating the rule: must have defined gsmRSetsInDrivingCab when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:gsmRSetsInDrivingCab ?value } .
        # Check if the VehicleType requires defined gsmRSetsInDrivingCab when applicable
        FILTER EXISTS { $this era:requiresGsmRSets "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:GsmrForcedDeregistrationFunctionalNumber a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gsmrForcedDeregistrationFunctionalNumber ;
    era:rinfIndex "1.1.1.3.3.11" ;
    era:scope "local" ;

    rdfs:comment "Indicates whether the GSM-R network is configured to allow forced de-registration of a functional number by another driver."@en ;
    # Source: ontology comment for gsmrForcedDeregistrationFunctionalNumber

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "gsmrForcedDeregistrationFunctionalNumber: The CommonCharacteristicsSubset or RunningTrack must have at most one gsmrForcedDeregistrationFunctionalNumber defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:gsmrForcedDeregistrationFunctionalNumber ;

    sh:severity sh:Violation .

era-sh:GsmrForcedDeregistrationFunctionalNumberApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:gsmrForcedDeregistrationFunctionalNumber ;
    era:scope "local" ;

    rdfs:comment "Mandatory when GSM-R and ETCS Level 2 must be installed; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "gsmrForcedDeregistrationFunctionalNumber: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined gsmrForcedDeregistrationFunctionalNumber when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:gsmrForcedDeregistrationFunctionalNumber ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined gsmrForcedDeregistrationFunctionalNumber when applicable
        FILTER EXISTS { $this era:dependencyNote "GSM-R and ETCS L2 must be installed for this parameter to be applicable." } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HandoverPointFlag a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:handoverPointFlag ;
    era:scope "local" ;

    rdfs:comment "Indicates whether the primary location is designated as a handover point."@en ;
    # Source: inferred from the context of handoverPointFlag usage

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each PrimaryLocation

    sh:message "handoverPointFlag: The PrimaryLocation must have at most one handoverPointFlag defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:handoverPointFlag ;

    sh:severity sh:Violation .

era-sh:HandoverPointFlagApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:handoverPointFlag ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the primary location is designated as a handover point; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "handoverPointFlag: This error is due to the PrimaryLocation violating the rule: must have defined handoverPointFlag when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:handoverPointFlag ?value } .
        # Check if the PrimaryLocation requires defined handoverPointFlag when applicable
        FILTER EXISTS { $this era:designatedAsHandoverPoint "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasAdditionalBrakingInformation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasAdditionalBrakingInformation ;
    era:rinfIndex "1.1.1.3.11.2" ;
    era:scope "local" ;

    rdfs:comment "Availability by the IM of additional information as defined in point (2) of point 4.2.2.6.2 of Regulation (EU) 2023/1693 - TSI OPE."@en ;
    # Source: ontology comment for hasAdditionalBrakingInformation

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one availability value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasAdditionalBrakingInformation: The CommonCharacteristicsSubset or RunningTrack must have at most one hasAdditionalBrakingInformation defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasAdditionalBrakingInformation ;

    sh:severity sh:Violation .

era-sh:HasAdditionalBrakingInformationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasAdditionalBrakingInformation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the infrastructure manager has additional braking information available; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasAdditionalBrakingInformation: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasAdditionalBrakingInformation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasAdditionalBrakingInformation ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasAdditionalBrakingInformation when applicable
        FILTER EXISTS { $this era:availabilityByIM "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasAutomaticDroppingDevice a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasAutomaticDroppingDevice ;
    era:rinfIndex "4.10.11" ;
    era:scope "local" ;

    rdfs:comment "Automatic dropping device (ADD) fitted (to be indicated for each energy supply system the vehicle is equipped for)."@en ;
    # Source: ontology comment for hasAutomaticDroppingDevice

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasAutomaticDroppingDevice: The VehicleType must have at most one hasAutomaticDroppingDevice defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasAutomaticDroppingDevice ;

    sh:severity sh:Violation .

era-sh:HasAutomaticDroppingDeviceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasAutomaticDroppingDevice ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is required to have an automatic dropping device; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasAutomaticDroppingDevice: This error is due to the VehicleType violating the rule: must have defined hasAutomaticDroppingDevice when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasAutomaticDroppingDevice ?value } .
        # Check if the VehicleType requires defined hasAutomaticDroppingDevice when applicable
        FILTER EXISTS { $this era:requiresAutomaticDroppingDevice "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasBallast a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasBallast ;
    era:rinfIndex "1.1.1.1.4.4" ;
    era:scope "local" ;

    rdfs:comment "Specifies whether track construction is with sleepers embedded in ballast or not."@en ;
    # Source: ontology comment for hasBallast

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasBallast: The CommonCharacteristicsSubset or RunningTrack must have at most one hasBallast defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasBallast ;

    sh:severity sh:Violation .

era-sh:HasBallastApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasBallast ;
    era:scope "local" ;

    rdfs:comment "Mandatory for tracks with permitted speed greater than or equal to 250km/h; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasBallast: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasBallast when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasBallast ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasBallast when applicable
        FILTER EXISTS { $this era:permittedSpeed ?speed . FILTER (xsd:integer(?speed) >= 250) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasBridge a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasBridge ;
    era:scope "local" ;

    rdfs:comment "Whether or not a track is associated with a bridge."@en ;
    # Source: ontology definition for hasBridge

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one bridge association value for each RunningTrack

    sh:message "hasBridge: The RunningTrack must have at most one hasBridge defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasBridge ;

    sh:severity sh:Violation .

era-sh:HasBridgeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:hasBridge ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the RunningTrack is associated with a bridge; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasBridge: This error is due to the RunningTrack violating the rule: must have defined hasBridge when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:hasBridge ?value } .
        # Check if the RunningTrack requires defined hasBridge when applicable
        FILTER EXISTS { $this era:associatedWithBridge "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasCantDefficiencyCompensation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasCantDefficiencyCompensation ;
    era:scope "local" ;

    rdfs:comment "Vehicle equipped with a cant deficiency compensation system (tilting vehicle)."@en ;
    # Source: ontology comment for hasCantDefficiencyCompensation

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasCantDefficiencyCompensation: The VehicleType must have at most one hasCantDefficiencyCompensation defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasCantDefficiencyCompensation ;

    sh:severity sh:Violation .

era-sh:HasCantDefficiencyCompensationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasCantDefficiencyCompensation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is designed to operate with cant deficiency compensation; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasCantDefficiencyCompensation: This error is due to the VehicleType violating the rule: must have defined hasCantDefficiencyCompensation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasCantDefficiencyCompensation ?value } .
        # Check if the VehicleType requires defined hasCantDefficiencyCompensation when applicable
        FILTER EXISTS { $this era:requiresCantDefficiencyCompensation "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasCurrentLimitation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasCurrentLimitation ;
    era:rinfIndex "4.10.14" ;
    era:scope "local" ;

    rdfs:comment "Electric units equipped with power or current limitation function."@en ;
    # Source: ontology comment for hasCurrentLimitation

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasCurrentLimitation: The VehicleType must have at most one hasCurrentLimitation defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasCurrentLimitation ;

    sh:severity sh:Violation .

era-sh:HasCurrentLimitationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasCurrentLimitation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type requires a current limitation function; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasCurrentLimitation: This error is due to the VehicleType violating the rule: must have defined hasCurrentLimitation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasCurrentLimitation ?value } .
        # Check if the VehicleType requires defined hasCurrentLimitation when applicable
        FILTER EXISTS { $this era:requiresCurrentLimitation "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasETCSRestrictionsConditions a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasETCSRestrictionsConditions ;
    era:rinfIndex "1.1.1.3.2.6" ;
    era:scope "local" ;

    rdfs:comment "Indication whether restrictions or conditions due to partial compliance with the TSI CCS exist."@en ;
    # Source: ontology comment for hasETCSRestrictionsConditions

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasETCSRestrictionsConditions: The CommonCharacteristicsSubset or RunningTrack must have at most one hasETCSRestrictionsConditions defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasETCSRestrictionsConditions ;

    sh:severity sh:Violation .

era-sh:HasETCSRestrictionsConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasETCSRestrictionsConditions ;
    era:scope "local" ;

    rdfs:comment "Mandatory when ETCS is present; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasETCSRestrictionsConditions: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasETCSRestrictionsConditions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasETCSRestrictionsConditions ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasETCSRestrictionsConditions when applicable
        FILTER EXISTS { $this era:etcsPresent "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasElectricShoreSupply a sh:PropertyShape ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasElectricShoreSupply ;
    era:rinfIndex "1.2.2.0.4.6" ;
    era:scope "local" ;

    rdfs:comment "Indication whether an installation for electric shore supply exists (fixed installation for servicing trains)."@en ;
    # Source: ontology comment for hasElectricShoreSupply

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Siding or CommonCharacteristicsSubset

    sh:message "hasElectricShoreSupply: The Siding or CommonCharacteristicsSubset must have at most one hasElectricShoreSupply defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasElectricShoreSupply ;

    sh:severity sh:Violation .

era-sh:HasElectricShoreSupplyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasElectricShoreSupply ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the Siding or CommonCharacteristicsSubset requires electric shore supply; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasElectricShoreSupply: This error is due to the Siding or CommonCharacteristicsSubset violating the rule: must have defined hasElectricShoreSupply when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:hasElectricShoreSupply ?value } .
        # Check if the Siding or CommonCharacteristicsSubset requires defined hasElectricShoreSupply when applicable
        FILTER EXISTS { $this era:requiresElectricShoreSupply "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasEmergencyPlan a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEmergencyPlan ;
    era:rinfIndex "1.1.1.1.8.9" ;
    era:scope "local" ;

    rdfs:comment "Indication whether emergency plan exists. Mandatory for tunnels longer than 1 km."@en ;
    # Source: ontology comment for hasEmergencyPlan

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Tunnel

    sh:message "hasEmergencyPlan: The Tunnel must have at most one hasEmergencyPlan defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasEmergencyPlan ;

    sh:severity sh:Violation .

era-sh:HasEmergencyPlanApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEmergencyPlan ;
    era:scope "local" ;

    rdfs:comment "Mandatory for tunnels longer than 1 km; a value must be provided."@en ;
    # Source: RAG explanation on applicability

    sh:message "hasEmergencyPlan: This error is due to the Tunnel violating the rule: must have defined hasEmergencyPlan when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:hasEmergencyPlan ?value } .
        # Check if the Tunnel requires defined hasEmergencyPlan when applicable
        FILTER EXISTS { $this era:length ?length . FILTER (xsd:integer(?length) > 1000) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasEtcsNationalPacket44 a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:Track ;
    era:affectedProperty era:hasEtcsNationalPacket44 ;
    era:rinfIndex "1.1.1.3.2.5" ;
    era:scope "local" ;

    rdfs:comment "Indication whether data for national applications is transmitted between track and train."@en ;
    # Source: ontology comment for hasEtcsNationalPacket44

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or Track

    sh:message "hasEtcsNationalPacket44: The CommonCharacteristicsSubset or Track must have at most one hasEtcsNationalPacket44 defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasEtcsNationalPacket44 ;

    sh:severity sh:Violation .

era-sh:HasEtcsNationalPacket44Applicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:Track ;
    era:affectedProperty era:hasEtcsNationalPacket44 ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the value for 1.1.1.3.2.1 (ETCS present) is not ‘N’; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasEtcsNationalPacket44: This error is due to the CommonCharacteristicsSubset or Track violating the rule: must have defined hasEtcsNationalPacket44 when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasEtcsNationalPacket44 ?value } .
        # Check if the CommonCharacteristicsSubset or Track requires defined hasEtcsNationalPacket44 when applicable
        FILTER EXISTS { $this era:etcsPresent ?etcsValue . FILTER (?etcsValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasEvacuationAndRescuePoints a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEvacuationAndRescuePoints ;
    era:rinfIndex "1.1.1.1.8.13" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of evacuation and rescue points. Mandatory for TSI-compliant tunnels longer than 0.5 km."@en ;
    # Source: ontology comment for hasEvacuationAndRescuePoints

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Tunnel

    sh:message "hasEvacuationAndRescuePoints: The Tunnel must have at most one hasEvacuationAndRescuePoints defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasEvacuationAndRescuePoints ;

    sh:severity sh:Violation .

era-sh:HasEvacuationAndRescuePointsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasEvacuationAndRescuePoints ;
    era:scope "local" ;

    rdfs:comment "Mandatory for TSI-compliant tunnels longer than 0.5 km; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasEvacuationAndRescuePoints: This error is due to the Tunnel violating the rule: must have defined hasEvacuationAndRescuePoints when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:hasEvacuationAndRescuePoints ?value } .
        # Check if the Tunnel requires defined hasEvacuationAndRescuePoints when applicable
        FILTER EXISTS { $this era:length ?length . FILTER (xsd:decimal(?length) > 0.5) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasExternalCleaning a sh:PropertyShape ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasExternalCleaning ;
    era:rinfIndex "1.2.2.0.4.2" ;
    era:scope "local" ;

    rdfs:comment "Indication whether exists an installation of external cleaning facility (fixed installation for servicing trains) as defined in TSI INF."@en ;
    # Source: ontology comment for hasExternalCleaning

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Siding or CommonCharacteristicsSubset

    sh:message "hasExternalCleaning: The Siding or CommonCharacteristicsSubset must have at most one hasExternalCleaning defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasExternalCleaning ;

    sh:severity sh:Violation .

era-sh:HasExternalCleaningApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasExternalCleaning ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the Siding or CommonCharacteristicsSubset requires external cleaning facilities; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasExternalCleaning: This error is due to the Siding or CommonCharacteristicsSubset violating the rule: must have defined hasExternalCleaning when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:hasExternalCleaning ?value } .
        # Check if the Siding or CommonCharacteristicsSubset requires defined hasExternalCleaning when applicable
        FILTER EXISTS { $this era:requiresExternalCleaning "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasHotAxleBoxDetector a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasHotAxleBoxDetector ;
    era:rinfIndex "1.1.1.1.7.4" ;
    era:scope "local" ;

    rdfs:comment "Indicates the existence of trackside hot axle box detector (HABD)."@en ;
    # Source: ontology comment for hasHotAxleBoxDetector

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasHotAxleBoxDetector: The CommonCharacteristicsSubset or RunningTrack must have at most one hasHotAxleBoxDetector defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasHotAxleBoxDetector ;

    sh:severity sh:Violation .

era-sh:HasHotAxleBoxDetectorApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasHotAxleBoxDetector ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the section of line is equipped with trackside hot axle box detector (HABD); a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasHotAxleBoxDetector: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasHotAxleBoxDetector when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasHotAxleBoxDetector ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasHotAxleBoxDetector when applicable
        FILTER EXISTS { $this era:requiresHABD "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasLevelCrossings a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasLevelCrossings ;
    era:scope "local" ;

    rdfs:comment "Indication whether level crossings (including pedestrian track crossing) exist on the section of line."@en ;
    # Source: ontology definition for hasLevelCrossings

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one level crossing value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasLevelCrossings: The CommonCharacteristicsSubset or RunningTrack must have at most one hasLevelCrossings defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasLevelCrossings ;

    sh:severity sh:Violation .

era-sh:HasLevelCrossingsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasLevelCrossings ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the section of line has level crossings; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasLevelCrossings: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasLevelCrossings when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:hasLevelCrossings ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasLevelCrossings when applicable
        FILTER EXISTS { $this era:hasLevelCrossings "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasLubricationDevicePrevention a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasLubricationDevicePrevention ;
    era:scope "local" ;

    rdfs:comment "Possibility of preventing the use of the lubrication device (only if fitted with flange lubrication)."@en ;
    # Source: ontology comment for hasLubricationDevicePrevention

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasLubricationDevicePrevention: The VehicleType must have at most one hasLubricationDevicePrevention defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasLubricationDevicePrevention ;

    sh:severity sh:Violation .

era-sh:HasLubricationDevicePreventionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasLubricationDevicePrevention ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type is fitted with flange lubrication; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasLubricationDevicePrevention: This error is due to the VehicleType violating the rule: must have defined hasLubricationDevicePrevention when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasLubricationDevicePrevention ?value } .
        # Check if the VehicleType requires defined hasLubricationDevicePrevention when applicable
        FILTER EXISTS { $this era:requiresFlangeLubrication "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasParkingBrake a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasParkingBrake ;
    era:rinfIndex "4.7.3.4" ;
    era:scope "local" ;

    rdfs:comment "Indicates if a vehicle type has parking brake."@en ;
    # Source: ontology comment for hasParkingBrake

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasParkingBrake: The VehicleType must have at most one hasParkingBrake defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasParkingBrake ;

    sh:severity sh:Violation .

era-sh:HasParkingBrakeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasParkingBrake ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type requires a parking brake; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasParkingBrake: This error is due to the VehicleType violating the rule: must have defined hasParkingBrake when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasParkingBrake ?value } .
        # Check if the VehicleType requires defined hasParkingBrake when applicable
        FILTER EXISTS { $this era:requiresParkingBrake "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasPhaseSeparation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasPhaseSeparation ;
    era:rinfIndex "1.1.1.2.4.1.1" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of phase separation and required information."@en ;
    # Source: ontology comment for hasPhaseSeparation

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasPhaseSeparation: The CommonCharacteristicsSubset or RunningTrack must have at most one hasPhaseSeparation defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasPhaseSeparation ;

    sh:severity sh:Violation .

era-sh:HasPhaseSeparationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasPhaseSeparation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the selected option for parameter 1.1.1.2.2.1.1 is ‘Y’; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasPhaseSeparation: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasPhaseSeparation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasPhaseSeparation ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasPhaseSeparation when applicable
        FILTER EXISTS { $this era:oclSeparation "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasPlatformCurvature a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:PlatformEdge ;
    era:affectedProperty era:hasPlatformCurvature ;
    era:rinfIndex "1.2.1.0.6.8" ;
    era:scope "local" ;

    rdfs:comment "Indication of the existence of the curvature of the platform."@en ;
    # Source: ontology comment for hasPlatformCurvature

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or PlatformEdge

    sh:message "hasPlatformCurvature: The CommonCharacteristicsSubset or PlatformEdge must have at most one hasPlatformCurvature defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasPlatformCurvature ;

    sh:severity sh:Violation .

era-sh:HasPlatformCurvatureApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:PlatformEdge ;
    era:affectedProperty era:hasPlatformCurvature ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the platform has curvature; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasPlatformCurvature: This error is due to the CommonCharacteristicsSubset or PlatformEdge violating the rule: must have defined hasPlatformCurvature when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?platformLabel WHERE {
        $this rdfs:label ?platformLabel .
        FILTER NOT EXISTS { $this era:hasPlatformCurvature ?value } .
        # Check if the CommonCharacteristicsSubset or PlatformEdge requires defined hasPlatformCurvature when applicable
        FILTER EXISTS { $this era:platformCurvatureRequired "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasRefuelling a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:Siding ;
    era:affectedProperty era:hasRefuelling ;
    era:rinfIndex "1.2.2.0.4.4" ;
    era:scope "local" ;

    rdfs:comment "Indication whether exists an installation for refuelling (fixed installation for servicing trains) as defined in INF TSIs."@en ;
    # Source: ontology comment for hasRefuelling

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or Siding

    sh:message "hasRefuelling: The CommonCharacteristicsSubset or Siding must have at most one hasRefuelling defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasRefuelling ;

    sh:severity sh:Violation .

era-sh:HasRefuellingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:Siding ;
    era:affectedProperty era:hasRefuelling ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the installation for servicing trains exists; a value must be provided."@en ;
    # Source: inferred from the context and usage of the property

    sh:message "hasRefuelling: This error is due to the CommonCharacteristicsSubset or Siding violating the rule: must have defined hasRefuelling when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:hasRefuelling ?value } .
        # Check if the CommonCharacteristicsSubset or Siding requires defined hasRefuelling when applicable
        FILTER EXISTS { $this era:installationForRefuelling "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasRegenerativeBrake a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasRegenerativeBrake ;
    era:rinfIndex "4.7.4.3.1" ;
    era:scope "local" ;

    rdfs:comment "Indication whether regenerative braking is permitted or not."@en ;
    # Source: ontology comment for hasRegenerativeBrake

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasRegenerativeBrake: The VehicleType must have at most one hasRegenerativeBrake defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasRegenerativeBrake ;

    sh:severity sh:Violation .

era-sh:HasRegenerativeBrakeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasRegenerativeBrake ;
    era:scope "local" ;

    rdfs:comment "Mandatory when regenerative braking is applicable; a value must be provided."@en ;
    # Source: RAG states applicability depends on the context of electrification

    sh:message "hasRegenerativeBrake: This error is due to the VehicleType violating the rule: must have defined hasRegenerativeBrake when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasRegenerativeBrake ?value } .
        # Check if regenerative braking is applicable based on the system type
        FILTER EXISTS { $this era:systemType ?systemType . FILTER(?systemType != "not electrified") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasSandRestocking a sh:PropertyShape ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasSandRestocking ;
    era:rinfIndex "1.2.2.0.4.5" ;
    era:scope "local" ;

    rdfs:comment "Indication whether an installation for sand restocking exists (fixed installation for servicing trains)."@en ;
    # Source: ontology comment for hasSandRestocking

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Siding or CommonCharacteristicsSubset

    sh:message "hasSandRestocking: The Siding or CommonCharacteristicsSubset must have at most one hasSandRestocking defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasSandRestocking ;

    sh:severity sh:Violation .

era-sh:HasSandRestockingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasSandRestocking ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the installation for sand restocking exists; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasSandRestocking: This error is due to the Siding or CommonCharacteristicsSubset violating the rule: must have defined hasSandRestocking when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:hasSandRestocking ?value } .
        # Check if the Siding or CommonCharacteristicsSubset requires defined hasSandRestocking when applicable
        FILTER EXISTS { $this era:installationForSandRestocking "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasSandingPrevention a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasSandingPrevention ;
    era:scope "local" ;

    rdfs:comment "Possibility of preventing the use of sanding."@en ;
    # Source: ontology comment for hasSandingPrevention

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasSandingPrevention: The VehicleType must have at most one hasSandingPrevention defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasSandingPrevention ;

    sh:severity sh:Violation .

era-sh:HasSandingPreventionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasSandingPrevention ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type requires sanding prevention; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasSandingPrevention: This error is due to the VehicleType violating the rule: must have defined hasSandingPrevention when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasSandingPrevention ?value } .
        # Check if the VehicleType requires defined hasSandingPrevention when applicable
        FILTER EXISTS { $this era:requiresSandingPrevention "Y" } .
    }
    """ ;

    sh:severity sh:Violation .


era-sh:HasSchematicOverviewOPDigitalFormApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:hasSchematicOverviewOPDigitalForm ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the operational point has a schematic overview available in digital form; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasSchematicOverviewOPDigitalForm: This error is due to the OperationalPoint violating the rule: must have defined hasSchematicOverviewOPDigitalForm when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:hasSchematicOverviewOPDigitalForm ?value } .
        # Check if the OperationalPoint requires defined hasSchematicOverviewOPDigitalForm when applicable
        FILTER EXISTS { $this era:requiresSchematicOverview "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasSevereWeatherConditions a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasSevereWeatherConditions ;
    era:scope "local" ;

    rdfs:comment "Climatic conditions on the line are severe according to European standard."@en ;
    # Source: ontology comment for hasSevereWeatherConditions

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasSevereWeatherConditions: The CommonCharacteristicsSubset or RunningTrack must have at most one hasSevereWeatherConditions defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasSevereWeatherConditions ;

    sh:severity sh:Violation .

era-sh:HasSevereWeatherConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasSevereWeatherConditions ;
    era:scope "local" ;

    rdfs:comment "Mandatory when severe climatic conditions are expected; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasSevereWeatherConditions: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasSevereWeatherConditions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?label WHERE {
        $this rdfs:label ?label .
        FILTER NOT EXISTS { $this era:hasSevereWeatherConditions ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasSevereWeatherConditions when applicable
        FILTER EXISTS { $this era:expectedSevereConditions "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasShuntingRestrictions a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasShuntingRestrictions ;
    era:scope "local" ;

    rdfs:comment "Indicates the presence of shunting restrictions."@en ;
    # Source: ontology comment for hasShuntingRestrictions

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasShuntingRestrictions: The VehicleType must have at most one hasShuntingRestrictions defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasShuntingRestrictions ;

    sh:severity sh:Violation .

era-sh:HasShuntingRestrictionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasShuntingRestrictions ;
    era:scope "local" ;

    rdfs:comment "Mandatory when shunting restrictions are applicable; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasShuntingRestrictions: This error is due to the VehicleType violating the rule: must have defined hasShuntingRestrictions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasShuntingRestrictions ?value } .
        # Check if the VehicleType requires defined hasShuntingRestrictions when applicable
        FILTER EXISTS { $this era:requiresShuntingRestrictions "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasSystemSeparation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasSystemSeparation ;
    era:rinfIndex "1.1.1.2.4.2.1" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of system separation."@en ;
    # Source: ontology comment for hasSystemSeparation

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasSystemSeparation: The CommonCharacteristicsSubset or RunningTrack must have at most one hasSystemSeparation defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasSystemSeparation ;

    sh:severity sh:Violation .

era-sh:HasSystemSeparationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasSystemSeparation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the value 'Overhead contact line (OCL)' is selected for parameter 1.1.1.2.2.1; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasSystemSeparation: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasSystemSeparation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasSystemSeparation ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasSystemSeparation when applicable
        FILTER EXISTS { $this era:typeOfContactLineSystem "Overhead contact line (OCL)" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasTSITrainDetection a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasTSITrainDetection ;
    era:rinfIndex "1.1.1.3.4.1" ;
    era:scope "local" ;

    rdfs:comment "Indication if there is any train detection system installed and fully compliant with the TSI CCS."@en ;
    # Source: ontology comment for hasTSITrainDetection

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "hasTSITrainDetection: The CommonCharacteristicsSubset or RunningTrack must have at most one hasTSITrainDetection defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasTSITrainDetection ;

    sh:severity sh:Violation .

era-sh:HasTSITrainDetectionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:hasTSITrainDetection ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the selected option for parameter 1.1.1.3.4 is ‘Y’; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasTSITrainDetection: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined hasTSITrainDetection when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:hasTSITrainDetection ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined hasTSITrainDetection when applicable
        FILTER EXISTS { $this era:trainDetectionSystemRequired "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasToiletDischarge a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:Siding ;
    era:affectedProperty era:hasToiletDischarge ;
    era:rinfIndex "1.2.2.0.4.1" ;
    era:scope "local" ;

    rdfs:comment "Indication whether exists an installation for toilet discharge (fixed installation for servicing trains) as defined in INF TSIs."@en ;
    # Source: ontology comment for hasToiletDischarge

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or Siding

    sh:message "hasToiletDischarge: The CommonCharacteristicsSubset or Siding must have at most one hasToiletDischarge defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasToiletDischarge ;

    sh:severity sh:Violation .

era-sh:HasToiletDischargeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:Siding ;
    era:affectedProperty era:hasToiletDischarge ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the installation for toilet discharge exists; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasToiletDischarge: This error is due to the CommonCharacteristicsSubset or Siding violating the rule: must have defined hasToiletDischarge when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:hasToiletDischarge ?value } .
        # Check if the CommonCharacteristicsSubset or Siding requires defined hasToiletDischarge when applicable
        FILTER EXISTS { $this era:installationForToiletDischarge "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasTrainIntegrityConfirmation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasTrainIntegrityConfirmation ;
    era:rinfIndex "4.13.1.9" ;
    era:scope "local" ;

    rdfs:comment "Indication of on-board management system about completeness of the train information."@en ;
    # Source: ontology comment for hasTrainIntegrityConfirmation

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasTrainIntegrityConfirmation: The VehicleType must have at most one hasTrainIntegrityConfirmation defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasTrainIntegrityConfirmation ;

    sh:severity sh:Violation .

era-sh:HasTrainIntegrityConfirmationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasTrainIntegrityConfirmation ;
    era:scope "local" ;

    rdfs:comment "Mandatory when train integrity confirmation is required for line access; a value must be provided."@en ;
    # Source: RAG states applicability depends on the selected value for another parameter

    sh:message "hasTrainIntegrityConfirmation: This error is due to the VehicleType violating the rule: must have defined hasTrainIntegrityConfirmation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasTrainIntegrityConfirmation ?value } .
        # Check if the VehicleType requires defined hasTrainIntegrityConfirmation when applicable
        FILTER EXISTS { $this era:trainIntegrityMonitoringRequired "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasWalkway a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasWalkway ;
    era:rinfIndex "1.1.1.1.8.12" ;
    era:scope "local" ;

    rdfs:comment "Indication of existence of walkways in tunnels. Mandatory for TSI-compliant tunnels longer than 0.5 km."@en ;
    # Source: ontology comment for hasWalkway

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Tunnel

    sh:message "hasWalkway: The Tunnel must have at most one hasWalkway defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasWalkway ;

    sh:severity sh:Violation .

era-sh:HasWalkwayApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:hasWalkway ;
    era:scope "local" ;

    rdfs:comment "Mandatory for TSI-compliant tunnels longer than 0.5 km; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hasWalkway: This error is due to the Tunnel violating the rule: must have defined hasWalkway when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:hasWalkway ?value } .
        # Check if the Tunnel requires defined hasWalkway when applicable
        FILTER EXISTS { $this era:length ?length . FILTER(xsd:decimal(?length) > 0.5) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasWaterRestocking a sh:PropertyShape ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasWaterRestocking ;
    era:rinfIndex "1.2.2.0.4.3" ;
    era:scope "local" ;

    rdfs:comment "Indication whether exists an installation for water restocking (fixed installation for servicing trains) as defined in INF TSIs."@en ;
    # Source: ontology comment for hasWaterRestocking

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each Siding or CommonCharacteristicsSubset

    sh:message "hasWaterRestocking: The Siding or CommonCharacteristicsSubset must have at most one hasWaterRestocking defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasWaterRestocking ;

    sh:severity sh:Violation .

era-sh:HasWaterRestockingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:hasWaterRestocking ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the installation for water restocking exists; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasWaterRestocking: This error is due to the Siding or CommonCharacteristicsSubset violating the rule: must have defined hasWaterRestocking when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:hasWaterRestocking ?value } .
        # Check if the Siding or CommonCharacteristicsSubset requires defined hasWaterRestocking when applicable
        FILTER EXISTS { $this era:installationForWaterRestocking "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HasWheelSlideProtectionSystem a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasWheelSlideProtectionSystem ;
    era:scope "local" ;

    rdfs:comment "Indicates the presence of a wheel slide protection system."@en ;
    # Source: ontology comment for hasWheelSlideProtectionSystem

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each VehicleType

    sh:message "hasWheelSlideProtectionSystem: The VehicleType must have at most one hasWheelSlideProtectionSystem defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hasWheelSlideProtectionSystem ;

    sh:severity sh:Violation .

era-sh:HasWheelSlideProtectionSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:hasWheelSlideProtectionSystem ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the vehicle type requires a wheel slide protection system; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "hasWheelSlideProtectionSystem: This error is due to the VehicleType violating the rule: must have defined hasWheelSlideProtectionSystem when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:hasWheelSlideProtectionSystem ?value } .
        # Check if the VehicleType requires defined hasWheelSlideProtectionSystem when applicable
        FILTER EXISTS { $this era:requiresWheelSlideProtection "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HighSpeedLoadModelCompliance a sh:PropertyShape ;
    era:affectedClass era:RunningTrack, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:highSpeedLoadModelCompliance ;
    era:rinfIndex "1.1.1.1.2.4.2" ;
    era:scope "local" ;

    rdfs:comment "For sections of line with a maximum permitted speed of 200 km/h or more, information regarding the procedure to be used to perform the dynamic compatibility check."@en ;
    # Source: ontology comment for highSpeedLoadModelCompliance

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each RunningTrack or CommonCharacteristicsSubset

    sh:message "highSpeedLoadModelCompliance: The RunningTrack or CommonCharacteristicsSubset must have at most one highSpeedLoadModelCompliance defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:highSpeedLoadModelCompliance ;

    sh:severity sh:Violation .

era-sh:HighSpeedLoadModelComplianceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack, era:CommonCharacteristicsSubset ;
    era:affectedProperty era:highSpeedLoadModelCompliance ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the maximum permitted speed of the running track is more than 200 km/h and the structures within the section of line are all compatible with the High Speed Load Model (HSLM); a value must be provided."@en ;
    # Source: RAG states applicability depends on the maximum speed of the running track

    sh:message "highSpeedLoadModelCompliance: This error is due to the RunningTrack or CommonCharacteristicsSubset violating the rule: must have defined highSpeedLoadModelCompliance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:highSpeedLoadModelCompliance ?value } .
        # Check if the RunningTrack or CommonCharacteristicsSubset requires defined highSpeedLoadModelCompliance when applicable
        FILTER EXISTS { $this era:maximumPermittedSpeed ?speed . FILTER(xsd:integer(?speed) > 200) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorGeneration a sh:PropertyShape ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorGeneration ;
    era:rinfIndex "1.1.1.1.7.7" ;
    era:scope "local" ;

    rdfs:comment "Specific for the French Italian and Swedish networks. Generation of trackside hot axle box detector."@en ;
    # Source: ontology comment for hotAxleBoxDetectorGeneration

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "hotAxleBoxDetectorGeneration: The HABD must have at most one hotAxleBoxDetectorGeneration defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:hotAxleBoxDetectorGeneration ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorGenerationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorGeneration ;
    era:scope "local" ;

    rdfs:comment "Mandatory if the HABD is not TSI compliant; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hotAxleBoxDetectorGeneration: This error is due to the HABD violating the rule: must have defined hotAxleBoxDetectorGeneration when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?habdLabel WHERE {
        $this rdfs:label ?habdLabel .
        FILTER NOT EXISTS { $this era:hotAxleBoxDetectorGeneration ?value } .
        # Check if the HABD requires defined hotAxleBoxDetectorGeneration when applicable
        FILTER EXISTS { $this era:tsiCompliant "N" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorIdentification a sh:PropertyShape ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorIdentification ;
    era:rinfIndex "1.1.1.1.7.6" ;
    era:scope "local" ;

    rdfs:comment "Specific for the French, Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant, identification of trackside hot axle box detector."@en ;
    # Source: ontology comment for hotAxleBoxDetectorIdentification

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "hotAxleBoxDetectorIdentification: The HABD must have at most one hotAxleBoxDetectorIdentification defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:hotAxleBoxDetectorIdentification ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorIdentificationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorIdentification ;
    era:scope "local" ;

    rdfs:comment "Mandatory if the HABD is not TSI compliant; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hotAxleBoxDetectorIdentification: This error is due to the HABD violating the rule: must have defined hotAxleBoxDetectorIdentification when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?habdLabel WHERE {
        $this rdfs:label ?habdLabel .
        FILTER NOT EXISTS { $this era:hotAxleBoxDetectorIdentification ?value } .
        # Check if the HABD requires defined hotAxleBoxDetectorIdentification when applicable
        FILTER EXISTS { $this era:tsiCompliant "N" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorLocation a sh:PropertyShape ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorLocation ;
    era:rinfIndex "1.1.1.1.7.8" ;
    era:scope "local" ;

    rdfs:comment "Specific for the French, Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant, localisation of trackside hot axle box detector."@en ;
    # Source: ontology comment for hotAxleBoxDetectorLocation

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "hotAxleBoxDetectorLocation: The HABD must have at most one hotAxleBoxDetectorLocation defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:hotAxleBoxDetectorLocation ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorLocation ;
    era:scope "local" ;

    rdfs:comment "Mandatory if the HABD is not TSI compliant; a value must be provided."@en ;
    # Source: dependencyNote in the ontology

    sh:message "hotAxleBoxDetectorLocation: This error is due to the HABD violating the rule: must have defined hotAxleBoxDetectorLocation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?habdLabel WHERE {
        $this rdfs:label ?habdLabel .
        FILTER NOT EXISTS { $this era:hotAxleBoxDetectorLocation ?value } .
        # Check if the HABD requires defined hotAxleBoxDetectorLocation when applicable
        FILTER EXISTS { $this era:tsiCompliant "N" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorTSICompliant a sh:PropertyShape ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorTSICompliant ;
    era:rinfIndex "1.1.1.1.7.5" ;
    era:scope "local" ;

    rdfs:comment "Indicates if the trackside hot axle box detector (HABD) is compliant with TSI standards."@en ;
    # Source: ontology comment for hotAxleBoxDetectorTSICompliant

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "hotAxleBoxDetectorTSICompliant: The HABD must have at most one hotAxleBoxDetectorTSICompliant defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:hotAxleBoxDetectorTSICompliant ;

    sh:severity sh:Violation .

era-sh:HotAxleBoxDetectorTSICompliantApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:HABD ;
    era:affectedProperty era:hotAxleBoxDetectorTSICompliant ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the HABD is required to be compliant with TSI; a value must be provided."@en ;
    # Source: implied from ontology context and usage of the property

    sh:message "hotAxleBoxDetectorTSICompliant: This error is due to the HABD violating the rule: must have defined hotAxleBoxDetectorTSICompliant when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?habdLabel WHERE {
        $this rdfs:label ?habdLabel .
        FILTER NOT EXISTS { $this era:hotAxleBoxDetectorTSICompliant ?value } .
        # Check if the HABD requires defined hotAxleBoxDetectorTSICompliant when applicable
        FILTER EXISTS { $this era:tsiCompliant "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:IMCode a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:imCode ;
    era:rinfIndex "1.2.2.0.5.1" ;
    era:scope "local" ;

    rdfs:comment "Infrastructure Manager means any body or undertaking that is responsible in particular for establishing and maintaining railway infrastructure or a part thereof."@en ;
    # Source: ontology comment for imCode

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "imCode: The OrganisationRole must have at most one imCode defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:imCode ;

    sh:severity sh:Violation .

era-sh:IMCodeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:imCode ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the OrganisationRole is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "imCode: This error is due to the OrganisationRole violating the rule: must have defined imCode when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?roleLabel WHERE {
        $this rdfs:label ?roleLabel .
        FILTER NOT EXISTS { $this era:imCode ?value } .
        # Check if the OrganisationRole requires defined imCode when applicable
        FILTER EXISTS { $this era:roleDefined "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:IsOnOriginOfElementA a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:isOnOriginOfElementA ;
    era:rinfIndex "1.1.1.0.1.2" ;
    era:scope "local" ;

    rdfs:comment "Determines if the position of the topological element A in a relation is the origin of element A."@en ;
    # Source: ontology comment for isOnOriginOfElementA

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each NetRelation

    sh:message "isOnOriginOfElementA: The NetRelation must have at most one isOnOriginOfElementA defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:isOnOriginOfElementA ;

    sh:severity sh:Violation .

era-sh:IsOnOriginOfElementAApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:isOnOriginOfElementA ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the relation specifies the origin of element A; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "isOnOriginOfElementA: This error is due to the NetRelation violating the rule: must have defined isOnOriginOfElementA when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?relationLabel WHERE {
        $this rdfs:label ?relationLabel .
        FILTER NOT EXISTS { $this era:isOnOriginOfElementA ?value } .
        # Check if the NetRelation requires defined isOnOriginOfElementA when applicable
        FILTER EXISTS { $this era:definesOrigin "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:IsOnOriginOfElementB a sh:PropertyShape ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:isOnOriginOfElementB ;
    era:rinfIndex "1.1.1.0.1.2" ;
    era:scope "local" ;

    rdfs:comment "Determines if the position of the topological element B in a relation is the origin of element B."@en ;
    # Source: ontology comment for isOnOriginOfElementB

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each NetRelation

    sh:message "isOnOriginOfElementB: The NetRelation must have at most one isOnOriginOfElementB defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:isOnOriginOfElementB ;

    sh:severity sh:Violation .

era-sh:IsOnOriginOfElementBApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:NetRelation ;
    era:affectedProperty era:isOnOriginOfElementB ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the relation specifies the origin of element B; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "isOnOriginOfElementB: This error is due to the NetRelation violating the rule: must have defined isOnOriginOfElementB when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?relationLabel WHERE {
        $this rdfs:label ?relationLabel .
        FILTER NOT EXISTS { $this era:isOnOriginOfElementB ?value } .
        # Check if the NetRelation requires defined isOnOriginOfElementB when applicable
        FILTER EXISTS { $this era:definesOriginB "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:IsQuietRoute a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:isQuietRoute ;
    era:rinfIndex "1.1.1.1.7.11" ;
    era:scope "local" ;

    rdfs:comment "Belonging to a 'quieter route' in accordance with Article 5b of Regulation (EU) 1304/2014."@en ;
    # Source: ontology comment for isQuietRoute

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each CommonCharacteristicsSubset or RunningTrack

    sh:message "isQuietRoute: The CommonCharacteristicsSubset or RunningTrack must have at most one isQuietRoute defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:isQuietRoute ;

    sh:severity sh:Violation .

era-sh:IsQuietRouteApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset, era:RunningTrack ;
    era:affectedProperty era:isQuietRoute ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the route is designated as a quieter route; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "isQuietRoute: This error is due to the CommonCharacteristicsSubset or RunningTrack violating the rule: must have defined isQuietRoute when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?routeLabel WHERE {
        $this rdfs:label ?routeLabel .
        FILTER NOT EXISTS { $this era:isQuietRoute ?value } .
        # Check if the CommonCharacteristicsSubset or RunningTrack requires defined isQuietRoute when applicable
        FILTER EXISTS { $this era:designatedAsQuietRoute "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Kilometer a sh:PropertyShape ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:kilometer ;
    era:scope "local" ;

    rdfs:comment "Kilometer number of the kilometric post related to line identification defining the location of an infrastructure element."@en ;
    # Source: ontology comment for kilometer

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each KilometricPost

    sh:message "kilometer: The KilometricPost must have at most one kilometer defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:kilometer ;

    sh:severity sh:Violation .

era-sh:KilometerApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:kilometer ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the KilometricPost is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "kilometer: This error is due to the KilometricPost violating the rule: must have defined kilometer when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?postLabel WHERE {
        $this rdfs:label ?postLabel .
        FILTER NOT EXISTS { $this era:kilometer ?value } .
        # Check if the KilometricPost requires defined kilometer when applicable
        FILTER EXISTS { $this era:lineIdentification ?lineId } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:KmPostName a sh:PropertyShape ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:kmPostName ;
    era:scope "local" ;

    rdfs:comment "Name of the kilometric post (optional)."@en ;
    # Source: ontology comment for kmPostName

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "kmPostName: The KilometricPost must have at most one kmPostName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:kmPostName ;

    sh:severity sh:Violation .

era-sh:KmPostNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:kmPostName ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the KilometricPost is defined; a value must be provided if applicable."@en ;
    # Source: inferred from context and usage of the property

    sh:message "kmPostName: This error is due to the KilometricPost violating the rule: must have defined kmPostName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?postLabel WHERE {
        $this rdfs:label ?postLabel .
        FILTER NOT EXISTS { $this era:kmPostName ?value } .
        # Check if the KilometricPost requires defined kmPostName when applicable
        FILTER EXISTS { $this era:kilometer ?kmValue } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LengthOfNetLinearElement a sh:PropertyShape ;
    era:affectedClass era:LinearElement ;
    era:affectedProperty era:lengthOfNetLinearElement ;
    era:scope "local" ;

    rdfs:comment "Length of a topological linear element."@en ;
    # Source: ontology comment for lengthOfNetLinearElement

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lengthOfNetLinearElement: The LinearElement must have at most one lengthOfNetLinearElement defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:lengthOfNetLinearElement ;

    sh:severity sh:Violation .

era-sh:LengthOfNetLinearElementApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearElement ;
    era:affectedProperty era:lengthOfNetLinearElement ;
    era:scope "local" ;

    rdfs:comment "Mandatory for all LinearElements where length is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "lengthOfNetLinearElement: This error is due to the LinearElement violating the rule: must have defined lengthOfNetLinearElement when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:lengthOfNetLinearElement ?value } .
        # Check if the LinearElement requires defined lengthOfNetLinearElement when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LengthOfPlatform a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:lengthOfPlatform ;
    era:rinfIndex "1.2.1.0.6.4" ;
    era:scope "local" ;

    rdfs:comment "The maximum continuous length (expressed in metres) of that part of platform in front of which a train is intended to remain stationary in normal operating conditions for passengers to board and alight from the train."@en ;
    # Source: ontology comment for lengthOfPlatform

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lengthOfPlatform: The PlatformEdge must have at most one lengthOfPlatform defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:lengthOfPlatform ;

    sh:severity sh:Violation .

era-sh:LengthOfPlatformApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:lengthOfPlatform ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the platform is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "lengthOfPlatform: This error is due to the PlatformEdge violating the rule: must have defined lengthOfPlatform when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?platformLabel WHERE {
        $this rdfs:label ?platformLabel .
        FILTER NOT EXISTS { $this era:lengthOfPlatform ?value } .
        # Check if the PlatformEdge requires defined lengthOfPlatform when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LengthOfSectionOfLine a sh:PropertyShape ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:lengthOfSectionOfLine ;
    era:rinfIndex "1.1.0.0.0.5" ;
    era:scope "local" ;

    rdfs:comment "Length between operational points at start and end of section of line."@en ;
    # Source: ontology comment for lengthOfSectionOfLine

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lengthOfSectionOfLine: The SectionOfLine must have at most one lengthOfSectionOfLine defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:lengthOfSectionOfLine ;

    sh:severity sh:Violation .

era-sh:LengthOfSectionOfLineApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SectionOfLine ;
    era:affectedProperty era:lengthOfSectionOfLine ;
    era:scope "local" ;

    rdfs:comment "Mandatory for all SectionOfLine where length is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "lengthOfSectionOfLine: This error is due to the SectionOfLine violating the rule: must have defined lengthOfSectionOfLine when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:lengthOfSectionOfLine ?value } .
        # Check if the SectionOfLine requires defined lengthOfSectionOfLine when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LengthOfSiding a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:lengthOfSiding ;
    era:rinfIndex "1.2.2.0.2.1" ;
    era:scope "local" ;

    rdfs:comment "Total length of the siding/stabling track expressed in metres where trains can be parked safely."@en ;
    # Source: ontology comment for lengthOfSiding

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lengthOfSiding: The Siding must have at most one lengthOfSiding defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:lengthOfSiding ;

    sh:severity sh:Violation .

era-sh:LengthOfSidingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:lengthOfSiding ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the Siding is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "lengthOfSiding: This error is due to the Siding violating the rule: must have defined lengthOfSiding when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sidingLabel WHERE {
        $this rdfs:label ?sidingLabel .
        FILTER NOT EXISTS { $this era:lengthOfSiding ?value } .
        # Check if the Siding requires defined lengthOfSiding when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LengthOfTunnel a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lengthOfTunnel ;
    era:rinfIndex "1.1.1.1.8.7" ;
    era:scope "local" ;

    rdfs:comment "Length of a tunnel in metres from entrance portal to exit portal."@en ;
    # Source: ontology comment for lengthOfTunnel

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lengthOfTunnel: The Tunnel must have at most one lengthOfTunnel defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:lengthOfTunnel ;

    sh:severity sh:Violation .

era-sh:LengthOfTunnelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:lengthOfTunnel ;
    era:scope "local" ;

    rdfs:comment "Mandatory for tunnels with length of 100 metres or more; a value must be provided."@en ;
    # Source: RAG states applicable only for tunnels of specific length

    sh:message "lengthOfTunnel: This error is due to the Tunnel violating the rule: must have defined lengthOfTunnel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:lengthOfTunnel ?value } .
        # Check if the Tunnel requires defined lengthOfTunnel when applicable
        FILTER EXISTS { $this era:lengthOfTunnel ?length . FILTER (xsd:double(?length) < 100) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LengthOfVehicle a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:lengthOfVehicle ;
    era:rinfIndex "4.8.1" ;
    era:scope "local" ;

    rdfs:comment "Length of the vehicle expressed in metres."@en ;
    # Source: ontology comment for lengthOfVehicle

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lengthOfVehicle: The Vehicle must have at most one lengthOfVehicle defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:lengthOfVehicle ;

    sh:severity sh:Violation .

era-sh:LengthOfVehicleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:lengthOfVehicle ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the Vehicle is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "lengthOfVehicle: This error is due to the Vehicle violating the rule: must have defined lengthOfVehicle when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:lengthOfVehicle ?value } .
        # Check if the Vehicle requires defined lengthOfVehicle when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LetterMarking a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:letterMarking ;
    era:scope "local" ;

    rdfs:comment "Letter marking associated with the vehicle type."@en ;
    # Source: ontology comment for letterMarking

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "letterMarking: The VehicleType must have at most one letterMarking defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:letterMarking ;

    sh:severity sh:Violation .

era-sh:LetterMarkingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:letterMarking ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "letterMarking: This error is due to the VehicleType violating the rule: must have defined letterMarking when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:letterMarking ?value } .
        # Check if the VehicleType requires defined letterMarking when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LineId a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lineId ;
    era:rinfIndex "1.1.0.0.0.2" ;
    era:scope "local" ;

    rdfs:comment "Unique line identification or unique line number within Member State."@en ;
    # Source: ontology comment for lineId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "lineId: The LinearPositioningSystem must have at most one lineId defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:lineId ;

    sh:severity sh:Violation .

era-sh:LineIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearPositioningSystem ;
    era:affectedProperty era:lineId ;
    era:scope "local" ;

    rdfs:comment "Mandatory for all LinearPositioningSystem; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "lineId: This error is due to the LinearPositioningSystem violating the rule: must have defined lineId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?lineLabel WHERE {
        $this rdfs:label ?lineLabel .
        FILTER NOT EXISTS { $this era:lineId ?value } .
        # Check if the LinearPositioningSystem requires defined lineId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationFrequency a sh:PropertyShape ;
    era:affectedClass era:LinesideDistanceIndication ;
    era:affectedProperty era:linesideDistanceIndicationFrequency ;
    era:scope "local" ;

    rdfs:comment "Frequency of track lineside distance indications."@en ;
    # Source: ontology comment for linesideDistanceIndicationFrequency

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Inferred: expected at most one value for each LinesideDistanceIndication

    sh:message "linesideDistanceIndicationFrequency: The LinesideDistanceIndication must have at most one linesideDistanceIndicationFrequency defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:linesideDistanceIndicationFrequency ;

    sh:severity sh:Violation .

era-sh:LinesideDistanceIndicationFrequencyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinesideDistanceIndication ;
    era:affectedProperty era:linesideDistanceIndicationFrequency ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the LinesideDistanceIndication is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "linesideDistanceIndicationFrequency: This error is due to the LinesideDistanceIndication violating the rule: must have defined linesideDistanceIndicationFrequency when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?indicationLabel WHERE {
        $this rdfs:label ?indicationLabel .
        FILTER NOT EXISTS { $this era:linesideDistanceIndicationFrequency ?value } .
        # Check if the LinesideDistanceIndication requires defined linesideDistanceIndicationFrequency when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LoadCapabilitySpeed a sh:PropertyShape ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilitySpeed ;
    era:scope "local" ;

    rdfs:comment "Part of the load capability of a track that corresponds to the speed of the load model."@en ;
    # Source: ontology comment for loadCapabilitySpeed

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "loadCapabilitySpeed: The LoadCapability must have at most one loadCapabilitySpeed defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:loadCapabilitySpeed ;

    sh:severity sh:Violation .

era-sh:LoadCapabilitySpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LoadCapability ;
    era:affectedProperty era:loadCapabilitySpeed ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the LoadCapability is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "loadCapabilitySpeed: This error is due to the LoadCapability violating the rule: must have defined loadCapabilitySpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?capabilityLabel WHERE {
        $this rdfs:label ?capabilityLabel .
        FILTER NOT EXISTS { $this era:loadCapabilitySpeed ?value } .
        # Check if the LoadCapability requires defined loadCapabilitySpeed when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LoadingPlatformHeight a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:loadingPlatformHeight ;
    era:rinfIndex "4.8.7" ;
    era:scope "local" ;

    rdfs:comment "Height of loading platform (for flat wagons and combined transport), given in mm."@en ;
    # Source: ontology comment for loadingPlatformHeight

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "loadingPlatformHeight: The VehicleType must have at most one loadingPlatformHeight defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:loadingPlatformHeight ;

    sh:severity sh:Violation .

era-sh:LoadingPlatformHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:loadingPlatformHeight ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "loadingPlatformHeight: This error is due to the VehicleType violating the rule: must have defined loadingPlatformHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:loadingPlatformHeight ?value } .
        # Check if the VehicleType requires defined loadingPlatformHeight when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:LocalRulesOrRestrictions a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:localRulesOrRestrictions ; 
    era:rinfIndex "1.1.1.4.1" ; 
    era:scope "local" ;

    rdfs:comment "Existence of rules and restrictions of a strictly local nature."@en ;
    # Source: ontology comment for localRulesOrRestrictions

    sh:datatype xsd:boolean ; 
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "localRulesOrRestrictions: The CommonCharacteristicsSubset must have at most one localRulesOrRestrictions defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a boolean literal

    sh:path era:localRulesOrRestrictions ; 

    sh:severity sh:Violation .

era-sh:LocalRulesOrRestrictionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:localRulesOrRestrictions ; 
    era:scope "local" ;

    rdfs:comment "Mandatory when the CommonCharacteristicsSubset is defined; a value must be provided."@en ; 
    # Source: inferred from context and usage of the property

    sh:message "localRulesOrRestrictions: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined localRulesOrRestrictions when applicable."@en ;

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:localRulesOrRestrictions ?value } .
        # Check if the CommonCharacteristicsSubset requires defined localRulesOrRestrictions when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MNvderun a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:mNvderun ; 
    era:rinfIndex "1.1.1.3.2.16.10" ; 
    era:scope "local" ;

    rdfs:comment "Entry of Driver ID permitted while running according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for mNvderun

    sh:datatype xsd:boolean ; 
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "mNvderun: The CommonCharacteristicsSubset must have at most one mNvderun defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a boolean literal

    sh:path era:mNvderun ; 

    sh:severity sh:Violation .

era-sh:MNvderunApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:mNvderun ; 
    era:scope "local" ;

    rdfs:comment "A value has to be provided when ETCS is present; applicable only when the relevant conditions are met."@en ; 
    # Source: inferred from dependency note in ontology

    sh:message "mNvderun: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined mNvderun when applicable."@en ;

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:mNvderun ?value } .
        # Check if the CommonCharacteristicsSubset requires defined mNvderun when applicable
        FILTER EXISTS { $this era:etcsPresent ?etcsValue . FILTER(?etcsValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MagneticBrakePrevention a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:magneticBrakePrevention ;
    era:rinfIndex "4.7.4.2.2" ;
    era:scope "local" ;

    rdfs:comment "Possibility of preventing the use of the magnetic track brake (only if fitted with magnetic brake)."@en ;
    # Source: ontology comment for magneticBrakePrevention

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "magneticBrakePrevention: The VehicleType must have at most one magneticBrakePrevention defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:magneticBrakePrevention ;

    sh:severity sh:Violation .

era-sh:MagneticBrakePreventionApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:magneticBrakePrevention ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "magneticBrakePrevention: This error is due to the VehicleType violating the rule: must have defined magneticBrakePrevention when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:magneticBrakePrevention ?value } .
        # Check if the VehicleType requires defined magneticBrakePrevention when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MagneticBrakingFitted a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:magneticBrakingFitted ;
    era:rinfIndex "4.7.4.2.1" ;
    era:scope "local" ;

    rdfs:comment "Magnetic track brake fitted. New property defined to distinguish it from magneticBraking which is a RINF SKOS property."@en ;
    # Source: ontology comment for magneticBrakingFitted

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "magneticBrakingFitted: The VehicleType must have at most one magneticBrakingFitted defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:magneticBrakingFitted ;

    sh:severity sh:Violation .

era-sh:MagneticBrakingFittedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:magneticBrakingFitted ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "magneticBrakingFitted: This error is due to the VehicleType violating the rule: must have defined magneticBrakingFitted when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:magneticBrakingFitted ?value } .
        # Check if the VehicleType requires defined magneticBrakingFitted when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MassPerWheel a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:massPerWheel ;
    era:rinfIndex "4.5.6" ;
    era:scope "local" ;

    rdfs:comment "Mass per wheel, given in kg."@en ;
    # Source: ontology comment for massPerWheel

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "massPerWheel: The VehicleType must have at most one massPerWheel defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:massPerWheel ;

    sh:severity sh:Violation .

era-sh:MassPerWheelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:massPerWheel ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "massPerWheel: This error is due to the VehicleType violating the rule: must have defined massPerWheel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:massPerWheel ?value } .
        # Check if the VehicleType requires defined massPerWheel when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxCurrentStandstillPantograph a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxCurrentStandstillPantograph ;
    era:rinfIndex "1.1.1.2.2.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of the maximum allowable train current at standstill expressed in amperes."@en ;
    # Source: ontology comment for maxCurrentStandstillPantograph

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxCurrentStandstillPantograph: The ContactLineSystem must have at most one maxCurrentStandstillPantograph defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maxCurrentStandstillPantograph ;

    sh:severity sh:Violation .

era-sh:MaxCurrentStandstillPantographApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxCurrentStandstillPantograph ;
    era:scope "local" ;

    rdfs:comment "This parameter is applicable only if the type of contact line system is 'Overhead contact line (OCL)'. It may not be applicable in sidings under certain conditions."@en ;
    # Source: dependency note in ontology

    sh:message "maxCurrentStandstillPantograph: This error is due to the ContactLineSystem violating the rule: must have defined maxCurrentStandstillPantograph when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maxCurrentStandstillPantograph ?value } .
        # Check if the ContactLineSystem requires defined maxCurrentStandstillPantograph when applicable
        FILTER EXISTS { $this era:contactLineSystemType ?type . FILTER(?type = "Overhead contact line (OCL)") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxDistConsecutiveAxles a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxDistConsecutiveAxles ;
    era:rinfIndex "1.1.1.3.7.2.2" ;
    era:scope "local" ;

    rdfs:comment "Indication of maximum permitted distance between two consecutive axles in case of TSI non-compliance, given in millimetres."@en ;
    # Source: RAG definition for CTD_MaxDistConsecutiveAxles

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxDistConsecutiveAxles: The VehicleType must have at most one maxDistConsecutiveAxles defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maxDistConsecutiveAxles ;

    sh:severity sh:Violation .

era-sh:MaxDistConsecutiveAxlesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxDistConsecutiveAxles ;
    era:scope "local" ;

    rdfs:comment "Applicable when the selected option for TSI compliance indicates 'Not TSI compliant'."@en ;
    # Source: RAG applicability note

    sh:message "maxDistConsecutiveAxles: This error is due to the VehicleType violating the rule: must have defined maxDistConsecutiveAxles when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maxDistConsecutiveAxles ?value } .
        # Check if the VehicleType requires defined maxDistConsecutiveAxles when applicable
        FILTER EXISTS { $this era:tsiCompliance ?tsiValue . FILTER(?tsiValue = "Not TSI compliant") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxDistEndTrainFirstAxle a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maxDistEndTrainFirstAxle ;
    era:rinfIndex "1.1.1.3.7.5" ;
    era:scope "local" ;

    rdfs:comment "Indication of maximum distance between end of train and first axle, given in millimetres, applicable for both sides (front and rear) of a vehicle or train."@en ;
    # Source: ontology comment for maxDistEndTrainFirstAxle

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxDistEndTrainFirstAxle: The TrainDetectionSystem must have at most one maxDistEndTrainFirstAxle defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maxDistEndTrainFirstAxle ;

    sh:severity sh:Violation .

era-sh:MaxDistEndTrainFirstAxleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maxDistEndTrainFirstAxle ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is ‘track circuits’ or ‘wheel detector’."@en ;
    # Source: RAG applicability note

    sh:message "maxDistEndTrainFirstAxle: This error is due to the TrainDetectionSystem violating the rule: must have defined maxDistEndTrainFirstAxle when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maxDistEndTrainFirstAxle ?value } .
        # Check if the TrainDetectionSystem requires defined maxDistEndTrainFirstAxle when applicable
        FILTER EXISTS { $this era:trainDetectionType ?type . FILTER(?type IN ("track circuits", "wheel detector")) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxFlangeHeight a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxFlangeHeight ;
    era:rinfIndex "4.14.2.9" ;
    era:scope "local" ;

    rdfs:comment "Maximum permitted height of the flange, given in millimetres."@en ;
    # Source: ontology comment for maxFlangeHeight

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxFlangeHeight: The VehicleType must have at most one maxFlangeHeight defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maxFlangeHeight ;

    sh:severity sh:Violation .

era-sh:MaxFlangeHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxFlangeHeight ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the selected option for parameter 1.1.1.3.7.1.1 is 'wheel detector'."@en ;
    # Source: RAG applicability note

    sh:message "maxFlangeHeight: This error is due to the VehicleType violating the rule: must have defined maxFlangeHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maxFlangeHeight ?value } .
        # Check if the VehicleType requires defined maxFlangeHeight when applicable
        FILTER EXISTS { $this era:trainDetectionType ?type . FILTER(?type = "wheel detector") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxImpedanceWheelset a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxImpedanceWheelset ;
    era:rinfIndex "4.14.2.16" ;
    era:scope "local" ;

    rdfs:comment "The value of maximum permitted impedance given in ohm in case of TSI non-compliance."@en ;
    # Source: ontology comment for maxImpedanceWheelset

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxImpedanceWheelset: The VehicleType must have at most one maxImpedanceWheelset defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maxImpedanceWheelset ;

    sh:severity sh:Violation .

era-sh:MaxImpedanceWheelsetApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxImpedanceWheelset ;
    era:scope "local" ;

    rdfs:comment "Applicable only when the selected option for parameter 1.1.1.3.7.15.1 indicates 'Not TSI compliant'."@en ;
    # Source: RAG applicability note

    sh:message "maxImpedanceWheelset: This error is due to the VehicleType violating the rule: must have defined maxImpedanceWheelset when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maxImpedanceWheelset ?value } .
        # Check if the VehicleType requires defined maxImpedanceWheelset when applicable
        FILTER EXISTS { $this era:tsiCompliance ?tsiValue . FILTER(?tsiValue = "Not TSI compliant") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxLengthVehicleNose a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxLengthVehicleNose ;
    era:rinfIndex "4.14.2.4" ;
    era:scope "local" ;

    rdfs:comment "Maximum length of the vehicle nose."@en ;
    # Source: ontology comment for maxLengthVehicleNose

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxLengthVehicleNose: The VehicleType must have at most one maxLengthVehicleNose defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maxLengthVehicleNose ;

    sh:severity sh:Violation .

era-sh:MaxLengthVehicleNoseApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maxLengthVehicleNose ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maxLengthVehicleNose: This error is due to the VehicleType violating the rule: must have defined maxLengthVehicleNose when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maxLengthVehicleNose ?value } .
        # Check if the VehicleType requires defined maxLengthVehicleNose when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaxTrainCurrent a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxTrainCurrent ;
    era:rinfIndex "1.1.1.2.2.2" ;
    era:scope "local" ;

    rdfs:comment "Indication of the maximum allowable train current expressed in amperes."@en ;
    # Source: ontology comment for maxTrainCurrent

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maxTrainCurrent: The ContactLineSystem must have at most one maxTrainCurrent defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maxTrainCurrent ;

    sh:severity sh:Violation .

era-sh:MaxTrainCurrentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maxTrainCurrent ;
    era:scope "local" ;

    rdfs:comment "This parameter is not applicable when 'not electrified' is chosen in parameter 1.1.1.2.2.1.1."@en ;
    # Source: dependency note in ontology

    sh:message "maxTrainCurrent: This error is due to the ContactLineSystem violating the rule: must have defined maxTrainCurrent when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maxTrainCurrent ?value } .
        # Check if the ContactLineSystem requires defined maxTrainCurrent when applicable
        FILTER EXISTS { $this era:electrified ?electrifiedValue . FILTER(?electrifiedValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumAltitude a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:maximumAltitude ; 
    era:rinfIndex "1.1.1.1.2.7" ; 
    era:scope "local" ;

    rdfs:comment "Highest point of the section of line above sea level in reference to Normal Amsterdam's Peil (NAP)."@en ;
    # Source: ontology comment for maximumAltitude

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumAltitude: The CommonCharacteristicsSubset must have at most one maximumAltitude defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maximumAltitude ;

    sh:severity sh:Violation .

era-sh:MaximumAltitudeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:maximumAltitude ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the maximum altitude is defined, and a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumAltitude: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined maximumAltitude when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:maximumAltitude ?value } .
        # Check if the CommonCharacteristicsSubset requires defined maximumAltitude when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumAverageDeceleration a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumAverageDeceleration ;
    era:rinfIndex "4.7.1" ;
    era:scope "local" ;

    rdfs:comment "Maximum train deceleration given in m/s²."@en ;
    # Source: ontology comment for maximumAverageDeceleration

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumAverageDeceleration: The VehicleType must have at most one maximumAverageDeceleration defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maximumAverageDeceleration ;

    sh:severity sh:Violation .

era-sh:MaximumAverageDecelerationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumAverageDeceleration ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumAverageDeceleration: This error is due to the VehicleType violating the rule: must have defined maximumAverageDeceleration when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumAverageDeceleration ?value } .
        # Check if the VehicleType requires defined maximumAverageDeceleration when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumBrakeThermalEnergyCapacity a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumBrakeThermalEnergyCapacity ;
    era:rinfIndex "4.7.2.1.6" ;
    era:scope "local" ;

    rdfs:comment "Maximum brake thermal energy capacity given in kJ."@en ;
    # Source: ontology comment for maximumBrakeThermalEnergyCapacity

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumBrakeThermalEnergyCapacity: The VehicleType must have at most one maximumBrakeThermalEnergyCapacity defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumBrakeThermalEnergyCapacity ;

    sh:severity sh:Violation .

era-sh:MaximumBrakeThermalEnergyCapacityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumBrakeThermalEnergyCapacity ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumBrakeThermalEnergyCapacity: This error is due to the VehicleType violating the rule: must have defined maximumBrakeThermalEnergyCapacity when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumBrakeThermalEnergyCapacity ?value } .
        # Check if the VehicleType requires defined maximumBrakeThermalEnergyCapacity when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumBrakingDistance a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumBrakingDistance ;
    era:rinfIndex "1.1.1.3.11.1" ;
    era:scope "local" ;

    rdfs:comment "The maximum value of the braking distance [in metres] of a train shall be given for the maximum line speed."@en ;
    # Source: ontology comment for maximumBrakingDistance

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumBrakingDistance: The RunningTrack must have at most one maximumBrakingDistance defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumBrakingDistance ;

    sh:severity sh:Violation .

era-sh:MaximumBrakingDistanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumBrakingDistance ;
    era:scope "local" ;

    rdfs:comment "Applicable when the maximum line speed is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumBrakingDistance: This error is due to the RunningTrack violating the rule: must have defined maximumBrakingDistance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:maximumBrakingDistance ?value } .
        # Check if the RunningTrack requires defined maximumBrakingDistance when applicable
        FILTER EXISTS { $this era:maximumLineSpeed ?speedValue . FILTER(?speedValue > 0) } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumContactWireHeight a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maximumContactWireHeight ;
    era:rinfIndex "1.1.1.2.2.5" ;
    era:scope "local" ;

    rdfs:comment "Indication of the maximum contact wire height expressed in metres."@en ;
    # Source: ontology comment for maximumContactWireHeight

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumContactWireHeight: The ContactLineSystem must have at most one maximumContactWireHeight defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maximumContactWireHeight ;

    sh:severity sh:Violation .

era-sh:MaximumContactWireHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:maximumContactWireHeight ;
    era:scope "local" ;

    rdfs:comment "Applicable only when 'Overhead contact line (OCL)' is selected in 1.1.1.2.2.1.1."@en ;
    # Source: RAG applicability note

    sh:message "maximumContactWireHeight: This error is due to the ContactLineSystem violating the rule: must have defined maximumContactWireHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maximumContactWireHeight ?value } .
        # Check if the ContactLineSystem requires defined maximumContactWireHeight when applicable
        FILTER EXISTS { $this era:overheadContactLine ?oclValue . FILTER(?oclValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumDesignSpeed a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumDesignSpeed ;
    era:rinfIndex "4.1.2.1" ;
    era:scope "local" ;

    rdfs:comment "Maximum design speed."@en ;
    # Source: ontology comment for maximumDesignSpeed

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumDesignSpeed: The VehicleType must have at most one maximumDesignSpeed defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumDesignSpeed ;

    sh:severity sh:Violation .

era-sh:MaximumDesignSpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumDesignSpeed ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumDesignSpeed: This error is due to the VehicleType violating the rule: must have defined maximumDesignSpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumDesignSpeed ?value } .
        # Check if the VehicleType requires defined maximumDesignSpeed when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumInterferenceCurrent a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maximumInterferenceCurrent ;
    era:rinfIndex "1.1.1.3.4.2.1" ;
    era:scope "local" ;

    rdfs:comment "Maximum interference current limits allowed for track circuits for a defined frequency band."@en ;
    # Source: ontology comment for maximumInterferenceCurrent

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumInterferenceCurrent: The TrainDetectionSystem must have at most one maximumInterferenceCurrent defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maximumInterferenceCurrent ;

    sh:severity sh:Violation .

era-sh:MaximumInterferenceCurrentApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maximumInterferenceCurrent ;
    era:scope "local" ;

    rdfs:comment "Evaluation parameters must be added if preferred bands are not used."@en ;
    # Source: dependency note in ontology

    sh:message "maximumInterferenceCurrent: This error is due to the TrainDetectionSystem violating the rule: must have defined maximumInterferenceCurrent when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maximumInterferenceCurrent ?value } .
        # Check if the TrainDetectionSystem requires defined maximumInterferenceCurrent when applicable
        FILTER NOT EXISTS { $this era:preferredBands ?bandsValue . FILTER(?bandsValue = "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumInterferenceCurrentEvaluation a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maximumInterferenceCurrentEvaluation ;
    era:rinfIndex "1.1.1.3.4.2.1" ;
    era:scope "local" ;

    rdfs:comment "Maximum interference current limits allowed for track circuits for a defined frequency band."@en ;
    # Source: ontology comment for maximumInterferenceCurrentEvaluation

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumInterferenceCurrentEvaluation: The TrainDetectionSystem must have at most one maximumInterferenceCurrentEvaluation defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:maximumInterferenceCurrentEvaluation ;

    sh:severity sh:Violation .

era-sh:MaximumInterferenceCurrentEvaluationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:maximumInterferenceCurrentEvaluation ;
    era:scope "local" ;

    rdfs:comment "Evaluation parameters must be added if preferred bands are not used."@en ;
    # Source: dependency note in ontology

    sh:message "maximumInterferenceCurrentEvaluation: This error is due to the TrainDetectionSystem violating the rule: must have defined maximumInterferenceCurrentEvaluation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemLabel WHERE {
        $this rdfs:label ?systemLabel .
        FILTER NOT EXISTS { $this era:maximumInterferenceCurrentEvaluation ?value } .
        # Check if the TrainDetectionSystem requires defined maximumInterferenceCurrentEvaluation when applicable
        FILTER NOT EXISTS { $this era:preferredBands ?bandsValue . FILTER(?bandsValue = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumLocomotivesCoupled a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumLocomotivesCoupled ;
    era:rinfIndex "4.1.5" ;
    era:scope "local" ;

    rdfs:comment "Maximum number of trainsets or locomotives coupled together in multiple operation."@en ;
    # Source: ontology comment for maximumLocomotivesCoupled

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumLocomotivesCoupled: The VehicleType must have at most one maximumLocomotivesCoupled defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumLocomotivesCoupled ;

    sh:severity sh:Violation .

era-sh:MaximumLocomotivesCoupledApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumLocomotivesCoupled ;
    era:scope "local" ;

    rdfs:comment "Mandatory when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumLocomotivesCoupled: This error is due to the VehicleType violating the rule: must have defined maximumLocomotivesCoupled when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumLocomotivesCoupled ?value } .
        # Check if the VehicleType requires defined maximumLocomotivesCoupled when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionX a sh:PropertyShape ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionX ;
    era:scope "local" ;

    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. Direction X."@en ;
    # Source: ontology comment for maximumMagneticFieldDirectionX

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumMagneticFieldDirectionX: The MaximumMagneticField must have at most one maximumMagneticFieldDirectionX defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumMagneticFieldDirectionX ;

    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionXApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionX ;
    era:scope "local" ;

    rdfs:comment "The maximumMagneticFieldDirectionX parameter is only applicable for axle counters."@en ;
    # Source: ontology scope note

    sh:message "maximumMagneticFieldDirectionX: This error is due to the MaximumMagneticField violating the rule: must have defined maximumMagneticFieldDirectionX when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?fieldLabel WHERE {
        $this rdfs:label ?fieldLabel .
        FILTER NOT EXISTS { $this era:maximumMagneticFieldDirectionX ?value } .
        # Check if the MaximumMagneticField requires defined maximumMagneticFieldDirectionX when applicable
        FILTER EXISTS { $this era:trainDetectionSystemType ?tdType . FILTER(?tdType = "axle counters") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionY a sh:PropertyShape ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionY ;
    era:scope "local" ;

    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. Direction Y."@en ;
    # Source: ontology comment for maximumMagneticFieldDirectionY

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumMagneticFieldDirectionY: The MaximumMagneticField must have at most one maximumMagneticFieldDirectionY defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumMagneticFieldDirectionY ;

    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionYApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionY ;
    era:scope "local" ;

    rdfs:comment "The maximumMagneticFieldDirectionY parameter is only applicable for axle counters."@en ;
    # Source: ontology scope note

    sh:message "maximumMagneticFieldDirectionY: This error is due to the MaximumMagneticField violating the rule: must have defined maximumMagneticFieldDirectionY when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?fieldLabel WHERE {
        $this rdfs:label ?fieldLabel .
        FILTER NOT EXISTS { $this era:maximumMagneticFieldDirectionY ?value } .
        # Check if the MaximumMagneticField requires defined maximumMagneticFieldDirectionY when applicable
        FILTER EXISTS { $this era:trainDetectionSystemType ?tdType . FILTER(?tdType = "axle counters") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionZ a sh:PropertyShape ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionZ ;
    era:scope "local" ;

    rdfs:comment "The maximum magnetic field limits allowed for axle counters (in dB µA/m) for a defined frequency band. Direction Z."@en ;
    # Source: ontology comment for maximumMagneticFieldDirectionZ

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumMagneticFieldDirectionZ: The MaximumMagneticField must have at most one maximumMagneticFieldDirectionZ defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumMagneticFieldDirectionZ ;

    sh:severity sh:Violation .

era-sh:MaximumMagneticFieldDirectionZApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumMagneticField ;
    era:affectedProperty era:maximumMagneticFieldDirectionZ ;
    era:scope "local" ;

    rdfs:comment "The maximumMagneticFieldDirectionZ parameter is only applicable for axle counters."@en ;
    # Source: ontology scope note

    sh:message "maximumMagneticFieldDirectionZ: This error is due to the MaximumMagneticField violating the rule: must have defined maximumMagneticFieldDirectionZ when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?fieldLabel WHERE {
        $this rdfs:label ?fieldLabel .
        FILTER NOT EXISTS { $this era:maximumMagneticFieldDirectionZ ?value } .
        # Check if the MaximumMagneticField requires defined maximumMagneticFieldDirectionZ when applicable
        FILTER EXISTS { $this era:trainDetectionSystemType ?tdType . FILTER(?tdType = "axle counters") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumPermittedSpeed a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumPermittedSpeed ;
    era:rinfIndex "1.1.1.1.2.5" ;
    era:scope "local" ;

    rdfs:comment "Nominal maximum operational speed on the line as a result of INF, ENE and CCS subsystem characteristics expressed in kilometres/hour."@en ;
    # Source: ontology comment for maximumPermittedSpeed

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum speed should not be less than 0

    sh:maxInclusive 500 ;
    # Inferred: maximum speed should not exceed 500

    sh:message "maximumPermittedSpeed: The RunningTrack must have at most one maximumPermittedSpeed defined as an integer between 0 and 500."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumPermittedSpeed ;

    sh:severity sh:Violation .

era-sh:MaximumPermittedSpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumPermittedSpeed ;
    era:scope "local" ;

    rdfs:comment "Applicable when the maximum permitted speed is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumPermittedSpeed: This error is due to the RunningTrack violating the rule: must have defined maximumPermittedSpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:maximumPermittedSpeed ?value } .
        # Check if the RunningTrack requires defined maximumPermittedSpeed when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumServiceBrake a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumServiceBrake ;
    era:rinfIndex "4.7.7" ;
    era:scope "local" ;

    rdfs:comment "At maximum service brake: Stopping distance, Maximum deceleration, for the load condition 'design mass under normal payload' at the design maximum speed."@en ;
    # Source: ontology comment for maximumServiceBrake

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumServiceBrake: The VehicleType must have at most one maximumServiceBrake defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:maximumServiceBrake ;

    sh:severity sh:Violation .

era-sh:MaximumServiceBrakeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumServiceBrake ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumServiceBrake: This error is due to the VehicleType violating the rule: must have defined maximumServiceBrake when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumServiceBrake ?value } .
        # Check if the VehicleType requires defined maximumServiceBrake when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumSpeedAndCantDeficiency a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumSpeedAndCantDeficiency ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Combination of maximum speed and maximum cant deficiency for which the vehicle was assessed."@en ;
    # Source: ontology comment for maximumSpeedAndCantDeficiency

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "maximumSpeedAndCantDeficiency: The VehicleType must have at most one maximumSpeedAndCantDeficiency defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:maximumSpeedAndCantDeficiency ;

    sh:severity sh:Violation .

era-sh:MaximumSpeedAndCantDeficiencyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumSpeedAndCantDeficiency ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumSpeedAndCantDeficiency: This error is due to the VehicleType violating the rule: must have defined maximumSpeedAndCantDeficiency when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumSpeedAndCantDeficiency ?value } .
        # Check if the VehicleType requires defined maximumSpeedAndCantDeficiency when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumSpeedEmpty a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumSpeedEmpty ;
    era:rinfIndex "4.1.2.2" ;
    era:scope "local" ;

    rdfs:comment "Maximum speed when empty."@en ;
    # Source: ontology comment for maximumSpeedEmpty

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum speed should not be less than 0

    sh:maxInclusive 500 ;
    # Inferred: maximum speed should not exceed 500

    sh:message "maximumSpeedEmpty: The VehicleType must have at most one maximumSpeedEmpty defined as an integer between 0 and 500."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:maximumSpeedEmpty ;

    sh:severity sh:Violation .

era-sh:MaximumSpeedEmptyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:maximumSpeedEmpty ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "maximumSpeedEmpty: This error is due to the VehicleType violating the rule: must have defined maximumSpeedEmpty when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:maximumSpeedEmpty ?value } .
        # Check if the VehicleType requires defined maximumSpeedEmpty when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MaximumTrainDeceleration a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumTrainDeceleration ;
    era:rinfIndex "1.1.1.1.6.1" ;
    era:scope "local" ;

    rdfs:comment "Limit for longitudinal track resistance given as a maximum allowed train deceleration and expressed in metres per square second."@en ;
    # Source: ontology comment for maximumTrainDeceleration

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum deceleration should not be less than 0

    sh:message "maximumTrainDeceleration: The RunningTrack must have at most one maximumTrainDeceleration defined as a double and must be non-negative."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:maximumTrainDeceleration ;

    sh:severity sh:Violation .

era-sh:MaximumTrainDecelerationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:maximumTrainDeceleration ;
    era:scope "local" ;

    rdfs:comment "Applicable when the line is within the scope of INF TSI; a value must be provided."@en ;
    # Source: dependency note in ontology

    sh:message "maximumTrainDeceleration: This error is due to the RunningTrack violating the rule: must have defined maximumTrainDeceleration when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:maximumTrainDeceleration ?value } .
        # Check if the RunningTrack requires defined maximumTrainDeceleration when applicable
        FILTER NOT EXISTS { $this era:applicable ?applicableValue . FILTER(?applicableValue = "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MeasuredDistance a sh:PropertyShape ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:measuredDistance ;
    era:scope "local" ;

    rdfs:comment "Measured distance from the origin of the LRS."@en ;
    # Source: ontology comment for measuredDistance

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum distance should not be less than 0

    sh:message "measuredDistance: The KilometricPost must have at most one measuredDistance defined as a double and must be non-negative."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:measuredDistance ;

    sh:severity sh:Violation .

era-sh:MeasuredDistanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:KilometricPost ;
    era:affectedProperty era:measuredDistance ;
    era:scope "local" ;

    rdfs:comment "Applicable when the KilometricPost is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "measuredDistance: This error is due to the KilometricPost violating the rule: must have defined measuredDistance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?postLabel WHERE {
        $this rdfs:label ?postLabel .
        FILTER NOT EXISTS { $this era:measuredDistance ?value } .
        # Check if the KilometricPost requires defined measuredDistance when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MeetsRequirementVehicleAuthorisation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:meetsRequirementVehicleAuthorisation ;
    era:rinfIndex "4.1.8" ;
    era:scope "local" ;

    rdfs:comment "Type meets the requirements necessary for validity of the vehicle authorisation granted by one Member State in other MSs."@en ;
    # Source: ontology comment for meetsRequirementVehicleAuthorisation

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "meetsRequirementVehicleAuthorisation: The VehicleType must have at most one meetsRequirementVehicleAuthorisation defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:meetsRequirementVehicleAuthorisation ;

    sh:severity sh:Violation .

era-sh:MeetsRequirementVehicleAuthorisationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:meetsRequirementVehicleAuthorisation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "meetsRequirementVehicleAuthorisation: This error is due to the VehicleType violating the rule: must have defined meetsRequirementVehicleAuthorisation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:meetsRequirementVehicleAuthorisation ?value } .
        # Check if the VehicleType requires defined meetsRequirementVehicleAuthorisation when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinAxleLoad a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minAxleLoad ;
    era:rinfIndex "1.1.1.3.7.11.1" ;
    era:scope "local" ;

    rdfs:comment "Minimum permitted axle load, given in tons."@en ;
    # Source: ontology comment for minAxleLoad

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum axle load should not be less than 0

    sh:message "minAxleLoad: The VehicleType must have at most one minAxleLoad defined as a double and must be non-negative."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minAxleLoad ;

    sh:severity sh:Violation .

era-sh:MinAxleLoadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minAxleLoad ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minAxleLoad: This error is due to the VehicleType violating the rule: must have defined minAxleLoad when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minAxleLoad ?value } .
        # Check if the VehicleType requires defined minAxleLoad when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinDistConsecutiveAxles a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minDistConsecutiveAxles ;
    era:rinfIndex "1.1.1.3.7.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of minimum permitted distance between two consecutive axles, given in millimetres."@en ;
    # Source: ontology comment for minDistConsecutiveAxles

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum distance should not be less than 0

    sh:message "minDistConsecutiveAxles: The VehicleType must have at most one minDistConsecutiveAxles defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minDistConsecutiveAxles ;

    sh:severity sh:Violation .

era-sh:MinDistConsecutiveAxlesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minDistConsecutiveAxles ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minDistConsecutiveAxles: This error is due to the VehicleType violating the rule: must have defined minDistConsecutiveAxles when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minDistConsecutiveAxles ?value } .
        # Check if the VehicleType requires defined minDistConsecutiveAxles when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinDistFirstLastAxle a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minDistFirstLastAxle ;
    era:rinfIndex "4.14.2.3" ;
    era:scope "local" ;

    rdfs:comment "Indication of minimum permitted distance between first and last axles, given in millimetres."@en ;
    # Source: ontology comment for minDistFirstLastAxle

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum distance should not be less than 0

    sh:message "minDistFirstLastAxle: The VehicleType must have at most one minDistFirstLastAxle defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minDistFirstLastAxle ;

    sh:severity sh:Violation .

era-sh:MinDistFirstLastAxleApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minDistFirstLastAxle ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minDistFirstLastAxle: This error is due to the VehicleType violating the rule: must have defined minDistFirstLastAxle when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minDistFirstLastAxle ?value } .
        # Check if the VehicleType requires defined minDistFirstLastAxle when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinFlangeHeight a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minFlangeHeight ;
    era:rinfIndex "1.1.1.3.7.9" ;
    era:scope "local" ;

    rdfs:comment "Indication of height of flange given in millimetres."@en ;
    # Source: ontology comment for minFlangeHeight

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum flange height should not be less than 0

    sh:message "minFlangeHeight: The VehicleType must have at most one minFlangeHeight defined as a double and must be non-negative."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minFlangeHeight ;

    sh:severity sh:Violation .

era-sh:MinFlangeHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minFlangeHeight ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minFlangeHeight: This error is due to the VehicleType violating the rule: must have defined minFlangeHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minFlangeHeight ?value } .
        # Check if the VehicleType requires defined minFlangeHeight when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinFlangeThickness a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minFlangeThickness ;
    era:rinfIndex "4.14.2.7" ;
    era:scope "local" ;

    rdfs:comment "Indication of flange thickness given in millimetres."@en ;
    # Source: ontology comment for minFlangeThickness

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum flange thickness should not be less than 0

    sh:message "minFlangeThickness: The VehicleType must have at most one minFlangeThickness defined as a double and must be non-negative."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minFlangeThickness ;

    sh:severity sh:Violation .

era-sh:MinFlangeThicknessApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minFlangeThickness ;
    era:scope "local" ;

    rdfs:comment "Applicable only when for parameter 1.1.1.3.7.1.1 the selected option is ‘wheel detector’."@en ;
    # Source: RAG applicability note

    sh:message "minFlangeThickness: This error is due to the VehicleType violating the rule: must have defined minFlangeThickness when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minFlangeThickness ?value } .
        # Check if the VehicleType requires defined minFlangeThickness when applicable
        FILTER EXISTS { $this era:wheelDetectorOption ?wdOption . FILTER(?wdOption = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinRimWidth a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minRimWidth ;
    era:rinfIndex "4.14.2.5" ;
    era:scope "local" ;

    rdfs:comment "Indication of minimum permitted width of the rim, given in millimetres."@en ;
    # Source: ontology comment for minRimWidth

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum rim width should not be less than 0

    sh:message "minRimWidth: The VehicleType must have at most one minRimWidth defined as a double and must be non-negative."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minRimWidth ;

    sh:severity sh:Violation .

era-sh:MinRimWidthApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minRimWidth ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minRimWidth: This error is due to the VehicleType violating the rule: must have defined minRimWidth when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minRimWidth ?value } .
        # Check if the VehicleType requires defined minRimWidth when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinVehicleInputCapacitance a sh:PropertyShape ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputCapacitance ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Minimum vehicle input capacitance for the selected DC voltage."@en ;
    # Source: ontology comment for minVehicleInputCapacitance

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum capacitance should not be less than 0

    sh:message "minVehicleInputCapacitance: The MinVehicleImpedance must have at most one minVehicleInputCapacitance defined as a non-negative double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minVehicleInputCapacitance ;

    sh:severity sh:Violation .

era-sh:MinVehicleInputCapacitanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputCapacitance ;
    era:scope "local" ;

    rdfs:comment "Applicable when the MinVehicleImpedance is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minVehicleInputCapacitance: This error is due to the MinVehicleImpedance violating the rule: must have defined minVehicleInputCapacitance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?impedanceLabel WHERE {
        $this rdfs:label ?impedanceLabel .
        FILTER NOT EXISTS { $this era:minVehicleInputCapacitance ?value } .
        # Check if the MinVehicleImpedance requires defined minVehicleInputCapacitance when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinVehicleInputImpedance a sh:PropertyShape ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputImpedance ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Minimum vehicle input impedance for the selected DC voltage."@en ;
    # Source: ontology comment for minVehicleInputImpedance

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum impedance should not be less than 0

    sh:message "minVehicleInputImpedance: The MinVehicleImpedance must have at most one minVehicleInputImpedance defined as a non-negative double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minVehicleInputImpedance ;

    sh:severity sh:Violation .

era-sh:MinVehicleInputImpedanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinVehicleImpedance ;
    era:affectedProperty era:minVehicleInputImpedance ;
    era:scope "local" ;

    rdfs:comment "Applicable when the MinVehicleImpedance is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minVehicleInputImpedance: This error is due to the MinVehicleImpedance violating the rule: must have defined minVehicleInputImpedance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?impedanceLabel WHERE {
        $this rdfs:label ?impedanceLabel .
        FILTER NOT EXISTS { $this era:minVehicleInputImpedance ?value } .
        # Check if the MinVehicleImpedance requires defined minVehicleInputImpedance when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinWheelDiameter a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minWheelDiameter ;
    era:rinfIndex "4.14.2.6" ;
    era:scope "local" ;

    rdfs:comment "Indication of minimum permitted wheel diameter, given in millimetres."@en ;
    # Source: ontology comment for minWheelDiameter

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum diameter should not be less than 0

    sh:message "minWheelDiameter: The VehicleType must have at most one minWheelDiameter defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minWheelDiameter ;

    sh:severity sh:Violation .

era-sh:MinWheelDiameterApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minWheelDiameter ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minWheelDiameter: This error is due to the VehicleType violating the rule: must have defined minWheelDiameter when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minWheelDiameter ?value } .
        # Check if the VehicleType requires defined minWheelDiameter when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumConcaveVerticalRadius a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minimumConcaveVerticalRadius ;
    era:rinfIndex "4.8.6" ;
    era:scope "local" ;

    rdfs:comment "Minimum vertical concave curve radius capability."@en ;
    # Source: ontology comment for minimumConcaveVerticalRadius

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum radius should not be less than 0

    sh:message "minimumConcaveVerticalRadius: The VehicleType must have at most one minimumConcaveVerticalRadius defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minimumConcaveVerticalRadius ;

    sh:severity sh:Violation .

era-sh:MinimumConcaveVerticalRadiusApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minimumConcaveVerticalRadius ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minimumConcaveVerticalRadius: This error is due to the VehicleType violating the rule: must have defined minimumConcaveVerticalRadius when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minimumConcaveVerticalRadius ?value } .
        # Check if the VehicleType requires defined minimumConcaveVerticalRadius when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumContactWireHeight a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:minimumContactWireHeight ;
    era:rinfIndex "1.1.1.2.2.6" ;
    era:scope "local" ;

    rdfs:comment "Indication of the minimum contact wire height expressed in metres."@en ;
    # Source: ontology comment for minimumContactWireHeight

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum height should not be less than 0

    sh:message "minimumContactWireHeight: The ContactLineSystem must have at most one minimumContactWireHeight defined as a non-negative double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:minimumContactWireHeight ;

    sh:severity sh:Violation .

era-sh:MinimumContactWireHeightApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:minimumContactWireHeight ;
    era:scope "local" ;

    rdfs:comment "Applicable when 'Overhead contact line (OCL)' is selected in parameter 1.1.1.2.2.1.1; a value must be provided."@en ;
    # Source: RAG applicability note

    sh:message "minimumContactWireHeight: This error is due to the ContactLineSystem violating the rule: must have defined minimumContactWireHeight when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:minimumContactWireHeight ?value } .
        # Check if the ContactLineSystem requires defined minimumContactWireHeight when applicable
        FILTER EXISTS { $this era:overheadContactLineSelection ?oclOption . FILTER(?oclOption = "Y") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumConvexVerticalRadius a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minimumConvexVerticalRadius ;
    era:rinfIndex "4.8.5" ;
    era:scope "local" ;

    rdfs:comment "Minimum vertical convex curve radius capability."@en ;
    # Source: ontology comment for minimumConvexVerticalRadius

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum radius should not be less than 0

    sh:message "minimumConvexVerticalRadius: The VehicleType must have at most one minimumConvexVerticalRadius defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minimumConvexVerticalRadius ;

    sh:severity sh:Violation .

era-sh:MinimumConvexVerticalRadiusApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minimumConvexVerticalRadius ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minimumConvexVerticalRadius: This error is due to the VehicleType violating the rule: must have defined minimumConvexVerticalRadius when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minimumConvexVerticalRadius ?value } .
        # Check if the VehicleType requires defined minimumConvexVerticalRadius when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumHorizontalRadius a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:minimumHorizontalRadius ;
    era:rinfIndex "1.1.1.1.3.7" ;
    era:scope "local" ;

    rdfs:comment "Radius of the smallest horizontal curve, expressed in metres."@en ;
    # Source: ontology comment for minimumHorizontalRadius

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 150 ;
    # Inferred: minimum radius should not be less than 150 meters as per RAG requirements

    sh:message "minimumHorizontalRadius: The RunningTrack must have at most one minimumHorizontalRadius defined as an integer and must be at least 150."@en ;
    # Source: inferred from the nature of the property and RAG

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minimumHorizontalRadius ;

    sh:severity sh:Violation .

era-sh:MinimumHorizontalRadiusApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:minimumHorizontalRadius ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minimumHorizontalRadius: This error is due to the RunningTrack violating the rule: must have defined minimumHorizontalRadius when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:minimumHorizontalRadius ?value } .
        # Check if the RunningTrack requires defined minimumHorizontalRadius when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusCrest a sh:PropertyShape ;
    era:affectedClass era:MinimumVerticalRadius ;
    era:affectedProperty era:minimumVerticalRadiusCrest ;
    era:scope "local" ;

    rdfs:comment "Part of the minimum radius of vertical curve that indicates the crest."@en ;
    # Source: ontology comment for minimumVerticalRadiusCrest

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum radius should not be less than 0

    sh:message "minimumVerticalRadiusCrest: The MinimumVerticalRadius must have at most one minimumVerticalRadiusCrest defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minimumVerticalRadiusCrest ;

    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusCrestApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinimumVerticalRadius ;
    era:affectedProperty era:minimumVerticalRadiusCrest ;
    era:scope "local" ;

    rdfs:comment "Applicable when the MinimumVerticalRadius is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minimumVerticalRadiusCrest: This error is due to the MinimumVerticalRadius violating the rule: must have defined minimumVerticalRadiusCrest when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?radiusLabel WHERE {
        $this rdfs:label ?radiusLabel .
        FILTER NOT EXISTS { $this era:minimumVerticalRadiusCrest ?value } .
        # Check if the MinimumVerticalRadius requires defined minimumVerticalRadiusCrest when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusHollow a sh:PropertyShape ;
    era:affectedClass era:MinimumVerticalRadius ;
    era:affectedProperty era:minimumVerticalRadiusHollow ;
    era:scope "local" ;

    rdfs:comment "Part of the minimum radius of vertical curve that indicates the hollow."@en ;
    # Source: ontology comment for minimumVerticalRadiusHollow

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum radius should not be less than 0

    sh:message "minimumVerticalRadiusHollow: The MinimumVerticalRadius must have at most one minimumVerticalRadiusHollow defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minimumVerticalRadiusHollow ;

    sh:severity sh:Violation .

era-sh:MinimumVerticalRadiusHollowApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MinimumVerticalRadius ;
    era:affectedProperty era:minimumVerticalRadiusHollow ;
    era:scope "local" ;

    rdfs:comment "Applicable when the MinimumVerticalRadius is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minimumVerticalRadiusHollow: This error is due to the MinimumVerticalRadius violating the rule: must have defined minimumVerticalRadiusHollow when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?radiusLabel WHERE {
        $this rdfs:label ?radiusLabel .
        FILTER NOT EXISTS { $this era:minimumVerticalRadiusHollow ?value } .
        # Check if the MinimumVerticalRadius requires defined minimumVerticalRadiusHollow when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:MinimumWheelDiameter a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minWheelDiameter ;
    era:rinfIndex "4.8.2" ;
    era:scope "local" ;

    rdfs:comment "Indication of minimum permitted wheel diameter, given in millimetres."@en ;
    # Source: ontology comment for minimumWheelDiameter

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 330 ;
    # Inferred: minimum diameter should not be less than 330 mm as per RAG requirements

    sh:message "minWheelDiameter: The VehicleType must have at most one minWheelDiameter defined as a non-negative integer, and it must be at least 330 mm."@en ;
    # Source: inferred from the nature of the property and RAG

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:minWheelDiameter ;

    sh:severity sh:Violation .

era-sh:MinimumWheelDiameterApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:minWheelDiameter ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "minWheelDiameter: This error is due to the VehicleType violating the rule: must have defined minWheelDiameter when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:minWheelDiameter ?value } .
        # Check if the VehicleType requires defined minWheelDiameter when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NationalLoadCapability a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:nationalLoadCapability ; 
    era:rinfIndex "1.1.1.1.2.4.1" ; 
    era:scope "local" ;

    rdfs:comment "National classification for load capability."@en ; 
    # Source: ontology comment for nationalLoadCapability

    sh:datatype xsd:string ; 
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "nationalLoadCapability: The CommonCharacteristicsSubset must have at most one nationalLoadCapability defined as a string."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a string literal

    sh:path era:nationalLoadCapability ;

    sh:severity sh:Violation .

era-sh:NationalLoadCapabilityApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:nationalLoadCapability ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ; 
    # Source: inferred from context and usage of the property

    sh:message "nationalLoadCapability: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined nationalLoadCapability when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:nationalLoadCapability ?value } .
        # Check if the CommonCharacteristicsSubset requires defined nationalLoadCapability when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NationalRollingStockFireCategory a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:nationalRollingStockFireCategory ;
    era:rinfIndex "1.1.1.1.8.11" ;
    era:scope "local" ;

    rdfs:comment "Categorisation of how a passenger train with a fire on board will continue to operate for a defined time period - according to national rules if they exist."@en ;
    # Source: ontology comment for nationalRollingStockFireCategory

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "nationalRollingStockFireCategory: The Tunnel must have at most one nationalRollingStockFireCategory defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:nationalRollingStockFireCategory ;

    sh:severity sh:Violation .

era-sh:NationalRollingStockFireCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:nationalRollingStockFireCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable only for tunnels without value for parameter 1.1.1.8.10 and where national values exist."@en ;
    # Source: RAG applicability note

    sh:message "nationalRollingStockFireCategory: This error is due to the Tunnel violating the rule: must have defined nationalRollingStockFireCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:nationalRollingStockFireCategory ?value } .
        # Check if the Tunnel requires defined nationalRollingStockFireCategory when applicable
        FILTER EXISTS { $this era:someOtherParameter ?otherValue . FILTER(?otherValue = "none") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NationalValuesBrakeModel a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:nationalValuesBrakeModel ;
    era:rinfIndex "1.1.1.3.2.16.13" ;
    era:scope "local" ;

    rdfs:comment "Set of parameters for adapting the braking curves calculated by the ETCS on-board system to match accuracy, performance and safety margins imposed by the infrastructure manager."@en ;
    # Source: ontology comment for nationalValuesBrakeModel

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "nationalValuesBrakeModel: The CommonCharacteristicsSubset must have at most one nationalValuesBrakeModel defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:nationalValuesBrakeModel ;

    sh:severity sh:Violation .

era-sh:NationalValuesBrakeModelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:nationalValuesBrakeModel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided when ETCS is present."@en ;
    # Source: inferred from context and usage of the property

    sh:message "nationalValuesBrakeModel: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined nationalValuesBrakeModel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:nationalValuesBrakeModel ?value } .
        # Check if the CommonCharacteristicsSubset requires defined nationalValuesBrakeModel when applicable
        FILTER EXISTS { $this era:etcsPresence ?etcsValue . FILTER(?etcsValue != "N") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NonCodedRestrictions a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:nonCodedRestrictions ;
    era:scope "local" ;

    rdfs:comment "Denotes a non-coded restrictions for this particular vehicleType, as a set of sentences."@en ;
    # Source: ontology comment for nonCodedRestrictions

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "nonCodedRestrictions: The VehicleType must have at most one nonCodedRestrictions defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:nonCodedRestrictions ;

    sh:severity sh:Violation .

era-sh:NonCodedRestrictionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:nonCodedRestrictions ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "nonCodedRestrictions: This error is due to the VehicleType violating the rule: must have defined nonCodedRestrictions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:nonCodedRestrictions ?value } .
        # Check if the VehicleType requires defined nonCodedRestrictions when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NumberElementsRakeFreightWagons a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:numberElementsRakeFreightWagons ;
    era:rinfIndex "4.1.6" ;
    era:scope "local" ;

    rdfs:comment "Number of elements in the rake of freight wagons (only for subcategory 'rake of freight wagons')."@en ;
    # Source: ontology comment for numberElementsRakeFreightWagons

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 1 ;
    # Inferred: minimum number of elements should not be less than 1

    sh:message "numberElementsRakeFreightWagons: The VehicleType must have at most one numberElementsRakeFreightWagons defined as a positive integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:numberElementsRakeFreightWagons ;

    sh:severity sh:Violation .

era-sh:NumberElementsRakeFreightWagonsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:numberElementsRakeFreightWagons ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined as a rake of freight wagons; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "numberElementsRakeFreightWagons: This error is due to the VehicleType violating the rule: must have defined numberElementsRakeFreightWagons when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:numberElementsRakeFreightWagons ?value } .
        # Check if the VehicleType requires defined numberElementsRakeFreightWagons when applicable
        FILTER EXISTS { $this era:subcategory ?subcategoryValue . FILTER(?subcategoryValue = "rake of freight wagons") } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NumberOfPantographsInContactWithOCL a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:numberOfPantographsInContactWithOCL ;
    era:rinfIndex "4.10.7" ;
    era:scope "local" ;

    rdfs:comment "Number of pantographs in contact with the overhead contact line (OCL) (to be indicated for each energy supply system the vehicle is equipped for)."@en ;
    # Source: ontology comment for numberOfPantographsInContactWithOCL

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum number of pantographs should not be less than 0

    sh:message "numberOfPantographsInContactWithOCL: The VehicleType must have at most one numberOfPantographsInContactWithOCL defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:numberOfPantographsInContactWithOCL ;

    sh:severity sh:Violation .

era-sh:NumberOfPantographsInContactWithOCLApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:numberOfPantographsInContactWithOCL ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "numberOfPantographsInContactWithOCL: This error is due to the VehicleType violating the rule: must have defined numberOfPantographsInContactWithOCL when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:numberOfPantographsInContactWithOCL ?value } .
        # Check if the VehicleType requires defined numberOfPantographsInContactWithOCL when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:NumberOfToilets a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:numberOfToilets ;
    era:rinfIndex "4.12.1.2" ;
    era:scope "local" ;

    rdfs:comment "Number of toilets."@en ;
    # Source: ontology comment for numberOfToilets

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum number of toilets should not be less than 0

    sh:message "numberOfToilets: The VehicleType must have at most one numberOfToilets defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:numberOfToilets ;

    sh:severity sh:Violation .

era-sh:NumberOfToiletsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:numberOfToilets ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "numberOfToilets: This error is due to the VehicleType violating the rule: must have defined numberOfToilets when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:numberOfToilets ?value } .
        # Check if the VehicleType requires defined numberOfToilets when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OclType a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:oclType ;
    era:scope "local" ;

    rdfs:comment "OCL type."@en ;
    # Source: ontology comment for oclType

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "oclType: The VehicleType must have at most one oclType defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:oclType ;

    sh:severity sh:Violation .

era-sh:OclTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:oclType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "oclType: This error is due to the VehicleType violating the rule: must have defined oclType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:oclType ?value } .
        # Check if the VehicleType requires defined oclType when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OffsetFromKilometricPost a sh:PropertyShape ;
    era:affectedClass era:LinearPositioningSystemCoordinate ;
    era:affectedProperty era:offsetFromKilometricPost ;
    era:scope "local" ;

    rdfs:comment "Relative distance from a reference kilometric post."@en ;
    # Source: ontology comment for offsetFromKilometricPost

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: minimum offset should not be less than 0, as negative offsets are not logical in this context

    sh:message "offsetFromKilometricPost: The LinearPositioningSystemCoordinate must have at most one offsetFromKilometricPost defined as a non-negative double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:offsetFromKilometricPost ;

    sh:severity sh:Violation .

era-sh:OffsetFromKilometricPostApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearPositioningSystemCoordinate ;
    era:affectedProperty era:offsetFromKilometricPost ;
    era:scope "local" ;

    rdfs:comment "Applicable when the LinearPositioningSystemCoordinate is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "offsetFromKilometricPost: This error is due to the LinearPositioningSystemCoordinate violating the rule: must have defined offsetFromKilometricPost when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?coordinateLabel WHERE {
        $this rdfs:label ?coordinateLabel .
        FILTER NOT EXISTS { $this era:offsetFromKilometricPost ?value } .
        # Check if the LinearPositioningSystemCoordinate requires defined offsetFromKilometricPost when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OffsetFromOrigin a sh:PropertyShape ;
    era:affectedClass era:TopologicalCoordinate ;
    era:affectedProperty era:offsetFromOrigin ;
    era:scope "local" ;

    rdfs:comment "Offset from the origin in a topological coordinate."@en ;
    # Source: ontology comment for offsetFromOrigin

    sh:datatype xsd:positiveInteger ;
    # Source: ontology range indicates it must be a positive integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 1 ;
    # Inferred: minimum offset should not be less than 1, as zero or negative offsets are not logical in this context based on the definition of positiveInteger

    sh:message "offsetFromOrigin: The TopologicalCoordinate must have at most one offsetFromOrigin defined as a positive integer, and it must be at least 1."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a positive integer literal

    sh:path era:offsetFromOrigin ;

    sh:severity sh:Violation .

era-sh:OffsetFromOriginApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TopologicalCoordinate ;
    era:affectedProperty era:offsetFromOrigin ;
    era:scope "local" ;

    rdfs:comment "Applicable when the TopologicalCoordinate is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "offsetFromOrigin: This error is due to the TopologicalCoordinate violating the rule: must have defined offsetFromOrigin when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?coordinateLabel WHERE {
        $this rdfs:label ?coordinateLabel .
        FILTER NOT EXISTS { $this era:offsetFromOrigin ?value } .
        # Check if the TopologicalCoordinate requires defined offsetFromOrigin when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpName a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opName ;
    era:rinfIndex "1.2.0.0.0.1" ;
    era:scope "local" ;

    rdfs:comment "Name normally related to the town or village or to traffic control purpose."@en ;
    # Source: ontology comment for opName

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "opName: The OperationalPoint must have at most one opName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:opName ;

    sh:severity sh:Violation .

era-sh:OpNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opName ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "opName: This error is due to the OperationalPoint violating the rule: must have defined opName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:opName ?value } .
        # Check if the OperationalPoint requires defined opName when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OpTypeGaugeChangeover a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opTypeGaugeChangeover ;
    era:rinfIndex "1.2.0.0.0.4.1" ;
    era:scope "local" ;

    rdfs:comment "Type of track gauge changeover facility."@en ;
    # Source: ontology comment for opTypeGaugeChangeover

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "opTypeGaugeChangeover: The OperationalPoint must have at most one opTypeGaugeChangeover defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:opTypeGaugeChangeover ;

    sh:severity sh:Violation .

era-sh:OpTypeGaugeChangeoverApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:opTypeGaugeChangeover ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "opTypeGaugeChangeover: This error is due to the OperationalPoint violating the rule: must have defined opTypeGaugeChangeover when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:opTypeGaugeChangeover ?value } .
        # Check if the OperationalPoint requires defined opTypeGaugeChangeover when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:OrganisationCode a sh:PropertyShape ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:organisationCode ;
    era:rinfIndex "1.2.2.0.5.1" ; # Assuming the RAG number corresponds to the organisationCode
    era:scope "local" ;

    rdfs:comment "Four alpha-numeric code allocated by ERA to a body. It represents the Infrastructure Manager (IM) code in RINF."@en ;
    # Source: ontology comment for organisationCode

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[A-Z0-9]{4}$" ;
    # Inferred: organisation code should be a 4-character alphanumeric string

    sh:message "organisationCode: The OrganisationRole must have at most one organisationCode defined as a 4-character alphanumeric string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:organisationCode ;

    sh:severity sh:Violation .

era-sh:OrganisationCodeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OrganisationRole ;
    era:affectedProperty era:organisationCode ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OrganisationRole is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "organisationCode: This error is due to the OrganisationRole violating the rule: must have defined organisationCode when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?roleLabel WHERE {
        $this rdfs:label ?roleLabel .
        FILTER NOT EXISTS { $this era:organisationCode ?value } .
        # Check if the OrganisationRole requires defined organisationCode when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParameterValue a sh:PropertyShape ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValue ;
    era:scope "local" ;

    rdfs:comment "This property is used to link an applicability to the precise value of the parameter."@en ;
    # Source: ontology comment for parameterValue

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "parameterValue: The ParameterApplicability must have at most one parameterValue defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:parameterValue ;

    sh:severity sh:Violation .

era-sh:ParameterValueApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ParameterApplicability ;
    era:affectedProperty era:parameterValue ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ParameterApplicability is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "parameterValue: This error is due to the ParameterApplicability violating the rule: must have defined parameterValue when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?paramLabel WHERE {
        $this rdfs:label ?paramLabel .
        FILTER NOT EXISTS { $this era:parameterValue ?value } .
        # Check if the ParameterApplicability requires defined parameterValue when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParkingBrake a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrake ;
    era:rinfIndex "4.7.3" ;
    era:scope "local" ;

    rdfs:comment "Indicates whether all vehicles of this type must be equipped with a parking brake."@en ;
    # Source: ontology comment for parkingBrake

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "parkingBrake: The VehicleType must have at most one parkingBrake defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:parkingBrake ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrake ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "parkingBrake: This error is due to the VehicleType violating the rule: must have defined parkingBrake when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:parkingBrake ?value } .
        # Check if the VehicleType requires defined parkingBrake when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeMandatory a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrakeMandatory ;
    era:rinfIndex "4.7.3.1" ;
    era:scope "local" ;

    rdfs:comment "All vehicles of this type must be equipped with a parking brake (parking brake mandatory for vehicles of this type)."@en ;
    # Source: ontology comment for parkingBrakeMandatory

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "parkingBrakeMandatory: The VehicleType must have at most one parkingBrakeMandatory defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:parkingBrakeMandatory ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeMandatoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrakeMandatory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "parkingBrakeMandatory: This error is due to the VehicleType violating the rule: must have defined parkingBrakeMandatory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:parkingBrakeMandatory ?value } .
        # Check if the VehicleType requires defined parkingBrakeMandatory when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeMaximumGradient a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrakeMaximumGradient ;
    era:rinfIndex "4.7.3.3" ;
    era:scope "local" ;

    rdfs:comment "Maximum gradient on which the unit is kept immobilised by the parking brake alone (if the vehicle is fitted with it)."@en ;
    # Source: ontology comment for parkingBrakeMaximumGradient

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the maximum gradient should not be negative, as it represents a physical property

    sh:message "parkingBrakeMaximumGradient: The VehicleType must have at most one parkingBrakeMaximumGradient defined as a non-negative double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:parkingBrakeMaximumGradient ;

    sh:severity sh:Violation .

era-sh:ParkingBrakeMaximumGradientApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:parkingBrakeMaximumGradient ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "parkingBrakeMaximumGradient: This error is due to the VehicleType violating the rule: must have defined parkingBrakeMaximumGradient when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:parkingBrakeMaximumGradient ?value } .
        # Check if the VehicleType requires defined parkingBrakeMaximumGradient when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PassByNoiseLevel a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:passByNoiseLevel ;
    era:scope "local" ;

    rdfs:comment "Pass-by noise level given in dB(A)."@en ;
    # Source: ontology comment for passByNoiseLevel

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "passByNoiseLevel: The VehicleType must have at most one passByNoiseLevel defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:passByNoiseLevel ;

    sh:severity sh:Violation .

era-sh:PassByNoiseLevelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:passByNoiseLevel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "passByNoiseLevel: This error is due to the VehicleType violating the rule: must have defined passByNoiseLevel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:passByNoiseLevel ?value } .
        # Check if the VehicleType requires defined passByNoiseLevel when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PermissiblePayload a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:permissiblePayload ;
    era:rinfIndex "4.5.1" ;
    era:scope "local" ;

    rdfs:comment "Permissible payload for different line categories."@en ;
    # Source: ontology comment for permissiblePayload

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "permissiblePayload: The VehicleType must have at most one permissiblePayload defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:permissiblePayload ;

    sh:severity sh:Violation .

era-sh:PermissiblePayloadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:permissiblePayload ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "permissiblePayload: This error is due to the VehicleType violating the rule: must have defined permissiblePayload when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:permissiblePayload ?value } .
        # Check if the VehicleType requires defined permissiblePayload when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PermissionChargingElectricEnergyTractionStandstill a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:permissionChargingElectricEnergyTractionStandstill ;
    era:rinfIndex "1.2.1.0.7.1" ;
    era:scope "local" ;

    rdfs:comment "Point at which IM authorises charging of electric energy storage for traction purposes at standstill."@en ;
    # Source: ontology comment for permissionChargingElectricEnergyTractionStandstill

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "permissionChargingElectricEnergyTractionStandstill: The ContactLineSystem must have at most one permissionChargingElectricEnergyTractionStandstill defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:permissionChargingElectricEnergyTractionStandstill ;

    sh:severity sh:Violation .

era-sh:PermissionChargingElectricEnergyTractionStandstillApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:permissionChargingElectricEnergyTractionStandstill ;
    era:scope "local" ;

    rdfs:comment "Applicable when the ContactLineSystem is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "permissionChargingElectricEnergyTractionStandstill: This error is due to the ContactLineSystem violating the rule: must have defined permissionChargingElectricEnergyTractionStandstill when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:permissionChargingElectricEnergyTractionStandstill ?value } .
        # Check if the ContactLineSystem requires defined permissionChargingElectricEnergyTractionStandstill when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PermitUseReflectivePlates a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:permitUseReflectivePlates ;
    era:rinfIndex "1.1.1.1.7.12" ;
    era:scope "local" ;

    rdfs:comment "Sections where it is permitted to use the reflective plates on rail freight corridors, with a view to prioritise the current bottlenecks."@en ;
    # Source: ontology comment for permitUseReflectivePlates

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "permitUseReflectivePlates: The CommonCharacteristicsSubset must have at most one permitUseReflectivePlates defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:permitUseReflectivePlates ;

    sh:severity sh:Violation .

era-sh:PermitUseReflectivePlatesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:permitUseReflectivePlates ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "permitUseReflectivePlates: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined permitUseReflectivePlates when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:permitUseReflectivePlates ?value } .
        # Check if the CommonCharacteristicsSubset requires defined permitUseReflectivePlates when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PermittedContactForce a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:permittedContactForce ; 
    era:rinfIndex "1.1.1.2.5.2" ; 
    era:scope "local" ;

    rdfs:comment "Indication of contact force allowed expressed in newtons."@en ; 
    # Source: ontology comment for permittedContactForce

    sh:datatype xsd:string ; 
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "permittedContactForce: The CommonCharacteristicsSubset must have at most one permittedContactForce defined as a string."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a string literal

    sh:path era:permittedContactForce ;

    sh:severity sh:Violation .

era-sh:PermittedContactForceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:permittedContactForce ; 
    era:scope "local" ;

    rdfs:comment "Applicable when the value 'Overhead contact line (OCL)' is selected for parameter 1.1.1.2.2.1."@en ; 
    # Source: RAG explanation on applicability

    sh:message "permittedContactForce: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined permittedContactForce when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:permittedContactForce ?value } .
        # Check if the CommonCharacteristicsSubset requires defined permittedContactForce when applicable
        FILTER EXISTS { ?param era:parameterValue "Overhead contact line (OCL)" . }
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PhaseInfoChangeSupplySystem a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoChangeSupplySystem ;
    era:scope "local" ;

    rdfs:comment "Part of the phase info of a track that corresponds to the single selection of Y=yes or N=no to show if the energy supply system changes."@en ;
    # Source: ontology comment for phaseInfoChangeSupplySystem

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "phaseInfoChangeSupplySystem: The PhaseInfo must have at most one phaseInfoChangeSupplySystem defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:phaseInfoChangeSupplySystem ;

    sh:severity sh:Violation .

era-sh:PhaseInfoChangeSupplySystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoChangeSupplySystem ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PhaseInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "phaseInfoChangeSupplySystem: This error is due to the PhaseInfo violating the rule: must have defined phaseInfoChangeSupplySystem when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?phaseInfoLabel WHERE {
        $this rdfs:label ?phaseInfoLabel .
        FILTER NOT EXISTS { $this era:phaseInfoChangeSupplySystem ?value } .
        # Check if the PhaseInfo requires defined phaseInfoChangeSupplySystem when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PhaseInfoDistanceType a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoDistanceType ;
    era:scope "local" ;

    rdfs:comment "Part of the phase info of a track that corresponds to the single selection of 'MIN=minimum' or 'MAX=maximum' to show whether the length is a minimum distance between the inner contact strips of the pantographs or a maximum distance between the outer contact strips of the pantographs. Multiple strings for this parameter are accepted."@en ;
    # Source: ontology comment for phaseInfoDistanceType

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "phaseInfoDistanceType: The PhaseInfo must have at most one phaseInfoDistanceType defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:phaseInfoDistanceType ;

    sh:severity sh:Violation .

era-sh:PhaseInfoDistanceTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoDistanceType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PhaseInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "phaseInfoDistanceType: This error is due to the PhaseInfo violating the rule: must have defined phaseInfoDistanceType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?phaseInfoLabel WHERE {
        $this rdfs:label ?phaseInfoLabel .
        FILTER NOT EXISTS { $this era:phaseInfoDistanceType ?value } .
        # Check if the PhaseInfo requires defined phaseInfoDistanceType when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PhaseInfoKm a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoKm ;
    era:scope "local" ;

    rdfs:comment "Part of the phase info of a track that indicates the location from the start of the line where the new value is valid."@en ;
    # Source: ontology comment for phaseInfoKm

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the distance cannot be negative as it represents a physical location along the track

    sh:message "phaseInfoKm: The PhaseInfo must have at most one phaseInfoKm defined as a non-negative double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:phaseInfoKm ;

    sh:severity sh:Violation .

era-sh:PhaseInfoKmApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoKm ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PhaseInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "phaseInfoKm: This error is due to the PhaseInfo violating the rule: must have defined phaseInfoKm when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?phaseInfoLabel WHERE {
        $this rdfs:label ?phaseInfoLabel .
        FILTER NOT EXISTS { $this era:phaseInfoKm ?value } .
        # Check if the PhaseInfo requires defined phaseInfoKm when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PhaseInfoLength a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoLength ;
    era:scope "local" ;

    rdfs:comment "Part of the phase info of a track that corresponds to the length of the phase separation in metres."@en ;
    # Source: ontology comment for phaseInfoLength

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the length cannot be negative as it represents a physical measurement

    sh:message "phaseInfoLength: The PhaseInfo must have at most one phaseInfoLength defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:phaseInfoLength ;

    sh:severity sh:Violation .

era-sh:PhaseInfoLengthApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoLength ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PhaseInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "phaseInfoLength: This error is due to the PhaseInfo violating the rule: must have defined phaseInfoLength when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?phaseInfoLabel WHERE {
        $this rdfs:label ?phaseInfoLabel .
        FILTER NOT EXISTS { $this era:phaseInfoLength ?value } .
        # Check if the PhaseInfo requires defined phaseInfoLength when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PhaseInfoPantographLowered a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoPantographLowered ;
    era:scope "local" ;

    rdfs:comment "Part of the phase info of a track that shows whether a pantograph has to be lowered."@en ;
    # Source: ontology comment for phaseInfoPantographLowered

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "phaseInfoPantographLowered: The PhaseInfo must have at most one phaseInfoPantographLowered defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:phaseInfoPantographLowered ;

    sh:severity sh:Violation .

era-sh:PhaseInfoPantographLoweredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoPantographLowered ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PhaseInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "phaseInfoPantographLowered: This error is due to the PhaseInfo violating the rule: must have defined phaseInfoPantographLowered when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?phaseInfoLabel WHERE {
        $this rdfs:label ?phaseInfoLabel .
        FILTER NOT EXISTS { $this era:phaseInfoPantographLowered ?value } .
        # Check if the PhaseInfo requires defined phaseInfoPantographLowered when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PhaseInfoSwitchOffBreaker a sh:PropertyShape ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoSwitchOffBreaker ;
    era:scope "local" ;

    rdfs:comment "Part of the phase info of a track that shows whether the breaker has to be switched off."@en ;
    # Source: ontology comment for phaseInfoSwitchOffBreaker

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "phaseInfoSwitchOffBreaker: The PhaseInfo must have at most one phaseInfoSwitchOffBreaker defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:phaseInfoSwitchOffBreaker ;

    sh:severity sh:Violation .

era-sh:PhaseInfoSwitchOffBreakerApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PhaseInfo ;
    era:affectedProperty era:phaseInfoSwitchOffBreaker ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PhaseInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "phaseInfoSwitchOffBreaker: This error is due to the PhaseInfo violating the rule: must have defined phaseInfoSwitchOffBreaker when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?phaseInfoLabel WHERE {
        $this rdfs:label ?phaseInfoLabel .
        FILTER NOT EXISTS { $this era:phaseInfoSwitchOffBreaker ?value } .
        # Check if the PhaseInfo requires defined phaseInfoSwitchOffBreaker when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PlatformId a sh:PropertyShape ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:platformId ;
    era:rinfIndex "1.2.1.0.6.2" ;
    era:scope "local" ;

    rdfs:comment "Unique platform identification or unique platform number within an Operational Point."@en ;
    # Source: RAG definition for platformId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "platformId: The PlatformEdge must have at most one platformId defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:platformId ;

    sh:severity sh:Violation .

era-sh:PlatformIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PlatformEdge ;
    era:affectedProperty era:platformId ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PlatformEdge is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "platformId: This error is due to the PlatformEdge violating the rule: must have defined platformId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?platformLabel WHERE {
        $this rdfs:label ?platformLabel .
        FILTER NOT EXISTS { $this era:platformId ?value } .
        # Check if the PlatformEdge requires defined platformId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PortableBoardingAids a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:portableBoardingAids ;
    era:rinfIndex "4.12.3.3" ;
    era:scope "local" ;

    rdfs:comment "Description of any portable boarding aids if considered in the design of the vehicle for meeting the PRM TSI requirements."@en ;
    # Source: ontology comment for portableBoardingAids

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "portableBoardingAids: The VehicleType must have at most one portableBoardingAids defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:portableBoardingAids ;

    sh:severity sh:Violation .

era-sh:PortableBoardingAidsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:portableBoardingAids ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "portableBoardingAids: This error is due to the VehicleType violating the rule: must have defined portableBoardingAids when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:portableBoardingAids ?value } .
        # Check if the VehicleType requires defined portableBoardingAids when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PreventRegenerativeBrakeUse a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:preventRegenerativeBrakeUse ;
    era:rinfIndex "4.7.4.3.2" ;
    era:scope "local" ;

    rdfs:comment "Possibility of preventing the use of the regenerative brake (only if fitted with regenerative brake)."@en ;
    # Source: ontology comment for preventRegenerativeBrakeUse

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "preventRegenerativeBrakeUse: The VehicleType must have at most one preventRegenerativeBrakeUse defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:preventRegenerativeBrakeUse ;

    sh:severity sh:Violation .

era-sh:PreventRegenerativeBrakeUseApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:preventRegenerativeBrakeUse ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "preventRegenerativeBrakeUse: This error is due to the VehicleType violating the rule: must have defined preventRegenerativeBrakeUse when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:preventRegenerativeBrakeUse ?value } .
        # Check if the VehicleType requires defined preventRegenerativeBrakeUse when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PrimaryLocationCode a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:primaryLocationCode ;
    era:rinfIndex "1.2.0.0.0.3" ;
    era:scope "local" ;

    rdfs:comment "Primary location code developed for information exchange in accordance with the TSIs relating to the telematics applications subsystem."@en ;
    # Source: ontology comment for primaryLocationCode

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[A-Z]{2}[0-9]{5}$" ;
    # Inferred: Primary location codes follow the pattern of two letters for the country code and five digits for the location code as per RAG reference

    sh:message "primaryLocationCode: The PrimaryLocation must have at most one primaryLocationCode defined as a string following the pattern [AANNNNN]."@en ;
    # Source: inferred from the nature of the property and RAG definition

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:primaryLocationCode ;

    sh:severity sh:Violation .

era-sh:PrimaryLocationCodeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:primaryLocationCode ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PrimaryLocation is defined; a primary location code must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "primaryLocationCode: This error is due to the PrimaryLocation violating the rule: must have defined primaryLocationCode when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:primaryLocationCode ?value } .
        # Check if the PrimaryLocation requires defined primaryLocationCode when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PrimaryLocationName a sh:PropertyShape ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:primaryLocationName ;
    era:scope "local" ;

    rdfs:comment "Name of the primary location, typically related to the town or village or for traffic control purposes."@en ;
    # Source: ontology comment for primaryLocationName

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "primaryLocationName: The PrimaryLocation must have at most one primaryLocationName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:primaryLocationName ;

    sh:severity sh:Violation .

era-sh:PrimaryLocationNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:PrimaryLocation ;
    era:affectedProperty era:primaryLocationName ;
    era:scope "local" ;

    rdfs:comment "Applicable when the PrimaryLocation is defined; a primary location name must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "primaryLocationName: This error is due to the PrimaryLocation violating the rule: must have defined primaryLocationName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:primaryLocationName ?value } .
        # Check if the PrimaryLocation requires defined primaryLocationName when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PrioritySeats a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:prioritySeats ;
    era:scope "local" ;

    rdfs:comment "Number of priority seats."@en ;
    # Source: ontology comment for prioritySeats

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "prioritySeats: The VehicleType must have at most one prioritySeats defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:prioritySeats ;

    sh:severity sh:Violation .

era-sh:PrioritySeatsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:prioritySeats ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "prioritySeats: This error is due to the VehicleType violating the rule: must have defined prioritySeats when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:prioritySeats ?value } .
        # Check if the VehicleType requires defined prioritySeats when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PrmAccessibleToilets a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:prmAccessibleToilets ;
    era:scope "local" ;

    rdfs:comment "Number of PRM accessible toilets."@en ;
    # Source: ontology comment for prmAccessibleToilets

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the number of toilets cannot be negative

    sh:message "prmAccessibleToilets: The VehicleType must have at most one prmAccessibleToilets defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:prmAccessibleToilets ;

    sh:severity sh:Violation .

era-sh:PrmAccessibleToiletsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:prmAccessibleToilets ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "prmAccessibleToilets: This error is due to the VehicleType violating the rule: must have defined prmAccessibleToilets when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:prmAccessibleToilets ?value } .
        # Check if the VehicleType requires defined prmAccessibleToilets when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PublicNetworkRoaming a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoaming ;
    era:rinfIndex "1.1.1.3.3.6" ;
    era:scope "local" ;

    rdfs:comment "Existence of roaming to a public network. In case of Y, provide the name of the public network(s) under parameter 'Details on GSM-R roaming to public networks'."@en ;
    # Source: ontology comment for publicNetworkRoaming

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "publicNetworkRoaming: The RunningTrack must have at most one publicNetworkRoaming defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:publicNetworkRoaming ;

    sh:severity sh:Violation .

era-sh:PublicNetworkRoamingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoaming ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RunningTrack is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "publicNetworkRoaming: This error is due to the RunningTrack violating the rule: must have defined publicNetworkRoaming when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:publicNetworkRoaming ?value } .
        # Check if the RunningTrack requires defined publicNetworkRoaming when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:PublicNetworkRoamingDetails a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoamingDetails ;
    era:rinfIndex "1.1.1.3.3.7" ;
    era:scope "local" ;

    rdfs:comment "If roaming to public networks is configured, please indicate to which networks, for which users and in which areas."@en ;
    # Source: ontology comment for publicNetworkRoamingDetails

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "publicNetworkRoamingDetails: The RunningTrack must have at most one publicNetworkRoamingDetails defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:publicNetworkRoamingDetails ;

    sh:severity sh:Violation .

era-sh:PublicNetworkRoamingDetailsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:publicNetworkRoamingDetails ;
    era:scope "local" ;

    rdfs:comment "Applicable if the answer to parameter 1.1.1.3.3.6 / Existence of roaming to public networks is ‘Y’."@en ;
    # Source: RAG explanation on applicability

    sh:message "publicNetworkRoamingDetails: This error is due to the RunningTrack violating the rule: must have defined publicNetworkRoamingDetails when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:publicNetworkRoamingDetails ?value } .
        # Check if the RunningTrack requires defined publicNetworkRoamingDetails when applicable
        FILTER EXISTS { $this era:publicNetworkRoaming "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:QNvsbtsmperm a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:qNvsbtsmperm ;
    era:scope "local" ;

    rdfs:comment "Permission to use service brake in target speed monitoring."@en ;
    # Source: ontology comment for qNvsbtsmperm

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "qNvsbtsmperm: The CommonCharacteristicsSubset must have at most one qNvsbtsmperm defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:qNvsbtsmperm ;

    sh:severity sh:Violation .

era-sh:QNvsbtsmpermApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:qNvsbtsmperm ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "qNvsbtsmperm: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined qNvsbtsmperm when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:qNvsbtsmperm ?value } .
        # Check if the CommonCharacteristicsSubset requires defined qNvsbtsmperm when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:QuasiStaticGuidingForce a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:quasiStaticGuidingForce ;
    era:rinfIndex "4.5.4" ;
    era:scope "local" ;

    rdfs:comment "Quasi-static guiding force (if exceeds the limit defined in TSI or not defined in the TSI), given in kN."@en ;
    # Source: ontology comment for quasiStaticGuidingForce

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "quasiStaticGuidingForce: The VehicleType must have at most one quasiStaticGuidingForce defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:quasiStaticGuidingForce ;

    sh:severity sh:Violation .

era-sh:QuasiStaticGuidingForceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:quasiStaticGuidingForce ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "quasiStaticGuidingForce: This error is due to the VehicleType violating the rule: must have defined quasiStaticGuidingForce when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:quasiStaticGuidingForce ?value } .
        # Check if the VehicleType requires defined quasiStaticGuidingForce when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RadioNetworkId a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:radioNetworkId ;
    era:rinfIndex "1.1.1.3.3.12" ;
    era:scope "local" ;

    rdfs:comment "Unique identification of the GSM-R network the calling mobile station has to register with."@en ;
    # Source: ontology comment for radioNetworkId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[0-9]{6}$" ;
    # Inferred: the format note suggests a six-digit numeric string

    sh:message "radioNetworkId: The CommonCharacteristicsSubset must have at most one radioNetworkId defined as a string following the pattern of six digits."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:radioNetworkId ;

    sh:severity sh:Violation .

era-sh:RadioNetworkIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:radioNetworkId ;
    era:scope "local" ;

    rdfs:comment "Applicable when the GSM-R must be installed; a value must be provided."@en ;
    # Source: dependency note indicates GSM-R must be installed for applicability

    sh:message "radioNetworkId: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined radioNetworkId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:radioNetworkId ?value } .
        # Check if the CommonCharacteristicsSubset requires defined radioNetworkId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RadioSwitchOverSpecialConditions a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:radioSwitchOverSpecialConditions ;
    era:rinfIndex "4.13.2.4" ;
    era:scope "local" ;

    rdfs:comment "Special conditions implemented on-board to switch over between different radio systems. Given as combination of systems installed on board ('System XX'_'System YY')."@en ;
    # Source: ontology comment for radioSwitchOverSpecialConditions

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "radioSwitchOverSpecialConditions: The VehicleType must have at most one radioSwitchOverSpecialConditions defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:radioSwitchOverSpecialConditions ;

    sh:severity sh:Violation .

era-sh:RadioSwitchOverSpecialConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:radioSwitchOverSpecialConditions ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "radioSwitchOverSpecialConditions: This error is due to the VehicleType violating the rule: must have defined radioSwitchOverSpecialConditions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:radioSwitchOverSpecialConditions ?value } .
        # Check if the VehicleType requires defined radioSwitchOverSpecialConditions when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RailSystemType a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:railSystemType ;
    era:scope "local" ;

    rdfs:comment "(deprecated) Type of railway system. Can be 'High-speed' or 'Conventional'. Deprecated due to the lack of information."@en ;
    # Source: ontology comment for railSystemType

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:in ( "High-speed" "Conventional" ) ;
    # Source: inferred from the comment indicating possible values

    sh:message "railSystemType: The CommonCharacteristicsSubset must have at most one railSystemType defined as a string, which must be either 'High-speed' or 'Conventional'."@en ;
    # Source: inferred from the nature of the property and comment

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:railSystemType ;

    sh:severity sh:Violation .

era-sh:RailSystemTypeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:railSystemType ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a rail system type must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "railSystemType: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined railSystemType when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:railSystemType ?value } .
        # Check if the CommonCharacteristicsSubset requires defined railSystemType when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RaisedPantographsDistance a sh:PropertyShape ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsDistance ;
    era:scope "local" ;

    rdfs:comment "Part of the raised pantographs distance and speed of a track that corresponds to the minimum distance between pantographs, in metres."@en ;
    # Source: ontology comment for raisedPantographsDistance

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the distance cannot be negative, as it represents a physical measurement

    sh:message "raisedPantographsDistance: The RaisedPantographsDistanceAndSpeed must have at most one raisedPantographsDistance defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:raisedPantographsDistance ;

    sh:severity sh:Violation .

era-sh:RaisedPantographsDistanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsDistance ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RaisedPantographsDistanceAndSpeed is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "raisedPantographsDistance: This error is due to the RaisedPantographsDistanceAndSpeed violating the rule: must have defined raisedPantographsDistance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?distanceLabel WHERE {
        $this rdfs:label ?distanceLabel .
        FILTER NOT EXISTS { $this era:raisedPantographsDistance ?value } .
        # Check if the RaisedPantographsDistanceAndSpeed requires defined raisedPantographsDistance when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RaisedPantographsNumber a sh:PropertyShape ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsNumber ;
    era:scope "local" ;

    rdfs:comment "Part of the raised pantographs distance and speed of a track that corresponds to the number of pantographs."@en ;
    # Source: ontology comment for raisedPantographsNumber

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the number of pantographs cannot be negative, as it represents a count

    sh:message "raisedPantographsNumber: The RaisedPantographsDistanceAndSpeed must have at most one raisedPantographsNumber defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:raisedPantographsNumber ;

    sh:severity sh:Violation .

era-sh:RaisedPantographsNumberApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsNumber ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RaisedPantographsDistanceAndSpeed is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "raisedPantographsNumber: This error is due to the RaisedPantographsDistanceAndSpeed violating the rule: must have defined raisedPantographsNumber when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?distanceSpeedLabel WHERE {
        $this rdfs:label ?distanceSpeedLabel .
        FILTER NOT EXISTS { $this era:raisedPantographsNumber ?value } .
        # Check if the RaisedPantographsDistanceAndSpeed requires defined raisedPantographsNumber when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RaisedPantographsSpeed a sh:PropertyShape ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsSpeed ;
    era:scope "local" ;

    rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minimum spacing centre line to centre line of adjacent pantograph heads, expressed in metres, at the given speed."@en ;
    # Source: ontology comment for raisedPantographsSpeed

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the speed cannot be negative, as it represents a physical measurement

    sh:message "raisedPantographsSpeed: The RaisedPantographsDistanceAndSpeed must have at most one raisedPantographsSpeed defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:raisedPantographsSpeed ;

    sh:severity sh:Violation .

era-sh:RaisedPantographsSpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RaisedPantographsDistanceAndSpeed ;
    era:affectedProperty era:raisedPantographsSpeed ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RaisedPantographsDistanceAndSpeed is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "raisedPantographsSpeed: This error is due to the RaisedPantographsDistanceAndSpeed violating the rule: must have defined raisedPantographsSpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?speedLabel WHERE {
        $this rdfs:label ?speedLabel .
        FILTER NOT EXISTS { $this era:raisedPantographsSpeed ?value } .
        # Check if the RaisedPantographsDistanceAndSpeed requires defined raisedPantographsSpeed when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RbcID a sh:PropertyShape ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:rbcID ;
    era:rinfIndex "1.1.1.3.2.17" ;
    era:scope "local" ;

    rdfs:comment "Unique RBC identification (NID_C+NID_RBC) as defined in the specification referenced in Appendix A-1, index [C] (TSI CCS)."@en ;
    # Source: ontology comment for rbcID

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[0-9]{4}$" ;
    # Inferred: the format note suggests a four-digit numeric string

    sh:message "rbcID: The RadioBlockCenter must have at most one rbcID defined as a string following the pattern of four digits."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:rbcID ;

    sh:severity sh:Violation .

era-sh:RbcIDApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:rbcID ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RadioBlockCenter is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "rbcID: This error is due to the RadioBlockCenter violating the rule: must have defined rbcID when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?rbcLabel WHERE {
        $this rdfs:label ?rbcLabel .
        FILTER NOT EXISTS { $this era:rbcID ?value } .
        # Check if the RadioBlockCenter requires defined rbcID when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RbcPhone a sh:PropertyShape ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:rbcPhone ;
    era:rinfIndex "1.1.1.3.2.17" ;
    era:scope "local" ;

    rdfs:comment "Unique RBC calling number (NID_RADIO) as defined in the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for rbcPhone

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[0-9]{4,15}$" ;
    # Inferred: the format note suggests a numeric string of 4 to 15 digits

    sh:message "rbcPhone: The RadioBlockCenter must have at most one rbcPhone defined as a string following the pattern of 4 to 15 digits."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:rbcPhone ;

    sh:severity sh:Violation .

era-sh:RbcPhoneApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RadioBlockCenter ;
    era:affectedProperty era:rbcPhone ;
    era:scope "local" ;

    rdfs:comment "Applicable when the RadioBlockCenter is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "rbcPhone: This error is due to the RadioBlockCenter violating the rule: must have defined rbcPhone when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?rbcLabel WHERE {
        $this rdfs:label ?rbcLabel .
        FILTER NOT EXISTS { $this era:rbcPhone ?value } .
        # Check if the RadioBlockCenter requires defined rbcPhone when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RedLightsRequired a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:redLightsRequired ;
    era:rinfIndex "1.1.1.1.7.10" ;
    era:scope "local" ;

    rdfs:comment "Sections where two steady red lights are required in accordance with TSI OPE."@en ;
    # Source: ontology comment for redLightsRequired

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "redLightsRequired: The CommonCharacteristicsSubset must have at most one redLightsRequired defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:redLightsRequired ;

    sh:severity sh:Violation .

era-sh:RedLightsRequiredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:redLightsRequired ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "redLightsRequired: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined redLightsRequired when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:redLightsRequired ?value } .
        # Check if the CommonCharacteristicsSubset requires defined redLightsRequired when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ReferencePassByNoiseLevel a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:referencePassByNoiseLevel ;
    era:rinfIndex "4.11.2" ;
    era:scope "local" ;

    rdfs:comment "Pass-by noise level was measured under reference conditions."@en ;
    # Source: ontology comment for referencePassByNoiseLevel

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "referencePassByNoiseLevel: The VehicleType must have at most one referencePassByNoiseLevel defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:referencePassByNoiseLevel ;

    sh:severity sh:Violation .

era-sh:ReferencePassByNoiseLevelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:referencePassByNoiseLevel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "referencePassByNoiseLevel: This error is due to the VehicleType violating the rule: must have defined referencePassByNoiseLevel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:referencePassByNoiseLevel ?value } .
        # Check if the VehicleType requires defined referencePassByNoiseLevel when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RelativeDistanceDangerPoint a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:relativeDistanceDangerPoint ;
    era:rinfIndex "1.1.1.3.14.4" ;
    era:scope "local" ;

    rdfs:comment "Distance in meters to the danger point."@en ;
    # Source: ontology comment for relativeDistanceDangerPoint

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:minInclusive 0 ;
    # Inferred: the distance cannot be negative, as it represents a physical measurement

    sh:message "relativeDistanceDangerPoint: The Signal must have at most one relativeDistanceDangerPoint defined as a non-negative integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:relativeDistanceDangerPoint ;

    sh:severity sh:Violation .

era-sh:RelativeDistanceDangerPointApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:relativeDistanceDangerPoint ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Signal is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "relativeDistanceDangerPoint: This error is due to the Signal violating the rule: must have defined relativeDistanceDangerPoint when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?signalLabel WHERE {
        $this rdfs:label ?signalLabel .
        FILTER NOT EXISTS { $this era:relativeDistanceDangerPoint ?value } .
        # Check if the Signal requires defined relativeDistanceDangerPoint when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:RequiredSandingOverride a sh:PropertyShape ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:requiredSandingOverride ;
    era:scope "local" ;

    rdfs:comment "Indication whether possibility to activate/deactivate sanding devices by driver, according to instructions from the Infrastructure Manager, is required or not."@en ;
    # Source: ontology comment for requiredSandingOverride

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "requiredSandingOverride: The TrainDetectionSystem must have at most one requiredSandingOverride defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:requiredSandingOverride ;

    sh:severity sh:Violation .

era-sh:RequiredSandingOverrideApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:TrainDetectionSystem ;
    era:affectedProperty era:requiredSandingOverride ;
    era:scope "local" ;

    rdfs:comment "Applicable when the TrainDetectionSystem is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "requiredSandingOverride: This error is due to the TrainDetectionSystem violating the rule: must have defined requiredSandingOverride when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trainDetectionSystemLabel WHERE {
        $this rdfs:label ?trainDetectionSystemLabel .
        FILTER NOT EXISTS { $this era:requiredSandingOverride ?value } .
        # Check if the TrainDetectionSystem requires defined requiredSandingOverride when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SchematicOverviewOP a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:schematicOverviewOP ;
    era:scope "local" ;

    rdfs:comment "Document providing the schematic overview of the operational point."@en ;
    # Source: ontology comment for schematicOverviewOP

    sh:datatype xsd:anyURI ;
    # Source: ontology range indicates it must be a URI

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "schematicOverviewOP: The OperationalPoint must have at most one schematicOverviewOP defined as a URI."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:IRI ;
    # Implied: expected to be an IRI

    sh:path era:schematicOverviewOP ;

    sh:severity sh:Violation .

era-sh:SchematicOverviewOPApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:schematicOverviewOP ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "schematicOverviewOP: This error is due to the OperationalPoint violating the rule: must have defined schematicOverviewOP when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:schematicOverviewOP ?value } .
        # Check if the OperationalPoint requires defined schematicOverviewOP when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ShortestDistanceBetweenPantographsInContactWithOCL a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:shortestDistanceBetweenPantographsInContactWithOCL ;
    era:rinfIndex "4.10.8" ;
    era:scope "local" ;

    rdfs:comment "Shortest distance between two pantographs in contact with the OCL, to be indicated for each energy supply system the vehicle is equipped for; to be indicated for single and, if applicable, multiple operation."@en ;
    # Source: ontology comment for shortestDistanceBetweenPantographsInContactWithOCL

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "shortestDistanceBetweenPantographsInContactWithOCL: The VehicleType must have at most one shortestDistanceBetweenPantographsInContactWithOCL defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:shortestDistanceBetweenPantographsInContactWithOCL ;

    sh:severity sh:Violation .

era-sh:ShortestDistanceBetweenPantographsInContactWithOCLApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:shortestDistanceBetweenPantographsInContactWithOCL ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "shortestDistanceBetweenPantographsInContactWithOCL: This error is due to the VehicleType violating the rule: must have defined shortestDistanceBetweenPantographsInContactWithOCL when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:shortestDistanceBetweenPantographsInContactWithOCL ?value } .
        # Check if the VehicleType requires defined shortestDistanceBetweenPantographsInContactWithOCL when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SidingId a sh:PropertyShape ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:sidingId ;
    era:scope "local" ;

    rdfs:comment "Unique siding identification or unique siding number within an Operational Point."@en ;
    # Source: ontology comment for sidingId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "sidingId: The Siding must have at most one sidingId defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:sidingId ;

    sh:severity sh:Violation .

era-sh:SidingIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Siding ;
    era:affectedProperty era:sidingId ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Siding is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "sidingId: This error is due to the Siding violating the rule: must have defined sidingId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sidingLabel WHERE {
        $this rdfs:label ?sidingLabel .
        FILTER NOT EXISTS { $this era:sidingId ?value } .
        # Check if the Siding requires defined sidingId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SignalId a sh:PropertyShape ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalId ;
    era:scope "local" ;

    rdfs:comment "Identifier of signal."@en ;
    # Source: ontology comment for signalId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[A-Za-z0-9_]+$" ;
    # Inferred: the identifier likely consists of alphanumeric characters and underscores

    sh:message "signalId: The Signal must have at most one signalId defined as a string following the pattern of alphanumeric characters or underscores."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:signalId ;

    sh:severity sh:Violation .

era-sh:SignalIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Signal ;
    era:affectedProperty era:signalId ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Signal is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "signalId: This error is due to the Signal violating the rule: must have defined signalId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?signalLabel WHERE {
        $this rdfs:label ?signalLabel .
        FILTER NOT EXISTS { $this era:signalId ?value } .
        # Check if the Signal requires defined signalId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SleepingPlaces a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:sleepingPlaces ;
    era:rinfIndex "4.12.1.3" ;
    era:scope "local" ;

    rdfs:comment "Number of sleeping places."@en ;
    # Source: ontology comment for sleepingPlaces

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "sleepingPlaces: The VehicleType must have at most one sleepingPlaces defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:sleepingPlaces ;

    sh:severity sh:Violation .

era-sh:SleepingPlacesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:sleepingPlaces ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "sleepingPlaces: This error is due to the VehicleType violating the rule: must have defined sleepingPlaces when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:sleepingPlaces ?value } .
        # Check if the VehicleType requires defined sleepingPlaces when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SpecificInformation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:specificInformation ; 
    era:rinfIndex "1.1.1.1.3.5.1" ; 
    era:scope "local" ; 

    rdfs:comment "Any relevant information from the IM relating to the line layout."@en ; 
    # Source: ontology comment for specificInformation

    sh:datatype xsd:string ; 
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "specificInformation: The CommonCharacteristicsSubset must have at most one specificInformation defined as a string."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a string literal

    sh:path era:specificInformation ; 

    sh:severity sh:Violation .

era-sh:SpecificInformationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:specificInformation ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ; 
    # Source: inferred from context and usage of the property

    sh:message "specificInformation: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined specificInformation when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:specificInformation ?value } .
        # Check if the CommonCharacteristicsSubset requires defined specificInformation when applicable
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:StartOffsetFromOrigin a sh:PropertyShape ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:startOffsetFromOrigin ;
    era:scope "local" ;

    rdfs:comment "Start offset of the section from the origin."@en ;
    # Source: ontology comment for startOffsetFromOrigin

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "startOffsetFromOrigin: The LinearElementSection must have at most one startOffsetFromOrigin defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:startOffsetFromOrigin ;

    sh:severity sh:Violation .

era-sh:StartOffsetFromOriginApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:LinearElementSection ;
    era:affectedProperty era:startOffsetFromOrigin ;
    era:scope "local" ;

    rdfs:comment "Applicable when the LinearElementSection is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "startOffsetFromOrigin: This error is due to the LinearElementSection violating the rule: must have defined startOffsetFromOrigin when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?sectionLabel WHERE {
        $this rdfs:label ?sectionLabel .
        FILTER NOT EXISTS { $this era:startOffsetFromOrigin ?value } .
        # Check if the LinearElementSection requires defined startOffsetFromOrigin when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StartingNoiseLevel a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:startingNoiseLevel ;
    era:rinfIndex "4.11.4" ;
    era:scope "local" ;

    rdfs:comment "Starting noise level given in dB(A)."@en ;
    # Source: ontology comment for startingNoiseLevel

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "startingNoiseLevel: The VehicleType must have at most one startingNoiseLevel defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:startingNoiseLevel ;

    sh:severity sh:Violation .

era-sh:StartingNoiseLevelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:startingNoiseLevel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "startingNoiseLevel: This error is due to the VehicleType violating the rule: must have defined startingNoiseLevel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:startingNoiseLevel ?value } .
        # Check if the VehicleType requires defined startingNoiseLevel when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StaticAxleLoadExceptionalPayload a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:staticAxleLoadExceptionalPayload ;
    era:rinfIndex "4.5.3.3" ;
    era:scope "local" ;

    rdfs:comment "Static axle load under exceptional payload."@en ;
    # Source: ontology comment for staticAxleLoadExceptionalPayload

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "staticAxleLoadExceptionalPayload: The VehicleType must have at most one staticAxleLoadExceptionalPayload defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:staticAxleLoadExceptionalPayload ;

    sh:severity sh:Violation .

era-sh:StaticAxleLoadExceptionalPayloadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:staticAxleLoadExceptionalPayload ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "staticAxleLoadExceptionalPayload: This error is due to the VehicleType violating the rule: must have defined staticAxleLoadExceptionalPayload when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:staticAxleLoadExceptionalPayload ?value } .
        # Check if the VehicleType requires defined staticAxleLoadExceptionalPayload when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StaticAxleLoadNormalPayload a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:staticAxleLoadNormalPayload ;
    era:rinfIndex "4.5.3.2" ;
    era:scope "local" ;

    rdfs:comment "Static axle load under normal payload."@en ;
    # Source: ontology comment for staticAxleLoadNormalPayload

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "staticAxleLoadNormalPayload: The VehicleType must have at most one staticAxleLoadNormalPayload defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:staticAxleLoadNormalPayload ;

    sh:severity sh:Violation .

era-sh:StaticAxleLoadNormalPayloadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:staticAxleLoadNormalPayload ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "staticAxleLoadNormalPayload: This error is due to the VehicleType violating the rule: must have defined staticAxleLoadNormalPayload when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:staticAxleLoadNormalPayload ?value } .
        # Check if the VehicleType requires defined staticAxleLoadNormalPayload when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StaticAxleLoadWorkingOrder a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:staticAxleLoadWorkingOrder ;
    era:rinfIndex "4.5.3.1" ;
    era:scope "local" ;

    rdfs:comment "Static axle load in working order."@en ;
    # Source: ontology comment for staticAxleLoadWorkingOrder

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "staticAxleLoadWorkingOrder: The VehicleType must have at most one staticAxleLoadWorkingOrder defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:staticAxleLoadWorkingOrder ;

    sh:severity sh:Violation .

era-sh:StaticAxleLoadWorkingOrderApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:staticAxleLoadWorkingOrder ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "staticAxleLoadWorkingOrder: This error is due to the VehicleType violating the rule: must have defined staticAxleLoadWorkingOrder when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:staticAxleLoadWorkingOrder ?value } .
        # Check if the VehicleType requires defined staticAxleLoadWorkingOrder when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StationaryNoiseLevel a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:stationaryNoiseLevel ;
    era:rinfIndex "4.11.3" ;
    era:scope "local" ;

    rdfs:comment "Stationary noise level given in dB(A)."@en ;
    # Source: ontology comment for stationaryNoiseLevel

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "stationaryNoiseLevel: The VehicleType must have at most one stationaryNoiseLevel defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:stationaryNoiseLevel ;

    sh:severity sh:Violation .

era-sh:StationaryNoiseLevelApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:stationaryNoiseLevel ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "stationaryNoiseLevel: This error is due to the VehicleType violating the rule: must have defined stationaryNoiseLevel when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:stationaryNoiseLevel ?value } .
        # Check if the VehicleType requires defined stationaryNoiseLevel when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StructuralCategory a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:structuralCategory ;
    era:rinfIndex "4.1.10" ;
    era:scope "local" ;

    rdfs:comment "Structural category."@en ;
    # Source: ontology comment for structuralCategory

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "structuralCategory: The VehicleType must have at most one structuralCategory defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:structuralCategory ;

    sh:severity sh:Violation .

era-sh:StructuralCategoryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:structuralCategory ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "structuralCategory: This error is due to the VehicleType violating the rule: must have defined structuralCategory when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleTypeLabel WHERE {
        $this rdfs:label ?vehicleTypeLabel .
        FILTER NOT EXISTS { $this era:structuralCategory ?value } .
        # Check if the VehicleType requires defined structuralCategory when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:StructureCheckLocation a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:structureCheckLocation ; 
    era:rinfIndex "1.1.1.1.2.4.3" ; 
    era:scope "local" ; 

    rdfs:comment "Localisation of structures requiring specific checks."@en ; 
    # Source: ontology comment for structureCheckLocation

    sh:datatype xsd:double ; 
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:pattern "^[+-]?\\d+(\\.\\d{1,3})?$" ; 
    # Inferred: the location is expressed in kilometers with a precision of 0.001

    sh:message "structureCheckLocation: The CommonCharacteristicsSubset must have at most one structureCheckLocation defined as a double following the pattern of [±NNNN.NNN]."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a double literal

    sh:path era:structureCheckLocation ; 

    sh:severity sh:Violation .

era-sh:StructureCheckLocationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:structureCheckLocation ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ; 
    # Source: inferred from context and usage of the property

    sh:message "structureCheckLocation: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined structureCheckLocation when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:structureCheckLocation ?value } .
        # Check if the CommonCharacteristicsSubset requires defined structureCheckLocation when applicable
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:SubsetName a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:subsetName ;
    era:scope "local" ;

    rdfs:comment "A subset of elements with common characteristics could be identified with a unique name/id."@en ;
    # Source: ontology comment for subsetName

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "subsetName: The CommonCharacteristicsSubset must have at most one subsetName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:subsetName ;

    sh:severity sh:Violation .

era-sh:SubsetNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:subsetName ;
    era:scope "local" ;

    rdfs:comment "Applicable when the CommonCharacteristicsSubset is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "subsetName: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined subsetName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:subsetName ?value } .
        # Check if the CommonCharacteristicsSubset requires defined subsetName when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SubsidiaryLocationCode a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationCode ;
    era:scope "local" ;

    rdfs:comment "The numeric code for the subsidiary location."@en ;
    # Source: ontology comment for subsidiaryLocationCode

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "subsidiaryLocationCode: The SubsidiaryLocation must have at most one subsidiaryLocationCode defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:subsidiaryLocationCode ;

    sh:severity sh:Violation .

era-sh:SubsidiaryLocationCodeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationCode ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SubsidiaryLocation is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "subsidiaryLocationCode: This error is due to the SubsidiaryLocation violating the rule: must have defined subsidiaryLocationCode when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:subsidiaryLocationCode ?value } .
        # Check if the SubsidiaryLocation requires defined subsidiaryLocationCode when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SubsidiaryLocationName a sh:PropertyShape ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationName ;
    era:scope "local" ;

    rdfs:comment "The common name given to the subsidiary location."@en ;
    # Source: ontology comment for subsidiaryLocationName

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "subsidiaryLocationName: The SubsidiaryLocation must have at most one subsidiaryLocationName defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:subsidiaryLocationName ;

    sh:severity sh:Violation .

era-sh:SubsidiaryLocationNameApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SubsidiaryLocation ;
    era:affectedProperty era:subsidiaryLocationName ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SubsidiaryLocation is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "subsidiaryLocationName: This error is due to the SubsidiaryLocation violating the rule: must have defined subsidiaryLocationName when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?locationLabel WHERE {
        $this rdfs:label ?locationLabel .
        FILTER NOT EXISTS { $this era:subsidiaryLocationName ?value } .
        # Check if the SubsidiaryLocation requires defined subsidiaryLocationName when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SwitchProtectControlWarning a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:switchProtectControlWarning ; 
    era:rinfIndex "1.1.1.3.8.1" ; 
    era:scope "local" ; 

    rdfs:comment "Indication whether a switch over between different systems whilst running exists."@en ; 
    # Source: ontology comment for switchProtectControlWarning

    sh:datatype xsd:boolean ; 
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "switchProtectControlWarning: The CommonCharacteristicsSubset must have at most one switchProtectControlWarning defined as a boolean."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a boolean literal

    sh:path era:switchProtectControlWarning ; 

    sh:severity sh:Violation .

era-sh:SwitchProtectControlWarningApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:switchProtectControlWarning ; 
    era:scope "local" ; 

    rdfs:comment "Applicable when at least two different protection, control and warning systems exist."@en ; 
    # Source: dependency note in ontology

    sh:message "switchProtectControlWarning: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined switchProtectControlWarning when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:switchProtectControlWarning ?value } .
        # Check if the CommonCharacteristicsSubset requires defined switchProtectControlWarning when applicable
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:SwitchRadioSystem a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:switchRadioSystem ;
    era:rinfIndex "1.1.1.3.8.2" ;
    era:scope "local" ;

    rdfs:comment "Indication whether a switch over between different radio systems and no communication system whilst running exists."@en ;
    # Source: ontology comment for switchRadioSystem

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "switchRadioSystem: The CommonCharacteristicsSubset must have at most one switchRadioSystem defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:switchRadioSystem ;

    sh:severity sh:Violation .

era-sh:SwitchRadioSystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:switchRadioSystem ;
    era:scope "local" ;

    rdfs:comment "Applicable when at least two different radio systems exist."@en ;
    # Source: dependency note in ontology

    sh:message "switchRadioSystem: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined switchRadioSystem when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:switchRadioSystem ?value } .
        # Check if the CommonCharacteristicsSubset requires defined switchRadioSystem when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoChangeSupplySystem a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoChangeSupplySystem ;
    era:scope "local" ;

    rdfs:comment "Part of the system separation info of a track that shows whether the supply system has to be changed."@en ;
    # Source: ontology comment for systemSeparationInfoChangeSupplySystem

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "systemSeparationInfoChangeSupplySystem: The SystemSeparationInfo must have at most one systemSeparationInfoChangeSupplySystem defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:systemSeparationInfoChangeSupplySystem ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoChangeSupplySystemApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoChangeSupplySystem ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SystemSeparationInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "systemSeparationInfoChangeSupplySystem: This error is due to the SystemSeparationInfo violating the rule: must have defined systemSeparationInfoChangeSupplySystem when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemSeparationInfoLabel WHERE {
        $this rdfs:label ?systemSeparationInfoLabel .
        FILTER NOT EXISTS { $this era:systemSeparationInfoChangeSupplySystem ?value } .
        # Check if the SystemSeparationInfo requires defined systemSeparationInfoChangeSupplySystem when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoKm a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoKm ;
    era:scope "local" ;

    rdfs:comment "Part of the system separation info of a track. Indicates the location from the start of the line where the new value is valid."@en ;
    # Source: ontology comment for systemSeparationInfoKm

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "systemSeparationInfoKm: The SystemSeparationInfo must have at most one systemSeparationInfoKm defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:systemSeparationInfoKm ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoKmApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoKm ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SystemSeparationInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "systemSeparationInfoKm: This error is due to the SystemSeparationInfo violating the rule: must have defined systemSeparationInfoKm when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemSeparationInfoLabel WHERE {
        $this rdfs:label ?systemSeparationInfoLabel .
        FILTER NOT EXISTS { $this era:systemSeparationInfoKm ?value } .
        # Check if the SystemSeparationInfo requires defined systemSeparationInfoKm when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoLength a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoLength ;
    era:scope "local" ;

    rdfs:comment "Part of the system separation info of a track that shows the length of the system separation in metres."@en ;
    # Source: ontology comment for systemSeparationInfoLength

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "systemSeparationInfoLength: The SystemSeparationInfo must have at most one systemSeparationInfoLength defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:systemSeparationInfoLength ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoLengthApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoLength ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SystemSeparationInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "systemSeparationInfoLength: This error is due to the SystemSeparationInfo violating the rule: must have defined systemSeparationInfoLength when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemSeparationInfoLabel WHERE {
        $this rdfs:label ?systemSeparationInfoLabel .
        FILTER NOT EXISTS { $this era:systemSeparationInfoLength ?value } .
        # Check if the SystemSeparationInfo requires defined systemSeparationInfoLength when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoPantographLowered a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoPantographLowered ;
    era:scope "local" ;

    rdfs:comment "Part of the system separation info of a track that shows whether the pantograph has to be lowered."@en ;
    # Source: ontology comment for systemSeparationInfoPantographLowered

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "systemSeparationInfoPantographLowered: The SystemSeparationInfo must have at most one systemSeparationInfoPantographLowered defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:systemSeparationInfoPantographLowered ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoPantographLoweredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoPantographLowered ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SystemSeparationInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "systemSeparationInfoPantographLowered: This error is due to the SystemSeparationInfo violating the rule: must have defined systemSeparationInfoPantographLowered when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemSeparationInfoLabel WHERE {
        $this rdfs:label ?systemSeparationInfoLabel .
        FILTER NOT EXISTS { $this era:systemSeparationInfoPantographLowered ?value } .
        # Check if the SystemSeparationInfo requires defined systemSeparationInfoPantographLowered when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoSwitchOffBreaker a sh:PropertyShape ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoSwitchOffBreaker ;
    era:scope "local" ;

    rdfs:comment "Part of the system separation info of a track that shows whether the breaker has to be switched off."@en ;
    # Source: ontology comment for systemSeparationInfoSwitchOffBreaker

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "systemSeparationInfoSwitchOffBreaker: The SystemSeparationInfo must have at most one systemSeparationInfoSwitchOffBreaker defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:systemSeparationInfoSwitchOffBreaker ;

    sh:severity sh:Violation .

era-sh:SystemSeparationInfoSwitchOffBreakerApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:SystemSeparationInfo ;
    era:affectedProperty era:systemSeparationInfoSwitchOffBreaker ;
    era:scope "local" ;

    rdfs:comment "Applicable when the SystemSeparationInfo is defined; a value must be provided."@en ;
    # Source: inferred from context and usage of the property

    sh:message "systemSeparationInfoSwitchOffBreaker: This error is due to the SystemSeparationInfo violating the rule: must have defined systemSeparationInfoSwitchOffBreaker when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?systemSeparationInfoLabel WHERE {
        $this rdfs:label ?systemSeparationInfoLabel .
        FILTER NOT EXISTS { $this era:systemSeparationInfoSwitchOffBreaker ?value } .
        # Check if the SystemSeparationInfo requires defined systemSeparationInfoSwitchOffBreaker when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TNvcontact a sh:PropertyShape ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:tNvcontact ;
    era:rinfIndex "1.1.1.3.2.16.8" ; 
    era:scope "local" ;

    rdfs:comment "Maximum time without a safe message from Radio Block Center before train reacts in seconds. According to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for tNvcontact

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tNvcontact: The MaximumSpeedAndCantDeficiency must have at most one tNvcontact defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:tNvcontact ;

    sh:severity sh:Violation .

era-sh:TNvcontactApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:tNvcontact ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present; a value must be provided."@en ;
    # Source: dependency note in ontology

    sh:message "tNvcontact: This error is due to the MaximumSpeedAndCantDeficiency violating the rule: must have defined tNvcontact when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?parameterLabel WHERE {
        $this rdfs:label ?parameterLabel .
        FILTER NOT EXISTS { $this era:tNvcontact ?value } .
        # Check if the MaximumSpeedAndCantDeficiency requires defined tNvcontact when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TNvovtrp a sh:PropertyShape ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:tNvovtrp ;
    era:rinfIndex "1.1.1.3.2.16.6" ;
    era:scope "local" ;

    rdfs:comment "Maximum time for overriding the train trip in seconds. According to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for tNvovtrp

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tNvovtrp: The MaximumSpeedAndCantDeficiency must have at most one tNvovtrp defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:tNvovtrp ;

    sh:severity sh:Violation .

era-sh:TNvovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:tNvovtrp ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present; a value must be provided."@en ;
    # Source: dependency note in ontology

    sh:message "tNvovtrp: This error is due to the MaximumSpeedAndCantDeficiency violating the rule: must have defined tNvovtrp when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?parameterLabel WHERE {
        $this rdfs:label ?parameterLabel .
        FILTER NOT EXISTS { $this era:tNvovtrp ?value } .
        # Check if the MaximumSpeedAndCantDeficiency requires defined tNvovtrp when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TAFTAPCode a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:tafTAPCode ;
    era:scope "local" ;

    rdfs:comment "Primary code developed for TAF/TAP, indicating the specific operational point."@en ;
    # Source: ontology comment for tafTAPCode

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tafTAPCode: The OperationalPoint must have at most one tafTAPCode defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Z]{2}[0-9]{5}$" ;
    # Inferred: based on RAG definition that states the format is two letters for the Country Code and five numbers for the Location Code

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:tafTAPCode ;

    sh:severity sh:Violation .

era-sh:TAFTAPCodeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:tafTAPCode ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint has a defined TAF TAP primary code."@en ;
    # Source: inferred from context and usage of the property

    sh:message "tafTAPCode: This error is due to the OperationalPoint violating the rule: must have defined tafTAPCode when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:tafTAPCode ?value } .
        # Check if the OperationalPoint requires defined tafTAPCode when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TENGISId a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ; 
    era:affectedProperty era:tenGISId ; 
    era:rinfIndex "1.1.1.1.2.1.2" ; 
    era:scope "local" ; 

    rdfs:comment "Indication of the GIS identity (GIS ID) of the section of TEN-T database to which the track belongs."@en ; 
    # Source: ontology comment for tenGISId

    sh:datatype xsd:string ; 
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ; 
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tenGISId: The RunningTrack must have at most one tenGISId defined as a string."@en ; 
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ; 
    # Implied: expected to be a string literal

    sh:path era:tenGISId ; 

    sh:severity sh:Violation .

era-sh:TENGISIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ; 
    era:affectedProperty era:tenGISId ; 
    era:scope "local" ; 

    rdfs:comment "Applicable if the answer to parameter 1.1.1.1.2.1 is not off TEN."@en ; 
    # Source: RAG applicability note

    sh:message "tenGISId: This error is due to the RunningTrack violating the rule: must have defined tenGISId when applicable."@en ; 

    sh:prefixes era: ; 

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:tenGISId ?value } .
        # Check if the RunningTrack requires defined tenGISId when applicable
    }
    """ ; 

    sh:severity sh:Violation .

era-sh:ThermalCapacityDistance a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityDistance ;
    era:rinfIndex "4.7.2.1.4" ;
    era:scope "local" ;

    rdfs:comment "Thermal capacity distance. If no reference case is indicated."@en ;
    # Source: ontology comment for thermalCapacityDistance

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "thermalCapacityDistance: The VehicleType must have at most one thermalCapacityDistance defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:thermalCapacityDistance ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityDistanceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityDistance ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has defined thermal capacity distance."@en ;
    # Source: inferred from context and usage of the property

    sh:message "thermalCapacityDistance: This error is due to the VehicleType violating the rule: must have defined thermalCapacityDistance when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:thermalCapacityDistance ?value } .
        # Check if the VehicleType requires defined thermalCapacityDistance when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityGradient a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityGradient ;
    era:rinfIndex "4.7.2.1.3" ;
    era:scope "local" ;

    rdfs:comment "Thermal capacity gradient. If no reference case is indicated."@en ;
    # Source: ontology comment for thermalCapacityGradient

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "thermalCapacityGradient: The VehicleType must have at most one thermalCapacityGradient defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:thermalCapacityGradient ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityGradientApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityGradient ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has defined thermal capacity gradient."@en ;
    # Source: inferred from context and usage of the property

    sh:message "thermalCapacityGradient: This error is due to the VehicleType violating the rule: must have defined thermalCapacityGradient when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:thermalCapacityGradient ?value } .
        # Check if the VehicleType requires defined thermalCapacityGradient when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ThermalCapacitySpeed a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacitySpeed ;
    era:rinfIndex "4.7.2.1.2" ;
    era:scope "local" ;

    rdfs:comment "Thermal capacity speed. If no reference case is indicated."@en ;
    # Source: ontology comment for thermalCapacitySpeed

    sh:datatype xsd:double ;
    # Source: ontology range indicates it must be a double

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "thermalCapacitySpeed: The VehicleType must have at most one thermalCapacitySpeed defined as a double."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a double literal

    sh:path era:thermalCapacitySpeed ;

    sh:severity sh:Violation .

era-sh:ThermalCapacitySpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacitySpeed ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has defined thermal capacity speed."@en ;
    # Source: inferred from context and usage of the property

    sh:message "thermalCapacitySpeed: This error is due to the VehicleType violating the rule: must have defined thermalCapacitySpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:thermalCapacitySpeed ?value } .
        # Check if the VehicleType requires defined thermalCapacitySpeed when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityTime a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityTime ;
    era:rinfIndex "4.7.2.1.5" ;
    era:scope "local" ;

    rdfs:comment "Thermal capacity time. If no reference case is indicated."@en ;
    # Source: ontology comment for thermalCapacityTime

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "thermalCapacityTime: The VehicleType must have at most one thermalCapacityTime defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:thermalCapacityTime ;

    sh:severity sh:Violation .

era-sh:ThermalCapacityTimeApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:thermalCapacityTime ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has defined thermal capacity time."@en ;
    # Source: inferred from context and usage of the property

    sh:message "thermalCapacityTime: This error is due to the VehicleType violating the rule: must have defined thermalCapacityTime when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:thermalCapacityTime ?value } .
        # Check if the VehicleType requires defined thermalCapacityTime when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TotalVehicleMass a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:totalVehicleMass ;
    era:rinfIndex "4.5.5" ;
    era:scope "local" ;

    rdfs:comment "Total vehicle mass (for each vehicle of the unit), given in kg."@en ;
    # Source: ontology comment for totalVehicleMass

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "totalVehicleMass: The VehicleType must have at most one totalVehicleMass defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:totalVehicleMass ;

    sh:severity sh:Violation .

era-sh:TotalVehicleMassApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:totalVehicleMass ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has defined total vehicle mass."@en ;
    # Source: inferred from context and usage of the property

    sh:message "totalVehicleMass: This error is due to the VehicleType violating the rule: must have defined totalVehicleMass when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:totalVehicleMass ?value } .
        # Check if the VehicleType requires defined totalVehicleMass when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrackId a sh:PropertyShape ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackId ;
    era:scope "local" ;

    rdfs:comment "Unique track identification or unique track number within operational point or section of line."@en ;
    # Source: ontology comment for trackId

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "trackId: The RunningTrack must have at most one trackId defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Za-z0-9]+$" ;
    # Inferred: expected format for track identifier (alphanumeric)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:trackId ;

    sh:severity sh:Violation .

era-sh:TrackIdApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:RunningTrack ;
    era:affectedProperty era:trackId ;
    era:scope "local" ;

    rdfs:comment "Each track shall have unique identification or number within the Section of Line. This number cannot be used for naming any other track in the same SoL."@en ;
    # Source: RAG applicability note

    sh:message "trackId: This error is due to the RunningTrack violating the rule: must have defined trackId when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?trackLabel WHERE {
        $this rdfs:label ?trackLabel .
        FILTER NOT EXISTS { $this era:trackId ?value } .
        # Check if the RunningTrack requires defined trackId when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrainControlSwitchOverSpecialConditions a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:trainControlSwitchOverSpecialConditions ;
    era:rinfIndex "4.13.1.6" ;
    era:scope "local" ;

    rdfs:comment "Special conditions implemented on-board to switch over between different train protection control and warning systems. Given as combination of systems installed on board ('System XX'_'System YY')."@en ;
    # Source: ontology comment for trainControlSwitchOverSpecialConditions

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "trainControlSwitchOverSpecialConditions: The VehicleType must have at most one trainControlSwitchOverSpecialConditions defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Za-z0-9_]+_[A-Za-z0-9_]+$" ;
    # Inferred: format implies a combination of system identifiers with an underscore

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:trainControlSwitchOverSpecialConditions ;

    sh:severity sh:Violation .

era-sh:TrainControlSwitchOverSpecialConditionsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:trainControlSwitchOverSpecialConditions ;
    era:scope "local" ;

    rdfs:comment "Applicable when at least two different protection, control and warning systems exist."@en ;
    # Source: RAG applicability note

    sh:message "trainControlSwitchOverSpecialConditions: This error is due to the VehicleType violating the rule: must have defined trainControlSwitchOverSpecialConditions when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:trainControlSwitchOverSpecialConditions ?value } .
        # Check if the VehicleType requires defined trainControlSwitchOverSpecialConditions when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TrainIntegrityOnBoardRequired a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:trainIntegrityOnBoardRequired ;
    era:rinfIndex "1.1.1.3.2.8" ;
    era:scope "local" ;

    rdfs:comment "Indication whether train confirmation from on-board is required to access the line for safety reasons."@en ;
    # Source: ontology comment for trainIntegrityOnBoardRequired

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string (Y/N/NYA)

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "trainIntegrityOnBoardRequired: The CommonCharacteristicsSubset must have at most one trainIntegrityOnBoardRequired defined as Y/N/NYA."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^(Y|N|NYA)$" ;
    # Inferred: based on RAG definition that states the format is Y/N/NYA

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:trainIntegrityOnBoardRequired ;

    sh:severity sh:Violation .

era-sh:TrainIntegrityOnBoardRequiredApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:trainIntegrityOnBoardRequired ;
    era:scope "local" ;

    rdfs:comment "Applicable when the selected value for parameter 1.1.1.3.2.1 is ‘3’."@en ;
    # Source: RAG applicability note

    sh:message "trainIntegrityOnBoardRequired: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined trainIntegrityOnBoardRequired when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:trainIntegrityOnBoardRequired ?value } .
        # Check if the CommonCharacteristicsSubset requires defined trainIntegrityOnBoardRequired when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TransportableOnFerry a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:transportableOnFerry ;
    era:scope "local" ;

    rdfs:comment "Indicates the suitability for transport on ferries."@en ;
    # Source: ontology comment for transportableOnFerry

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "transportableOnFerry: The VehicleType must have at most one transportableOnFerry defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:transportableOnFerry ;

    sh:severity sh:Violation .

era-sh:TransportableOnFerryApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:transportableOnFerry ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType is assessed for suitability for transport on ferries."@en ;
    # Source: inferred from context and usage of the property

    sh:message "transportableOnFerry: This error is due to the VehicleType violating the rule: must have defined transportableOnFerry when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:transportableOnFerry ?value } .
        # Check if the VehicleType requires defined transportableOnFerry when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSIMagneticFields a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiMagneticFields ;
    era:rinfIndex "1.1.1.3.9.1" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules exist and are compliant with the TSI for magnetic fields emitted by a vehicle."@en ;
    # Source: ontology comment for tsiMagneticFields

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tsiMagneticFields: The CommonCharacteristicsSubset must have at most one tsiMagneticFields defined as Y/N/NYA."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^(Y|N|NYA)$" ;
    # Inferred: based on RAG definition that states the format is Y/N/NYA

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:tsiMagneticFields ;

    sh:severity sh:Violation .

era-sh:TSIMagneticFieldsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiMagneticFields ;
    era:scope "local" ;

    rdfs:comment "Applicable when the selected option for parameter 1.1.1.3.7.1 is ‘wheel detector’."@en ;
    # Source: RAG applicability note

    sh:message "tsiMagneticFields: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined tsiMagneticFields when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:tsiMagneticFields ?value } .
        # Check if the CommonCharacteristicsSubset requires defined tsiMagneticFields when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSISwitchCrossing a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiSwitchCrossing ;
    era:rinfIndex "1.1.1.1.5.1" ;
    era:scope "local" ;

    rdfs:comment "Switches and crossings are maintained to in service limit dimension as specified in TSI."@en ;
    # Source: ontology comment for tsiSwitchCrossing

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tsiSwitchCrossing: The CommonCharacteristicsSubset must have at most one tsiSwitchCrossing defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:tsiSwitchCrossing ;

    sh:severity sh:Violation .

era-sh:TSISwitchCrossingApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiSwitchCrossing ;
    era:scope "local" ;

    rdfs:comment "Applicable when the switches and crossings are maintained to in service limit dimension as specified in TSI."@en ;
    # Source: inferred from context and usage of the property

    sh:message "tsiSwitchCrossing: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined tsiSwitchCrossing when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:tsiSwitchCrossing ?value } .
        # Check if the CommonCharacteristicsSubset requires defined tsiSwitchCrossing when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TSITractionHarmonics a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiTractionHarmonics ;
    era:rinfIndex "1.1.1.3.9.2" ;
    era:scope "local" ;

    rdfs:comment "Indication whether rules exist and are compliant with the TSI for traction harmonics."@en ;
    # Source: ontology comment for tsiTractionHarmonics

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tsiTractionHarmonics: The CommonCharacteristicsSubset must have at most one tsiTractionHarmonics defined as Y/N/NYA."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^(Y|N|NYA)$" ;
    # Inferred: based on RAG definition that states the format is Y/N/NYA

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:tsiTractionHarmonics ;

    sh:severity sh:Violation .

era-sh:TSITractionHarmonicsApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:tsiTractionHarmonics ;
    era:scope "local" ;

    rdfs:comment "Applicable when the selected option for parameter 1.1.1.3.7.1 is ‘wheel detector’ or ‘track circuit’."@en ;
    # Source: RAG applicability note

    sh:message "tsiTractionHarmonics: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined tsiTractionHarmonics when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:tsiTractionHarmonics ?value } .
        # Check if the CommonCharacteristicsSubset requires defined tsiTractionHarmonics when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TunnelIdentification a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:tunnelIdentification ;
    era:rinfIndex "1.2.2.0.5.2" ;
    era:scope "local" ;

    rdfs:comment "Unique tunnel identification or unique number within Member State."@en ;
    # Source: RAG definition for tunnel identification

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "tunnelIdentification: The Tunnel must have at most one tunnelIdentification defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:tunnelIdentification ;

    sh:severity sh:Violation .

era-sh:TunnelIdentificationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:tunnelIdentification ;
    era:scope "local" ;

    rdfs:comment "Applicable when the Tunnel requires a unique identification or number."@en ;
    # Source: RAG applicability note

    sh:message "tunnelIdentification: This error is due to the Tunnel violating the rule: must have defined tunnelIdentification when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:tunnelIdentification ?value } .
        # Check if the Tunnel requires defined tunnelIdentification when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:TypeVersionNumber a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:typeVersionNumber ;
    era:scope "local" ;

    rdfs:comment "Serial number that identifies a vehicle type."@en ;
    # Source: ontology comment for typeVersionNumber

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "typeVersionNumber: The VehicleType must have at most one typeVersionNumber defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:typeVersionNumber ;

    sh:severity sh:Violation .

era-sh:TypeVersionNumberApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:typeVersionNumber ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has a defined type version number."@en ;
    # Source: inferred from context and usage of the property

    sh:message "typeVersionNumber: This error is due to the VehicleType violating the rule: must have defined typeVersionNumber when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:typeVersionNumber ?value } .
        # Check if the VehicleType requires defined typeVersionNumber when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Umax2 a sh:PropertyShape ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:umax2 ;
    era:rinfIndex "1.1.1.2.2.1.3" ;
    era:scope "local" ;

    rdfs:comment "Highest non-permanent voltage (Umax2) for France on lines not compliant with values defined in the EN50163:2004+A1:2007+A2:2020+A3:2022."@en ;
    # Source: ontology comment for umax2

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "umax2: The ContactLineSystem must have at most one umax2 defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:umax2 ;

    sh:severity sh:Violation .

era-sh:Umax2Applicability a sh:SPARQLConstraint ;
    era:affectedClass era:ContactLineSystem ;
    era:affectedProperty era:umax2 ;
    era:scope "local" ;

    rdfs:comment "Applicable when the selected value for parameter 1.1.1.2.2.1.1 is not 'not electrified'."@en ;
    # Source: RAG applicability note regarding applicability

    sh:message "umax2: This error is due to the ContactLineSystem violating the rule: must have defined umax2 when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?contactLineLabel WHERE {
        $this rdfs:label ?contactLineLabel .
        FILTER NOT EXISTS { $this era:umax2 ?value } .
        # Check if the ContactLineSystem requires defined umax2 when applicable
        FILTER EXISTS { $this era:applicable "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:Uopid a sh:PropertyShape ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:uopid ;
    era:scope "local" ;

    rdfs:comment "Code composed of country code and alphanumeric operational point code."@en ;
    # Source: ontology comment for uopid

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "uopid: The OperationalPoint must have at most one uopid defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Z]{2}[A-Za-z0-9]{1,10}$" ;
    # Inferred: expected format for uopid (2-letter country code followed by up to 10 alphanumeric characters)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:uopid ;

    sh:severity sh:Violation .

era-sh:UopidApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:OperationalPoint ;
    era:affectedProperty era:uopid ;
    era:scope "local" ;

    rdfs:comment "Applicable when the OperationalPoint requires a unique OP ID."@en ;
    # Source: inferred from applicability notes in RAG

    sh:message "uopid: This error is due to the OperationalPoint violating the rule: must have defined uopid when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?opLabel WHERE {
        $this rdfs:label ?opLabel .
        FILTER NOT EXISTS { $this era:uopid ?value } .
        # Check if the OperationalPoint requires defined uopid when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:UsesGroup555 a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:usesGroup555 ;
    era:rinfIndex "4.13.2.12" ;
    era:scope "local" ;

    rdfs:comment "Indication if group 555 is used."@en ;
    # Source: ontology comment for usesGroup555

    sh:datatype xsd:boolean ;
    # Source: ontology range indicates it must be a boolean

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "usesGroup555: The CommonCharacteristicsSubset must have at most one usesGroup555 defined as a boolean."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a boolean literal

    sh:path era:usesGroup555 ;

    sh:severity sh:Violation .

era-sh:UsesGroup555Applicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:usesGroup555 ;
    era:scope "local" ;

    rdfs:comment "Applicable when GSM-R and ETCS L2 must be installed for this parameter to be applicable."@en ;
    # Source: RAG applicability note

    sh:message "usesGroup555: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined usesGroup555 when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:usesGroup555 ?value } .
        # Check if the CommonCharacteristicsSubset requires defined usesGroup555 when applicable
        FILTER NOT EXISTS { $this era:dependencyNote "GSM-R and ETCS L2 must be installed for this parameter to be applicable." } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VNallowovtrp a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vNvallowovtrp ;
    era:rinfIndex "1.1.1.3.2.16.3" ;
    era:scope "local" ;

    rdfs:comment "Speed limit allowing the driver to select the override function in km/h according to the specification referenced in Appendix A-1, index [C]."@en ;
    # Source: ontology comment for vNvallowovtrp

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string (format: NNF)

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vNvallowovtrp: The CommonCharacteristicsSubset must have at most one vNvallowovtrp defined as NNF."@en ;
    # Inferred from the nature of the property and its functional requirement

    sh:pattern "^(\\d{2}[05])$|^(600)$" ;
    # Inferred: format must be a decimal number divisible by 5, max value 600

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vNvallowovtrp ;

    sh:severity sh:Violation .

era-sh:VNallowovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vNvallowovtrp ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present and a value is provided."@en ;
    # Source: dependency note from the ontology

    sh:message "vNvallowovtrp: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined vNvallowovtrp when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:vNvallowovtrp ?value } .
        # Check if the CommonCharacteristicsSubset requires defined vNvallowovtrp when ETCS is present
        FILTER EXISTS { $this era:etcsPresent "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VNvsupovtrp a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vNvsupovtrp ;
    era:rinfIndex "1.1.1.3.2.16.4" ;
    era:scope "local" ;

    rdfs:comment "Override speed limit to be supervised when the 'override' function is active in km/h."@en ;
    # Source: ontology comment for vNvsupovtrp

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vNvsupovtrp: The CommonCharacteristicsSubset must have at most one vNvsupovtrp defined as a string in the format NNF."@en ;
    # Inferred from the nature of the property and its functional requirement

    sh:pattern "^(\\d{2}[05])$|^(600)$" ;
    # Inferred: format must be a decimal number divisible by 5, max value 600

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vNvsupovtrp ;

    sh:severity sh:Violation .

era-sh:VNvsupovtrpApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:vNvsupovtrp ;
    era:scope "local" ;

    rdfs:comment "Applicable when ETCS is present and a value has to be provided."@en ;
    # Source: dependency note from the ontology

    sh:message "vNvsupovtrp: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined vNvsupovtrp when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:vNvsupovtrp ?value } .
        # Check if the CommonCharacteristicsSubset requires defined vNvsupovtrp when ETCS is present
        FILTER EXISTS { $this era:etcsPresent "Y" } .
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ValidityEndDate a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:validityEndDate ;
    era:scope "local" ;

    rdfs:comment "The date indicating the end of validity for the associated infrastructure element."@en ;
    # Source: inferred from the purpose of the validityEndDate property

    sh:datatype xsd:date ;
    # Source: ontology range indicates it must be a date

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "validityEndDate: The InfrastructureElement must have at most one validityEndDate defined as a date."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a date literal

    sh:path era:validityEndDate ;

    sh:severity sh:Violation .

era-sh:ValidityEndDateApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:validityEndDate ;
    era:scope "local" ;

    rdfs:comment "Applicable for InfrastructureElements when a future validity date is specified."@en ;
    # Source: RAG indicates that validityEndDate may be applied to various infrastructure elements

    sh:message "validityEndDate: This error is due to the InfrastructureElement violating the rule: must have defined validityEndDate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:validityEndDate ?value } .
        # Check if the InfrastructureElement requires defined validityEndDate when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:ValidityStartDate a sh:PropertyShape ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:validityStartDate ;
    era:scope "local" ;

    rdfs:comment "The date indicating the start of validity for the associated infrastructure element."@en ;
    # Source: inferred from the purpose of the validityStartDate property

    sh:datatype xsd:date ;
    # Source: ontology range indicates it must be a date

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "validityStartDate: The InfrastructureElement must have at most one validityStartDate defined as a date."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a date literal

    sh:path era:validityStartDate ;

    sh:severity sh:Violation .

era-sh:ValidityStartDateApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:InfrastructureElement ;
    era:affectedProperty era:validityStartDate ;
    era:scope "local" ;

    rdfs:comment "Applicable for InfrastructureElements when a future validity date is specified."@en ;
    # Source: RAG indicates that validityStartDate may be applied to various infrastructure elements

    sh:message "validityStartDate: This error is due to the InfrastructureElement violating the rule: must have defined validityStartDate when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:validityStartDate ?value } .
        # Check if the InfrastructureElement requires defined validityStartDate when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleContactForce a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleContactForce ;
    era:rinfIndex "4.10.15" ;
    era:scope "local" ;

    rdfs:comment "Mean contact force."@en ;
    # Source: ontology comment for vehicleContactForce

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleContactForce: The VehicleType must have at most one vehicleContactForce defined as an integer."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:vehicleContactForce ;

    sh:severity sh:Violation .

era-sh:VehicleContactForceApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleContactForce ;
    era:scope "local" ;

    rdfs:comment "Applicable when the contact force is specified for the vehicle type."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehicleContactForce: This error is due to the VehicleType violating the rule: must have defined vehicleContactForce when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleContactForce ?value } .
        # Check if the VehicleType requires defined vehicleContactForce when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleKinematicGaugeOther a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleKinematicGaugeOther ;
    era:rinfIndex "4.2.2" ;
    era:scope "local" ;

    rdfs:comment "Vehicle kinematic gauge that corresponds to other gauges assessed using the kinematic method."@en ;
    # Source: ontology comment for vehicleKinematicGaugeOther

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleKinematicGaugeOther: The VehicleType must have at most one vehicleKinematicGaugeOther defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vehicleKinematicGaugeOther ;

    sh:severity sh:Violation .

era-sh:VehicleKinematicGaugeOtherApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleKinematicGaugeOther ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has a defined kinematic gauge other than standard."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehicleKinematicGaugeOther: This error is due to the VehicleType violating the rule: must have defined vehicleKinematicGaugeOther when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleKinematicGaugeOther ?value } .
        # Check if the VehicleType requires defined vehicleKinematicGaugeOther when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleMaxSandingOutput a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleMaxSandingOutput ;
    era:rinfIndex "4.14.2.13" ;
    era:scope "local" ;

    rdfs:comment "Vehicle Maximum sanding output, given in grams per second."@en ;
    # Source: ontology comment for vehicleMaxSandingOutput

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleMaxSandingOutput: The VehicleType must have at most one vehicleMaxSandingOutput defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[0-9]+(\\.[0-9]+)?$" ;
    # Inferred: expected format for maximum sanding output (numeric, potentially decimal)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vehicleMaxSandingOutput ;

    sh:severity sh:Violation .

era-sh:VehicleMaxSandingOutputApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehicleMaxSandingOutput ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type has a defined maximum sanding output."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehicleMaxSandingOutput: This error is due to the VehicleType violating the rule: must have defined vehicleMaxSandingOutput when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehicleMaxSandingOutput ?value } .
        # Check if the VehicleType requires defined vehicleMaxSandingOutput when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleNumber a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:vehicleNumber ;
    era:scope "local" ;

    rdfs:comment "Identification number of a vehicle or wagon."@en ;
    # Source: ontology comment for vehicleNumber

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleNumber: The Vehicle must have at most one vehicleNumber defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Za-z0-9-]+$" ;
    # Inferred: expected format for vehicle number (alphanumeric with optional hyphens)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vehicleNumber ;

    sh:severity sh:Violation .

era-sh:VehiclePantographHead a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehiclePantographHead ;
    era:rinfIndex "4.10.6" ;
    era:scope "local" ;

    rdfs:comment "Pantograph head geometry (to be indicated for each energy supply system the vehicle is equipped for)."@en ;
    # Source: ontology comment for vehiclePantographHead

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehiclePantographHead: The VehicleType must have at most one vehiclePantographHead defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Za-z0-9 ]+$" ;
    # Inferred: expected format for pantograph head description (alphanumeric with spaces)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vehiclePantographHead ;

    sh:severity sh:Violation .

era-sh:VehiclePantographHeadApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehiclePantographHead ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has specified pantograph head geometry."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehiclePantographHead: This error is due to the VehicleType violating the rule: must have defined vehiclePantographHead when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehiclePantographHead ?value } .
        # Check if the VehicleType requires defined vehiclePantographHead when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleSeries a sh:PropertyShape ;
    era:affectedClass era:Vehicle ;
    era:affectedProperty era:vehicleSeries ;
    era:scope "local" ;

    rdfs:comment "Manufacturing series of a vehicle."@en ;
    # Source: ontology comment for vehicleSeries

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleSeries: The Vehicle must have at most one vehicleSeries defined as a string."@en ;
    # Inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:vehicleSeries ;

    sh:severity sh:Violation .

era-sh:VehicleTypeMaximumCantDeficiency a sh:PropertyShape ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:vehicleTypeMaximumCantDeficiency ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Part of the combination of maximum speed and maximum cant deficiency for which the vehicle was assessed. Corresponds to the maximum cant deficiency."@en ;
    # Source: ontology comment for vehicleTypeMaximumCantDeficiency

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleTypeMaximumCantDeficiency: The MaximumSpeedAndCantDeficiency must have at most one vehicleTypeMaximumCantDeficiency defined as an integer."@en ;
    # Inferred from the nature of the property and its functional requirement

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:vehicleTypeMaximumCantDeficiency ;

    sh:severity sh:Violation .

era-sh:VehicleTypeMaximumCantDeficiencyApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:vehicleTypeMaximumCantDeficiency ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type has a defined maximum cant deficiency."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehicleTypeMaximumCantDeficiency: This error is due to the MaximumSpeedAndCantDeficiency violating the rule: must have defined vehicleTypeMaximumCantDeficiency when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:vehicleTypeMaximumCantDeficiency ?value } .
        # Check if the MaximumSpeedAndCantDeficiency requires defined vehicleTypeMaximumCantDeficiency when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehicleTypeMaximumSpeed a sh:PropertyShape ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:vehicleTypeMaximumSpeed ;
    era:rinfIndex "4.6.4" ;
    era:scope "local" ;

    rdfs:comment "Part of the combination of maximum speed and maximum cant deficiency for which the vehicle was assessed. Corresponds to the maximum speed."@en ;
    # Source: ontology comment for vehicleTypeMaximumSpeed

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehicleTypeMaximumSpeed: The MaximumSpeedAndCantDeficiency must have at most one vehicleTypeMaximumSpeed defined as an integer."@en ;
    # Inferred from the nature of the property and its functional requirement

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:vehicleTypeMaximumSpeed ;

    sh:severity sh:Violation .

era-sh:VehicleTypeMaximumSpeedApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:MaximumSpeedAndCantDeficiency ;
    era:affectedProperty era:vehicleTypeMaximumSpeed ;
    era:scope "local" ;

    rdfs:comment "Applicable when the vehicle type has a defined maximum speed."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehicleTypeMaximumSpeed: This error is due to the MaximumSpeedAndCantDeficiency violating the rule: must have defined vehicleTypeMaximumSpeed when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?elementLabel WHERE {
        $this rdfs:label ?elementLabel .
        FILTER NOT EXISTS { $this era:vehicleTypeMaximumSpeed ?value } .
        # Check if the MaximumSpeedAndCantDeficiency requires defined vehicleTypeMaximumSpeed when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VehiclesComposingFixedFormation a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehiclesComposingFixedFormation ;
    era:rinfIndex "4.1.12" ;
    era:scope "local" ;

    rdfs:comment "Number of vehicles composing the fixed formation (for fixed formation only). Note: the value is mandatory for all vehicle categories. If the vehicle is composed of only one car, the indicated value shall be '1'."@en ;
    # Source: ontology comment for vehiclesComposingFixedFormation

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "vehiclesComposingFixedFormation: The VehicleType must have at most one vehiclesComposingFixedFormation defined as an integer."@en ;
    # Inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:vehiclesComposingFixedFormation ;

    sh:severity sh:Violation .

era-sh:VehiclesComposingFixedFormationApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:vehiclesComposingFixedFormation ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has a defined number of vehicles composing the fixed formation."@en ;
    # Source: inferred from context and usage of the property

    sh:message "vehiclesComposingFixedFormation: This error is due to the VehicleType violating the rule: must have defined vehiclesComposingFixedFormation when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:vehiclesComposingFixedFormation ?value } .
        # Check if the VehicleType requires defined vehiclesComposingFixedFormation when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VerificationCCS a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ; 
    era:affectedProperty era:verificationCCS ;
    era:rinfIndex "1.1.1.3.1.1" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EC declarations in accordance with Commission Implementing Regulation (EU) 2019/250."@en ;
    # Source: ontology comment for verificationCCS

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "verificationCCS: The CommonCharacteristicsSubset must have at most one verificationCCS defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Z]{2}/[0-9]{13}/[0-9]{4}/[0-9]{6}$" ;
    # Inferred: expected format for verificationCCS (CC/RRRRRRRRRRRRRR/YYYY/NNNNNN)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:verificationCCS ;

    sh:severity sh:Violation .

era-sh:VerificationCCSApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:verificationCCS ;
    era:scope "local" ;

    rdfs:comment "Applicable when the EC declaration of verification is issued for the specified track."@en ;
    # Source: RAG indicates that verificationCCS is applicable when EC declaration is issued

    sh:message "verificationCCS: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined verificationCCS when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:verificationCCS ?value } .
        # Check if the CommonCharacteristicsSubset requires defined verificationCCS when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VerificationENE a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:verificationENE ;
    era:rinfIndex "1.1.1.2.1.1" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EC declarations in accordance with Commission Implementing Regulation (EU) 2019/250."@en ;
    # Source: ontology comment for verificationENE

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "verificationENE: The CommonCharacteristicsSubset must have at most one verificationENE defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Z]{2}/[0-9]{13}/[0-9]{4}/[0-9]{6}$" ;
    # Inferred: expected format for verificationENE (CC/RRRRRRRRRRRRRR/YYYY/NNNNNN)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:verificationENE ;

    sh:severity sh:Violation .

era-sh:VerificationENEApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:verificationENE ;
    era:scope "local" ;

    rdfs:comment "Applicable when the EC declaration of verification is issued for the specified track."@en ;
    # Source: RAG indicates that verificationENE is applicable when EC declaration is issued

    sh:message "verificationENE: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined verificationENE when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:verificationENE ?value } .
        # Check if the CommonCharacteristicsSubset requires defined verificationENE when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VerificationINF a sh:PropertyShape ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:verificationINF ;
    era:rinfIndex "1.1.1.1.1.1" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EC declarations in accordance with Commission Implementing Regulation (EU) 2019/250."@en ;
    # Source: ontology comment for verificationINF

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "verificationINF: The CommonCharacteristicsSubset must have at most one verificationINF defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Z]{2}/[0-9]{13}/[0-9]{4}/[0-9]{6}$" ;
    # Inferred: expected format for verificationINF (CC/RRRRRRRRRRRRRR/YYYY/NNNNNN)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:verificationINF ;

    sh:severity sh:Violation .

era-sh:VerificationINFApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:CommonCharacteristicsSubset ;
    era:affectedProperty era:verificationINF ;
    era:scope "local" ;

    rdfs:comment "Applicable when the EC declaration of verification is issued for the specified infrastructure subsystem."@en ;
    # Source: RAG indicates that verificationINF is applicable when EC declaration is issued

    sh:message "verificationINF: This error is due to the CommonCharacteristicsSubset violating the rule: must have defined verificationINF when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?subsetLabel WHERE {
        $this rdfs:label ?subsetLabel .
        FILTER NOT EXISTS { $this era:verificationINF ?value } .
        # Check if the CommonCharacteristicsSubset requires defined verificationINF when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VerificationSRT a sh:PropertyShape ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:verificationSRT ;
    era:rinfIndex "1.1.1.1.8.5" ;
    era:scope "local" ;

    rdfs:comment "Unique number for EC declarations in accordance with Commission Implementing Regulation (EU) 2019/250."@en ;
    # Source: ontology comment for verificationSRT

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "verificationSRT: The Tunnel must have at most one verificationSRT defined as a string."@en ;
    # Source: inferred from the nature of the property

    sh:pattern "^[A-Z]{2}/[0-9]{13}/[0-9]{4}/[0-9]{6}$" ;
    # Inferred: expected format for verificationSRT (CC/RRRRRRRRRRRRRR/YYYY/NNNNNN)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:verificationSRT ;

    sh:severity sh:Violation .

era-sh:VerificationSRTApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:Tunnel ;
    era:affectedProperty era:verificationSRT ;
    era:scope "local" ;

    rdfs:comment "Applicable when the EC declaration of verification is issued for the tunnel."@en ;
    # Source: inferred from context and usage of the property

    sh:message "verificationSRT: This error is due to the Tunnel violating the rule: must have defined verificationSRT when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?tunnelLabel WHERE {
        $this rdfs:label ?tunnelLabel .
        FILTER NOT EXISTS { $this era:verificationSRT ?value } .
        # Check if the Tunnel requires defined verificationSRT when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:VoiceOperationalCommImpl a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:voiceOperationalCommImpl ;
    era:scope "local" ;

    rdfs:comment "Voice and operational communication implementation."@en ;
    # Source: ontology comment for voiceOperationalCommImpl

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "voiceOperationalCommImpl: The VehicleType must have at most one voiceOperationalCommImpl defined as a string."@en ;
    # Inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:voiceOperationalCommImpl ;

    sh:severity sh:Violation .

era-sh:VoiceOperationalCommImplApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:voiceOperationalCommImpl ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has a defined voice operational communication implementation."@en ;
    # Source: inferred from context and usage of the property

    sh:message "voiceOperationalCommImpl: This error is due to the VehicleType violating the rule: must have defined voiceOperationalCommImpl when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:voiceOperationalCommImpl ?value } .
        # Check if the VehicleType requires defined voiceOperationalCommImpl when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:WheelSetGaugeTransformationMethod a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelSetGaugeTransformationMethod ;
    era:rinfIndex "4.1.3.b" ;
    era:scope "local" ;

    rdfs:comment "Wheel gauge transformation method. Defined if more than one wheel gauges have been selected."@en ;
    # Source: ontology comment for wheelSetGaugeTransformationMethod

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "wheelSetGaugeTransformationMethod: The VehicleType must have at most one wheelSetGaugeTransformationMethod defined as a string."@en ;
    # Inferred from the nature of the property

    sh:pattern "^[A-Za-z0-9 ]+$" ;
    # Inferred: expected format for transformation method description (alphanumeric with spaces)

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:wheelSetGaugeTransformationMethod ;

    sh:severity sh:Violation .

era-sh:WheelSetGaugeTransformationMethodApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelSetGaugeTransformationMethod ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has defined wheel gauge transformation method."@en ;
    # Source: inferred from context and usage of the property

    sh:message "wheelSetGaugeTransformationMethod: This error is due to the VehicleType violating the rule: must have defined wheelSetGaugeTransformationMethod when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:wheelSetGaugeTransformationMethod ?value } .
        # Check if the VehicleType requires defined wheelSetGaugeTransformationMethod when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:WheelchairSleepingPlaces a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelchairSleepingPlaces ;
    era:scope "local" ;

    rdfs:comment "Number of wheelchair accessible sleeping places."@en ;
    # Source: ontology comment for wheelchairSleepingPlaces

    sh:datatype xsd:string ;
    # Source: ontology range indicates it must be a string

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "wheelchairSleepingPlaces: The VehicleType must have at most one wheelchairSleepingPlaces defined as a string."@en ;
    # Inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be a string literal

    sh:path era:wheelchairSleepingPlaces ;

    sh:severity sh:Violation .

era-sh:WheelchairSleepingPlacesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelchairSleepingPlaces ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has a defined number of wheelchair accessible sleeping places."@en ;
    # Source: inferred from context and usage of the property

    sh:message "wheelchairSleepingPlaces: This error is due to the VehicleType violating the rule: must have defined wheelchairSleepingPlaces when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:wheelchairSleepingPlaces ?value } .
        # Check if the VehicleType requires defined wheelchairSleepingPlaces when applicable
    }
    """ ;

    sh:severity sh:Violation .

era-sh:WheelchairSpaces a sh:PropertyShape ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelchairSpaces ;
    era:rinfIndex "4.12.2.2" ;
    era:scope "local" ;

    rdfs:comment "Number of wheelchair spaces."@en ;
    # Source: ontology comment for wheelchairSpaces

    sh:datatype xsd:integer ;
    # Source: ontology range indicates it must be an integer

    sh:maxCount 1 ;
    # Source: ontology declares owl:FunctionalProperty, indicating only one value allowed

    sh:message "wheelchairSpaces: The VehicleType must have at most one wheelchairSpaces defined as an integer."@en ;
    # Inferred from the nature of the property

    sh:nodeKind sh:Literal ;
    # Implied: expected to be an integer literal

    sh:path era:wheelchairSpaces ;

    sh:severity sh:Violation .

era-sh:WheelchairSpacesApplicability a sh:SPARQLConstraint ;
    era:affectedClass era:VehicleType ;
    era:affectedProperty era:wheelchairSpaces ;
    era:scope "local" ;

    rdfs:comment "Applicable when the VehicleType has a defined number of wheelchair spaces."@en ;
    # Source: inferred from context and usage of the property

    sh:message "wheelchairSpaces: This error is due to the VehicleType violating the rule: must have defined wheelchairSpaces when applicable."@en ;

    sh:prefixes era: ;

    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT DISTINCT $this ?vehicleLabel WHERE {
        $this rdfs:label ?vehicleLabel .
        FILTER NOT EXISTS { $this era:wheelchairSpaces ?value } .
        # Check if the VehicleType requires defined wheelchairSpaces when applicable
    }
    """ ;

    sh:severity sh:Violation .